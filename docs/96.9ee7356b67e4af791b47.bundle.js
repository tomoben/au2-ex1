"use strict";(self.webpackChunkau2_ex1=self.webpackChunkau2_ex1||[]).push([[96],{3086:(t,e,s)=>{s.d(e,{Z:()=>d});var a=s(8081),r=s.n(a),i=s(3645),n=s.n(i),o=s(1194),l=n()(r());l.i(o.Z),l.push([t.id,".users-view .header{background-color:#fff;padding:24px 0;z-index:2}.users-view .user-box{cursor:pointer;margin-bottom:20px;text-align:center}.users-view .user-box .login:hover{color:#999}.users-view .user-box .avatar-box .avatar{border-radius:2px;box-shadow:6px 6px 6px #aaa;width:100%}.users-view .scene{perspective:600px}.users-view .scene .card-panel{height:370px;margin-bottom:20px;position:relative;transform-style:preserve-3d;transition-duration:1s;transition-property:transform;width:100%}.users-view .scene .card-panel.is-flipped{transform:rotateY(180deg)}.users-view .scene .card-panel .card{backface-visibility:hidden;border-radius:4px;box-shadow:6px 6px 6px #aaa;height:100%;position:absolute;width:100%}.users-view .scene .card-panel .card.back{background-color:beige;overflow:auto;transform:rotateY(180deg)}.users-view .scene .card-panel .card .card-img-top{border-radius:4px 4px 0 0;height:260px}.users-view .scene .card-panel .card .card-img-overlay{height:40px;padding:5px}.users-view .scene .card-panel .card .card-body .gh-link{font-size:1rem;text-decoration:none}.users-view .scene .card-panel .card .card-body .card-text{font-size:80%;margin-top:8px}.users-view .scene .card-panel .card .card-footer{display:grid;grid-auto-flow:column;margin-bottom:0}.users-view .scene .card-panel .card .card-footer .icon{color:#5858c1;cursor:pointer;justify-self:start}.users-view .scene .card-panel .card .card-footer .user-id{justify-self:end;cursor:default}.users-view .selected-user .avatar-box .avatar{box-shadow:6px 6px 6px #aaa;width:100%}",""]);const d=l},8096:(t,e,s)=>{s.r(e),s.d(e,{Users:()=>rt});var a={};s.r(a),s.d(a,{default:()=>u,dependencies:()=>p,name:()=>d,register:()=>b,template:()=>c});var r={};s.r(r),s.d(r,{UserRepos:()=>g});var i={};s.r(i),s.d(i,{default:()=>y,dependencies:()=>x,name:()=>m,register:()=>U,template:()=>w});var n={};s.r(n),s.d(n,{User:()=>A});var o={};s.r(o),s.d(o,{default:()=>tt,dependencies:()=>et,name:()=>V,register:()=>at,template:()=>X});var l=s(9134);const d="user-repos",c='<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">\n\t<div class="modal-content">\n\t\t<div class="modal-header">\n\t\t\t<h1 class="modal-title fs-5" id="reposModalLabel">Public repositories</h1>\n\t\t\t<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n\t\t</div>\n\t\t<div class="modal-body">\n\t\t\t<div if.bind="!repos?.length" class="d-flex justify-content-center">\n\t\t\t\t<div class="spinner-border" role="status">\n\t\t\t\t\t<span class="visually-hidden">Loading...</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul class="list-group list-group-flush">\n\t\t\t\t<li repeat.for="repo of repos" class="list-group-item">${repo.name}</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="modal-footer">\n\t\t\t<button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>\n\t\t</div>\n\t</div>\n</div>',u=c,p=[];let f;function b(t){f||(f=l.b_N.define({name:d,template:c,dependencies:p})),t.register(f)}s(1932);var h=function(t,e,s,a){var r,i=arguments.length,n=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,a);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(n=(i<3?r(n):i>3?r(e,s,n):r(e,s))||n);return i>3&&n&&Object.defineProperty(e,s,n),n},v=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let g=class{constructor(){}};h([l.ExJ,v("design:type",Array)],g.prototype,"repos",void 0),g=h([(0,l.MoW)(a),v("design:paramtypes",[])],g);const m="user",w='\n\n\x3c!-- <div class="user-box" click.trigger="getUser(user.login)">\n\t<div class="login">${user.login}</div>\n\t<div class="avatar-box">\n\t\t<img class="avatar" src="${user.avatar_url}" alt="">\n\t</div>\n</div> --\x3e\n<div class="scene">\n\t<div element.ref="cardPanel" class="card-panel">\n\t\t<div class="card">\n\t\t\t<img src="${userListItem.avatar_url}" alt="Avatar" class="card-img-top">\n\t\t\t<div class="card-body">\n\t\t\t\t<h5 class="card-title">\n\t\t\t\t\t${userListItem.login}\n\t\t\t\t\t<a class="icon-link gh-link" href="${userListItem.html_url}" data-bs-toggle="tooltip" data-bs-title="User\'s Github page" target="_blank" external><i class="fa-brands fa-github"></i></a>\n\t\t\t\t</h5>\n\t\t\t</div>\n\t\t\t<h5 class="card-footer">\n\t\t\t\t<i class="fa-regular fa-file-text icon card-link" data-bs-toggle="tooltip" data-bs-title="Flip card and show user\'s bio" data-testid="flipToBack" click.trigger="flipClicked($event, true)"></i>\n\t\t\t\t<span class="badge rounded-pill text-bg-dark user-id">${userListItem.id}</span>\n\t\t\t</h5>\n\t\t</div>\n\t\t<div if.bind="!!user" class="card back">\n\t\t\t<div class="card-body">\n\t\t\t\t<h5 class="card-title user-name">${user.name}</h5>\n\t\t\t\t<div if.bind="user.location" class="card-text user-location">${user.location}</div>\n\t\t\t\t<div if.bind="user.bio" class="card-text user-bio">${user.bio}</div>\n\t\t\t\t<div if.bind="user.blog" class="card-text user-blog"><a data-bs-toggle="tooltip" data-bs-title="${user.blog}" href="${user.blog}" target="_blank" external>Blog</a></div>\n\t\t\t\t<div if.bind="user.public_repos" class="card-text user-public-repos">\n\t\t\t\t\tPublic repositories:\n\t\t\t\t\t<a href="" class="link-underline link-underline-opacity-0 link-underline-opacity-75-hover" data-bs-toggle="modal" data-bs-target="#reposModal-${userListItem.id}">${user.public_repos}</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<h5 class="card-footer"><i class="fa-regular fa-id-badge icon card-link" data-bs-toggle="tooltip" data-bs-title="Flip card and show user\'s avatar" data-testid="flipToFront" click.trigger="flipClicked($event, false)"></i></h5>\n\t\t</div>\n\t</div>\n</div>\n\n<div id="reposModal-${userListItem.id}" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" element.ref="reposModal" aria-labelledby="reposModalLabel" aria-hidden="true">\n\t<user-repos if.bind="!!userRepos" repos.bind="userRepos"></user-repos>\n</div>\n',y=w,x=[r];let k;function U(t){k||(k=l.b_N.define({name:m,template:w,dependencies:x})),t.register(k)}var R,$,L,j,P,_,I=s(9344),T=s(3138),S=s(3909),M=function(t,e,s,a){var r,i=arguments.length,n=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,a);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(n=(i<3?r(n):i>3?r(e,s,n):r(e,s))||n);return i>3&&n&&Object.defineProperty(e,s,n),n},E=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},O=function(t,e,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(t):a?a.value:e.get(t)},C=function(t,e,s,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(t,s):r?r.value=s:e.set(t,s),s};let A=class{constructor(t,e){R.add(this),this.ea=t,this.rest=e,$.set(this,"is-flipped"),L.set(this,!1),this.userRepos=[]}created(){this.subscribe()}attached(){C(this,L,!1,"f"),O(this,R,"m",_).call(this),this.reposModal.addEventListener("show.bs.modal",(async t=>{this.userRepos.length||(this.userRepos=await this.rest.getAllUserRepos(this.userListItem.login)),console.log(t)}))}subscribe(){this.ea.subscribe("flipToFront",(()=>{var t;null===(t=this.cardPanel)||void 0===t||t.classList.remove(O(this,$,"f"))}))}publish(t){this.ea.publish("userSelected",t)}async flipClicked(t,e){t.stopPropagation(),T.u.getInstance(t.target).hide(),e&&await O(this,R,"m",j).call(this),O(this,R,"m",P).call(this)}};$=new WeakMap,L=new WeakMap,R=new WeakSet,j=async function(){O(this,L,"f")||(console.log(this.userRepos),this.user=await this.rest.getUser(this.userListItem.login),C(this,L,!0,"f"))},P=function(){var t;null===(t=this.cardPanel)||void 0===t||t.classList.toggle(O(this,$,"f")),O(this,R,"m",_).call(this)},_=function(){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach((t=>new T.u(t)))},M([l.ExJ,E("design:type",Object)],A.prototype,"userListItem",void 0),A=M([(0,l.MoW)(i),(0,I.f3)(I.hS,S.k),E("design:paramtypes",[I.hS,S.k])],A);var F=s(3379),W=s.n(F),Z=s(7795),D=s.n(Z),N=s(569),z=s.n(N),B=s(3565),G=s.n(B),J=s(9216),Y=s.n(J),q=s(4589),H=s.n(q),K=s(3086),Q={};Q.styleTagTransform=H(),Q.setAttributes=G(),Q.insert=z().bind(null,"head"),Q.domAPI=D(),Q.insertStyleElement=Y(),W()(K.Z,Q),K.Z&&K.Z.locals&&K.Z.locals;const V="users",X='\n\n\n<div class="container-fluid users-view" loading.class="isLoading">\n\t<div class="row header position-sticky top-0">\n\t\t<div class="col-md-8">\n\t\t\t<h4>\n\t\t\t\t<span if.bind="firstUser > 0">Showing <span data-testid="usersInPage">${users.length}</span> Github users (ID #<span data-testid="firstUser">${firstUser}</span> to #<span data-testid="lastUser">${lastUser}</span>)</span>\n\t\t\t\t<button class="btn btn-primary" click.trigger="getUsers()">Next</button>\n\t\t\t\t<button class="btn btn-primary" click.trigger="flipUsersToFront()">Show All Avatars</button>\n\t\t\t</h4>\n\t\t</div>\n\t</div>\n\t<section class="row" data-testid="usersSection">\n\t\t<div class="col-4 col-md-3 col-lg-2" repeat.for="user of users">\n\t\t\t<user user-list-item.bind="user" data-testid="user-${user.id}"></user>\n\t\t</div>\n\t</section>\n\t<div class="row" if.bind="!!selectedUser">\n\t\t<div class="col-sm-4">\n\t\t\t<div class="selected-user">\n\t\t\t\t<div class="avatar-box">\n\t\t\t\t\t<img class="avatar" src.bind="selectedUser.avatar_url" alt="">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="col-sm-8">\n\t\t\t<div class="user-name" show.bind="selectedUser.name">${selectedUser.name}</div>\n\t\t\t<div class="user-location" show.bind="selectedUser.location">${selectedUser.location}</div>\n\t\t\t<div class="user-bio" show.bind="selectedUser.bio">${selectedUser.bio}</div>\n\t\t\t<div class="user-blog" show.bind="selectedUser.blog"><a href.bind="selectedUser.blog" target="_blank">${selectedUser.blog}</a></div>\n\t\t</div>\n\t</div>\n</div>\n',tt=X,et=[n];let st;function at(t){st||(st=l.b_N.define({name:V,template:X,dependencies:et})),t.register(st)}let rt=class{constructor(t,e){this.ea=t,this.rest=e,this.users=[],this.firstUser=0,this.lastUser=0,this.isLoading=!0}created(){this.subscribe()}attached(){this.getUsers()}subscribe(){this.ea.subscribe("userSelected",(t=>{this.selectedUser=t}))}async getUsers(){this.isLoading=!0;const t=await this.rest.getUsers(`?since=${this.lastUser}`);this.users=t,this.users.length&&(this.firstUser=this.users[0].id,this.lastUser=this.users[this.users.length-1].id),this.isLoading=!1}flipUsersToFront(){this.ea.publish("flipToFront")}};rt=function(t,e,s,a){var r,i=arguments.length,n=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,a);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(n=(i<3?r(n):i>3?r(e,s,n):r(e,s))||n);return i>3&&n&&Object.defineProperty(e,s,n),n}([(0,l.MoW)(o),(0,I.f3)(I.hS,S.k),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[I.hS,S.k])],rt)}}]);
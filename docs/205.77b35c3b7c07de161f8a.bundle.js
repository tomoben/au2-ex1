"use strict";(self.webpackChunkau2_ex1=self.webpackChunkau2_ex1||[]).push([[205],{3086:(t,e,s)=>{s.d(e,{Z:()=>d});var a=s(8081),r=s.n(a),i=s(3645),n=s.n(i),o=s(1194),l=n()(r());l.i(o.Z),l.push([t.id,".users-view .header{background-color:#fff;padding:24px 0;z-index:2}.users-view .user-box{cursor:pointer;margin-bottom:20px;text-align:center}.users-view .user-box .login:hover{color:#999}.users-view .user-box .avatar-box .avatar{border-radius:2px;box-shadow:6px 6px 6px #aaa;width:100%}.users-view .scene{perspective:600px}.users-view .scene .card-panel{height:370px;margin-bottom:20px;position:relative;transform-style:preserve-3d;transition-duration:1s;transition-property:transform;width:100%}.users-view .scene .card-panel.is-flipped{transform:rotateY(180deg)}.users-view .scene .card-panel .card{backface-visibility:hidden;border-radius:4px;box-shadow:6px 6px 6px #aaa;height:100%;position:absolute;width:100%}.users-view .scene .card-panel .card.back{background-color:beige;overflow:auto;transform:rotateY(180deg)}.users-view .scene .card-panel .card .card-img-top{border-radius:4px 4px 0 0;height:260px}.users-view .scene .card-panel .card .card-img-overlay{height:40px;padding:5px}.users-view .scene .card-panel .card .card-body .gh-link{font-size:1rem;text-decoration:none}.users-view .scene .card-panel .card .card-body .card-text{font-size:80%;margin-top:8px}.users-view .scene .card-panel .card .card-footer{display:grid;grid-auto-flow:column;margin-bottom:0}.users-view .scene .card-panel .card .card-footer .icon{color:#5858c1;cursor:pointer;justify-self:start}.users-view .scene .card-panel .card .card-footer .user-id{justify-self:end;cursor:default}.users-view .modal user-repos repo-list-item .container{padding:0}.users-view .modal user-repos repo-list-item .container .gh-link{font-size:.8rem;text-decoration:none}.users-view .modal user-repos repo-list-item .repo-details{font-size:.8rem;padding-top:8px}.users-view .selected-user .avatar-box .avatar{box-shadow:6px 6px 6px #aaa;width:100%}",""]);const d=l},3205:(t,e,s)=>{s.r(e),s.d(e,{Users:()=>gt});var a={};s.r(a),s.d(a,{default:()=>f,dependencies:()=>b,name:()=>p,register:()=>h,template:()=>u});var r={};s.r(r),s.d(r,{RepoListItem:()=>x});var i={};s.r(i),s.d(i,{default:()=>U,dependencies:()=>$,name:()=>k,register:()=>L,template:()=>R});var n={};s.r(n),s.d(n,{UserRepos:()=>O});var o={};s.r(o),s.d(o,{default:()=>S,dependencies:()=>T,name:()=>E,register:()=>M,template:()=>I});var l={};s.r(l),s.d(l,{User:()=>q});var d={};s.r(d),s.d(d,{default:()=>pt,dependencies:()=>ut,name:()=>dt,register:()=>bt,template:()=>ct});var c=s(9134);const p="repo-list-item",u='<div class="container">\n\t<div class="row">\n\t\t<div class="col">\n\t\t\t${repo.name}\n\t\t\t<a class="icon-link gh-link" href="${repo.html_url}" data-bs-toggle="tooltip" data-bs-title="Repository page" target="_blank" external><i class="fa-brands fa-github"></i></a>\n\t\t</div>\n\t\t<div class="col-2 text-end">\n\t\t\t<i role="button" class="fa-solid fa-chevron-down" data-bs-toggle="collapse" data-bs-target="#repo-${repo.id}"></i>\n\t\t</div>\n\t</div>\n</div>\n\n<div id="repo-${repo.id}" class="collapse repo-details" element.ref="collapse">\n\t<span class="caption fw-semibold">Languages:</span>\n\t<span class="value languages">${languages}</span>\n</div>\n',f=u,b=[];let g;function h(t){g||(g=c.b_N.define({name:p,template:u,dependencies:b})),t.register(g)}var v=s(9344),m=s(3909),w=(s(1932),function(t,e,s,a){var r,i=arguments.length,n=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,a);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(n=(i<3?r(n):i>3?r(e,s,n):r(e,s))||n);return i>3&&n&&Object.defineProperty(e,s,n),n}),y=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let x=class{constructor(t){this.rest=t}attached(){this.collapse.addEventListener("show.bs.collapse",(()=>{void 0===this.languages&&this.getLanguages()}))}async getLanguages(){const t=await this.rest.getUserRepoLanguages(this.user.login,this.repo.name);this.languages=Object.keys(t).sort(((t,e)=>t.toLowerCase().localeCompare(e.toLowerCase()))).join(", ")||"N/A"}};w([c.ExJ,y("design:type",Object)],x.prototype,"user",void 0),w([c.ExJ,y("design:type",Object)],x.prototype,"repo",void 0),x=w([(0,c.MoW)(a),(0,v.f3)(m.k),y("design:paramtypes",[m.k])],x);const k="user-repos",R='\n\n<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">\n\t<div class="modal-content">\n\t\t<div class="modal-header">\n\t\t\t<h1 class="modal-title fs-5" id="reposModalLabel">Public Repositories<span if.bind="repos?.length"> (${repos.length})</span></h1>\n\t\t\t<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n\t\t</div>\n\t\t<div class="modal-body">\n\t\t\t<div if.bind="!repos?.length" class="d-flex justify-content-center">\n\t\t\t\t<div class="spinner-border" role="status">\n\t\t\t\t\t<span class="visually-hidden">Loading...</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul class="list-group list-group-flush">\n\t\t\t\t<li repeat.for="repo of repos" class="list-group-item">\n\t\t\t\t\t<repo-list-item user.bind="user" repo.bind="repo"></repo-list-item>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="modal-footer">\n\t\t\t<button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>\n\t\t</div>\n\t</div>\n</div>',U=R,$=[r];let j;function L(t){j||(j=c.b_N.define({name:k,template:R,dependencies:$})),t.register(j)}var P=function(t,e,s,a){var r,i=arguments.length,n=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,a);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(n=(i<3?r(n):i>3?r(e,s,n):r(e,s))||n);return i>3&&n&&Object.defineProperty(e,s,n),n},_=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let O=class{constructor(){}};P([c.ExJ,_("design:type",Object)],O.prototype,"user",void 0),P([c.ExJ,_("design:type",Array)],O.prototype,"repos",void 0),O=P([(0,c.MoW)(i),_("design:paramtypes",[])],O);const E="user",I='\n\n\x3c!-- <div class="user-box" click.trigger="getUser(user.login)">\n\t<div class="login">${user.login}</div>\n\t<div class="avatar-box">\n\t\t<img class="avatar" src="${user.avatar_url}" alt="">\n\t</div>\n</div> --\x3e\n<div class="scene">\n\t<div element.ref="cardPanel" class="card-panel">\n\t\t<div class="card">\n\t\t\t<img src="${userListItem.avatar_url}" alt="Avatar" class="card-img-top">\n\t\t\t<div class="card-body">\n\t\t\t\t<h5 class="card-title">\n\t\t\t\t\t${userListItem.login}\n\t\t\t\t\t<a class="icon-link gh-link" href="${userListItem.html_url}" data-bs-toggle="tooltip" data-bs-title="User\'s Github page" target="_blank" external><i class="fa-brands fa-github"></i></a>\n\t\t\t\t</h5>\n\t\t\t</div>\n\t\t\t<h5 class="card-footer">\n\t\t\t\t<i class="fa-regular fa-file-text icon card-link" data-bs-toggle="tooltip" data-bs-title="Flip card and show user\'s bio" data-testid="flipToBack" click.trigger="flipClicked($event, true)"></i>\n\t\t\t\t<span class="badge rounded-pill text-bg-dark user-id">${userListItem.id}</span>\n\t\t\t</h5>\n\t\t</div>\n\t\t<div if.bind="!!user" class="card back">\n\t\t\t<div class="card-body">\n\t\t\t\t<h5 class="card-title user-name">${user.name}</h5>\n\t\t\t\t<div if.bind="user.location" class="card-text user-location">${user.location}</div>\n\t\t\t\t<div if.bind="user.bio" class="card-text user-bio">${user.bio}</div>\n\t\t\t\t<div if.bind="user.blog" class="card-text user-blog"><a data-bs-toggle="tooltip" data-bs-title="${user.blog}" href="${user.blog}" target="_blank" external>Blog</a></div>\n\t\t\t\t<div if.bind="user.public_repos" class="card-text user-public-repos">\n\t\t\t\t\tPublic repositories:\n\t\t\t\t\t<span data-bs-toggle="tooltip" data-bs-title="Show list">\n\t\t\t\t\t\t<a if.bind="user.public_repos" href="" class="link-underline link-underline-opacity-0 link-underline-opacity-75-hover" data-bs-toggle="modal" data-bs-target="#reposModal-${userListItem.id}">${user.public_repos}</a>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span else>None</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<h5 class="card-footer"><i class="fa-regular fa-id-badge icon card-link" data-bs-toggle="tooltip" data-bs-title="Flip card and show user\'s avatar" data-testid="flipToFront" click.trigger="flipClicked($event, false)"></i></h5>\n\t\t</div>\n\t</div>\n</div>\n\n<div id="reposModal-${userListItem.id}" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" element.ref="reposModal" aria-labelledby="reposModalLabel" aria-hidden="true">\n\t<user-repos if.bind="!!userRepos" user.bind="user" repos.bind="userRepos"></user-repos>\n</div>\n',S=I,T=[n];let C;function M(t){C||(C=c.b_N.define({name:E,template:I,dependencies:T})),t.register(C)}var A,F,N,W,Z,z,D=s(3138),J=function(t,e,s,a){var r,i=arguments.length,n=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,a);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(n=(i<3?r(n):i>3?r(e,s,n):r(e,s))||n);return i>3&&n&&Object.defineProperty(e,s,n),n},B=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},G=function(t,e,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(t):a?a.value:e.get(t)},Y=function(t,e,s,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(t,s):r?r.value=s:e.set(t,s),s};let q=class{constructor(t,e){A.add(this),this.ea=t,this.rest=e,F.set(this,"is-flipped"),N.set(this,!1),this.userRepos=[]}created(){this.subscribe()}attached(){Y(this,N,!1,"f"),G(this,A,"m",z).call(this),this.reposModal.addEventListener("show.bs.modal",(async t=>{this.userRepos.length||(this.userRepos=await this.rest.getAllUserRepos(this.user.login,this.user.public_repos)),console.log(t)}))}subscribe(){this.ea.subscribe("flipToFront",(()=>{var t;null===(t=this.cardPanel)||void 0===t||t.classList.remove(G(this,F,"f"))}))}publish(t){this.ea.publish("userSelected",t)}async flipClicked(t,e){t.stopPropagation(),D.u.getInstance(t.target).hide(),e&&await G(this,A,"m",W).call(this),G(this,A,"m",Z).call(this)}};F=new WeakMap,N=new WeakMap,A=new WeakSet,W=async function(){G(this,N,"f")||(console.log(this.userRepos),this.user=await this.rest.getUser(this.userListItem.login),Y(this,N,!0,"f"))},Z=function(){var t;null===(t=this.cardPanel)||void 0===t||t.classList.toggle(G(this,F,"f")),G(this,A,"m",z).call(this)},z=function(){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach((t=>new D.u(t)))},J([c.ExJ,B("design:type",Object)],q.prototype,"userListItem",void 0),q=J([(0,c.MoW)(o),(0,v.f3)(v.hS,m.k),B("design:paramtypes",[v.hS,m.k])],q);var H=s(3379),K=s.n(H),Q=s(7795),V=s.n(Q),X=s(569),tt=s.n(X),et=s(3565),st=s.n(et),at=s(9216),rt=s.n(at),it=s(4589),nt=s.n(it),ot=s(3086),lt={};lt.styleTagTransform=nt(),lt.setAttributes=st(),lt.insert=tt().bind(null,"head"),lt.domAPI=V(),lt.insertStyleElement=rt(),K()(ot.Z,lt),ot.Z&&ot.Z.locals&&ot.Z.locals;const dt="users",ct='\n\n\n<div class="container-fluid users-view" loading.class="isLoading">\n\t<div class="row header position-sticky top-0">\n\t\t<div class="col-md-8">\n\t\t\t<h4>\n\t\t\t\t<span if.bind="firstUser > 0">Showing <span data-testid="usersInPage">${users.length}</span> Github users (ID #<span data-testid="firstUser">${firstUser}</span> to #<span data-testid="lastUser">${lastUser}</span>)</span>\n\t\t\t\t<button class="btn btn-primary" click.trigger="getUsers()">Next</button>\n\t\t\t\t<button class="btn btn-primary" click.trigger="flipUsersToFront()">Show All Avatars</button>\n\t\t\t</h4>\n\t\t</div>\n\t</div>\n\t<section class="row" data-testid="usersSection">\n\t\t<div class="col-4 col-md-3 col-lg-2" repeat.for="user of users">\n\t\t\t<user user-list-item.bind="user" data-testid="user-${user.id}"></user>\n\t\t</div>\n\t</section>\n\t<div class="row" if.bind="!!selectedUser">\n\t\t<div class="col-sm-4">\n\t\t\t<div class="selected-user">\n\t\t\t\t<div class="avatar-box">\n\t\t\t\t\t<img class="avatar" src.bind="selectedUser.avatar_url" alt="">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="col-sm-8">\n\t\t\t<div class="user-name" show.bind="selectedUser.name">${selectedUser.name}</div>\n\t\t\t<div class="user-location" show.bind="selectedUser.location">${selectedUser.location}</div>\n\t\t\t<div class="user-bio" show.bind="selectedUser.bio">${selectedUser.bio}</div>\n\t\t\t<div class="user-blog" show.bind="selectedUser.blog"><a href.bind="selectedUser.blog" target="_blank">${selectedUser.blog}</a></div>\n\t\t</div>\n\t</div>\n</div>\n',pt=ct,ut=[l];let ft;function bt(t){ft||(ft=c.b_N.define({name:dt,template:ct,dependencies:ut})),t.register(ft)}let gt=class{constructor(t,e){this.ea=t,this.rest=e,this.users=[],this.firstUser=0,this.lastUser=0,this.isLoading=!0}created(){this.subscribe()}attached(){this.getUsers()}subscribe(){this.ea.subscribe("userSelected",(t=>{this.selectedUser=t}))}async getUsers(){this.isLoading=!0;const t=await this.rest.getUsers(`?since=${this.lastUser}`);this.users=t,this.users.length&&(this.firstUser=this.users[0].id,this.lastUser=this.users[this.users.length-1].id),this.isLoading=!1}flipUsersToFront(){this.ea.publish("flipToFront")}};gt=function(t,e,s,a){var r,i=arguments.length,n=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,a);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(n=(i<3?r(n):i>3?r(e,s,n):r(e,s))||n);return i>3&&n&&Object.defineProperty(e,s,n),n}([(0,c.MoW)(d),(0,v.f3)(v.hS,m.k),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[v.hS,m.k])],gt)}}]);
(()=>{"use strict";var t={697:(t,e,n)=>{n.d(e,{Z:()=>C});var s=n(81),i=n.n(s),r=n(645),o=n.n(r),a=n(667),c=n.n(a),h=new URL(n(462),n.b),l=new URL(n(526),n.b),u=new URL(n(306),n.b),f=new URL(n(686),n.b),d=new URL(n(318),n.b),p=new URL(n(819),n.b),g=o()(i()),m=c()(h),v=c()(l,{hash:"?#iefix&v=4.7.0"}),b=c()(u),w=c()(f),y=c()(d),k=c()(p,{hash:"#fontawesomeregular"});g.push([t.id,`/*!\n *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */\n/* FONT PATH\n * -------------------------- */\n@font-face {\n  font-family: 'FontAwesome';\n  src: url(${m});\n  src: url(${v}) format('embedded-opentype'), url(${b}) format('woff2'), url(${w}) format('woff'), url(${y}) format('truetype'), url(${k}) format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n.fa {\n  display: inline-block;\n  font: normal normal normal 14px/1 FontAwesome;\n  font-size: inherit;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n/* makes the font 33% larger relative to the icon container */\n.fa-lg {\n  font-size: 1.33333333em;\n  line-height: 0.75em;\n  vertical-align: -15%;\n}\n.fa-2x {\n  font-size: 2em;\n}\n.fa-3x {\n  font-size: 3em;\n}\n.fa-4x {\n  font-size: 4em;\n}\n.fa-5x {\n  font-size: 5em;\n}\n.fa-fw {\n  width: 1.28571429em;\n  text-align: center;\n}\n.fa-ul {\n  padding-left: 0;\n  margin-left: 2.14285714em;\n  list-style-type: none;\n}\n.fa-ul > li {\n  position: relative;\n}\n.fa-li {\n  position: absolute;\n  left: -2.14285714em;\n  width: 2.14285714em;\n  top: 0.14285714em;\n  text-align: center;\n}\n.fa-li.fa-lg {\n  left: -1.85714286em;\n}\n.fa-border {\n  padding: 0.2em 0.25em 0.15em;\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n}\n.fa-pull-left {\n  float: left;\n}\n.fa-pull-right {\n  float: right;\n}\n.fa.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right {\n  margin-left: 0.3em;\n}\n/* Deprecated as of 4.4.0 */\n.pull-right {\n  float: right;\n}\n.pull-left {\n  float: left;\n}\n.fa.pull-left {\n  margin-right: 0.3em;\n}\n.fa.pull-right {\n  margin-left: 0.3em;\n}\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n  animation: fa-spin 2s infinite linear;\n}\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n  animation: fa-spin 1s infinite steps(8);\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n  -ms-transform: scale(-1, 1);\n  transform: scale(-1, 1);\n}\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n  -ms-transform: scale(1, -1);\n  transform: scale(1, -1);\n}\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  filter: none;\n}\n.fa-stack {\n  position: relative;\n  display: inline-block;\n  width: 2em;\n  height: 2em;\n  line-height: 2em;\n  vertical-align: middle;\n}\n.fa-stack-1x,\n.fa-stack-2x {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.fa-stack-1x {\n  line-height: inherit;\n}\n.fa-stack-2x {\n  font-size: 2em;\n}\n.fa-inverse {\n  color: #fff;\n}\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\n   readers do not read off random characters that represent icons */\n.fa-glass:before {\n  content: "\\f000";\n}\n.fa-music:before {\n  content: "\\f001";\n}\n.fa-search:before {\n  content: "\\f002";\n}\n.fa-envelope-o:before {\n  content: "\\f003";\n}\n.fa-heart:before {\n  content: "\\f004";\n}\n.fa-star:before {\n  content: "\\f005";\n}\n.fa-star-o:before {\n  content: "\\f006";\n}\n.fa-user:before {\n  content: "\\f007";\n}\n.fa-film:before {\n  content: "\\f008";\n}\n.fa-th-large:before {\n  content: "\\f009";\n}\n.fa-th:before {\n  content: "\\f00a";\n}\n.fa-th-list:before {\n  content: "\\f00b";\n}\n.fa-check:before {\n  content: "\\f00c";\n}\n.fa-remove:before,\n.fa-close:before,\n.fa-times:before {\n  content: "\\f00d";\n}\n.fa-search-plus:before {\n  content: "\\f00e";\n}\n.fa-search-minus:before {\n  content: "\\f010";\n}\n.fa-power-off:before {\n  content: "\\f011";\n}\n.fa-signal:before {\n  content: "\\f012";\n}\n.fa-gear:before,\n.fa-cog:before {\n  content: "\\f013";\n}\n.fa-trash-o:before {\n  content: "\\f014";\n}\n.fa-home:before {\n  content: "\\f015";\n}\n.fa-file-o:before {\n  content: "\\f016";\n}\n.fa-clock-o:before {\n  content: "\\f017";\n}\n.fa-road:before {\n  content: "\\f018";\n}\n.fa-download:before {\n  content: "\\f019";\n}\n.fa-arrow-circle-o-down:before {\n  content: "\\f01a";\n}\n.fa-arrow-circle-o-up:before {\n  content: "\\f01b";\n}\n.fa-inbox:before {\n  content: "\\f01c";\n}\n.fa-play-circle-o:before {\n  content: "\\f01d";\n}\n.fa-rotate-right:before,\n.fa-repeat:before {\n  content: "\\f01e";\n}\n.fa-refresh:before {\n  content: "\\f021";\n}\n.fa-list-alt:before {\n  content: "\\f022";\n}\n.fa-lock:before {\n  content: "\\f023";\n}\n.fa-flag:before {\n  content: "\\f024";\n}\n.fa-headphones:before {\n  content: "\\f025";\n}\n.fa-volume-off:before {\n  content: "\\f026";\n}\n.fa-volume-down:before {\n  content: "\\f027";\n}\n.fa-volume-up:before {\n  content: "\\f028";\n}\n.fa-qrcode:before {\n  content: "\\f029";\n}\n.fa-barcode:before {\n  content: "\\f02a";\n}\n.fa-tag:before {\n  content: "\\f02b";\n}\n.fa-tags:before {\n  content: "\\f02c";\n}\n.fa-book:before {\n  content: "\\f02d";\n}\n.fa-bookmark:before {\n  content: "\\f02e";\n}\n.fa-print:before {\n  content: "\\f02f";\n}\n.fa-camera:before {\n  content: "\\f030";\n}\n.fa-font:before {\n  content: "\\f031";\n}\n.fa-bold:before {\n  content: "\\f032";\n}\n.fa-italic:before {\n  content: "\\f033";\n}\n.fa-text-height:before {\n  content: "\\f034";\n}\n.fa-text-width:before {\n  content: "\\f035";\n}\n.fa-align-left:before {\n  content: "\\f036";\n}\n.fa-align-center:before {\n  content: "\\f037";\n}\n.fa-align-right:before {\n  content: "\\f038";\n}\n.fa-align-justify:before {\n  content: "\\f039";\n}\n.fa-list:before {\n  content: "\\f03a";\n}\n.fa-dedent:before,\n.fa-outdent:before {\n  content: "\\f03b";\n}\n.fa-indent:before {\n  content: "\\f03c";\n}\n.fa-video-camera:before {\n  content: "\\f03d";\n}\n.fa-photo:before,\n.fa-image:before,\n.fa-picture-o:before {\n  content: "\\f03e";\n}\n.fa-pencil:before {\n  content: "\\f040";\n}\n.fa-map-marker:before {\n  content: "\\f041";\n}\n.fa-adjust:before {\n  content: "\\f042";\n}\n.fa-tint:before {\n  content: "\\f043";\n}\n.fa-edit:before,\n.fa-pencil-square-o:before {\n  content: "\\f044";\n}\n.fa-share-square-o:before {\n  content: "\\f045";\n}\n.fa-check-square-o:before {\n  content: "\\f046";\n}\n.fa-arrows:before {\n  content: "\\f047";\n}\n.fa-step-backward:before {\n  content: "\\f048";\n}\n.fa-fast-backward:before {\n  content: "\\f049";\n}\n.fa-backward:before {\n  content: "\\f04a";\n}\n.fa-play:before {\n  content: "\\f04b";\n}\n.fa-pause:before {\n  content: "\\f04c";\n}\n.fa-stop:before {\n  content: "\\f04d";\n}\n.fa-forward:before {\n  content: "\\f04e";\n}\n.fa-fast-forward:before {\n  content: "\\f050";\n}\n.fa-step-forward:before {\n  content: "\\f051";\n}\n.fa-eject:before {\n  content: "\\f052";\n}\n.fa-chevron-left:before {\n  content: "\\f053";\n}\n.fa-chevron-right:before {\n  content: "\\f054";\n}\n.fa-plus-circle:before {\n  content: "\\f055";\n}\n.fa-minus-circle:before {\n  content: "\\f056";\n}\n.fa-times-circle:before {\n  content: "\\f057";\n}\n.fa-check-circle:before {\n  content: "\\f058";\n}\n.fa-question-circle:before {\n  content: "\\f059";\n}\n.fa-info-circle:before {\n  content: "\\f05a";\n}\n.fa-crosshairs:before {\n  content: "\\f05b";\n}\n.fa-times-circle-o:before {\n  content: "\\f05c";\n}\n.fa-check-circle-o:before {\n  content: "\\f05d";\n}\n.fa-ban:before {\n  content: "\\f05e";\n}\n.fa-arrow-left:before {\n  content: "\\f060";\n}\n.fa-arrow-right:before {\n  content: "\\f061";\n}\n.fa-arrow-up:before {\n  content: "\\f062";\n}\n.fa-arrow-down:before {\n  content: "\\f063";\n}\n.fa-mail-forward:before,\n.fa-share:before {\n  content: "\\f064";\n}\n.fa-expand:before {\n  content: "\\f065";\n}\n.fa-compress:before {\n  content: "\\f066";\n}\n.fa-plus:before {\n  content: "\\f067";\n}\n.fa-minus:before {\n  content: "\\f068";\n}\n.fa-asterisk:before {\n  content: "\\f069";\n}\n.fa-exclamation-circle:before {\n  content: "\\f06a";\n}\n.fa-gift:before {\n  content: "\\f06b";\n}\n.fa-leaf:before {\n  content: "\\f06c";\n}\n.fa-fire:before {\n  content: "\\f06d";\n}\n.fa-eye:before {\n  content: "\\f06e";\n}\n.fa-eye-slash:before {\n  content: "\\f070";\n}\n.fa-warning:before,\n.fa-exclamation-triangle:before {\n  content: "\\f071";\n}\n.fa-plane:before {\n  content: "\\f072";\n}\n.fa-calendar:before {\n  content: "\\f073";\n}\n.fa-random:before {\n  content: "\\f074";\n}\n.fa-comment:before {\n  content: "\\f075";\n}\n.fa-magnet:before {\n  content: "\\f076";\n}\n.fa-chevron-up:before {\n  content: "\\f077";\n}\n.fa-chevron-down:before {\n  content: "\\f078";\n}\n.fa-retweet:before {\n  content: "\\f079";\n}\n.fa-shopping-cart:before {\n  content: "\\f07a";\n}\n.fa-folder:before {\n  content: "\\f07b";\n}\n.fa-folder-open:before {\n  content: "\\f07c";\n}\n.fa-arrows-v:before {\n  content: "\\f07d";\n}\n.fa-arrows-h:before {\n  content: "\\f07e";\n}\n.fa-bar-chart-o:before,\n.fa-bar-chart:before {\n  content: "\\f080";\n}\n.fa-twitter-square:before {\n  content: "\\f081";\n}\n.fa-facebook-square:before {\n  content: "\\f082";\n}\n.fa-camera-retro:before {\n  content: "\\f083";\n}\n.fa-key:before {\n  content: "\\f084";\n}\n.fa-gears:before,\n.fa-cogs:before {\n  content: "\\f085";\n}\n.fa-comments:before {\n  content: "\\f086";\n}\n.fa-thumbs-o-up:before {\n  content: "\\f087";\n}\n.fa-thumbs-o-down:before {\n  content: "\\f088";\n}\n.fa-star-half:before {\n  content: "\\f089";\n}\n.fa-heart-o:before {\n  content: "\\f08a";\n}\n.fa-sign-out:before {\n  content: "\\f08b";\n}\n.fa-linkedin-square:before {\n  content: "\\f08c";\n}\n.fa-thumb-tack:before {\n  content: "\\f08d";\n}\n.fa-external-link:before {\n  content: "\\f08e";\n}\n.fa-sign-in:before {\n  content: "\\f090";\n}\n.fa-trophy:before {\n  content: "\\f091";\n}\n.fa-github-square:before {\n  content: "\\f092";\n}\n.fa-upload:before {\n  content: "\\f093";\n}\n.fa-lemon-o:before {\n  content: "\\f094";\n}\n.fa-phone:before {\n  content: "\\f095";\n}\n.fa-square-o:before {\n  content: "\\f096";\n}\n.fa-bookmark-o:before {\n  content: "\\f097";\n}\n.fa-phone-square:before {\n  content: "\\f098";\n}\n.fa-twitter:before {\n  content: "\\f099";\n}\n.fa-facebook-f:before,\n.fa-facebook:before {\n  content: "\\f09a";\n}\n.fa-github:before {\n  content: "\\f09b";\n}\n.fa-unlock:before {\n  content: "\\f09c";\n}\n.fa-credit-card:before {\n  content: "\\f09d";\n}\n.fa-feed:before,\n.fa-rss:before {\n  content: "\\f09e";\n}\n.fa-hdd-o:before {\n  content: "\\f0a0";\n}\n.fa-bullhorn:before {\n  content: "\\f0a1";\n}\n.fa-bell:before {\n  content: "\\f0f3";\n}\n.fa-certificate:before {\n  content: "\\f0a3";\n}\n.fa-hand-o-right:before {\n  content: "\\f0a4";\n}\n.fa-hand-o-left:before {\n  content: "\\f0a5";\n}\n.fa-hand-o-up:before {\n  content: "\\f0a6";\n}\n.fa-hand-o-down:before {\n  content: "\\f0a7";\n}\n.fa-arrow-circle-left:before {\n  content: "\\f0a8";\n}\n.fa-arrow-circle-right:before {\n  content: "\\f0a9";\n}\n.fa-arrow-circle-up:before {\n  content: "\\f0aa";\n}\n.fa-arrow-circle-down:before {\n  content: "\\f0ab";\n}\n.fa-globe:before {\n  content: "\\f0ac";\n}\n.fa-wrench:before {\n  content: "\\f0ad";\n}\n.fa-tasks:before {\n  content: "\\f0ae";\n}\n.fa-filter:before {\n  content: "\\f0b0";\n}\n.fa-briefcase:before {\n  content: "\\f0b1";\n}\n.fa-arrows-alt:before {\n  content: "\\f0b2";\n}\n.fa-group:before,\n.fa-users:before {\n  content: "\\f0c0";\n}\n.fa-chain:before,\n.fa-link:before {\n  content: "\\f0c1";\n}\n.fa-cloud:before {\n  content: "\\f0c2";\n}\n.fa-flask:before {\n  content: "\\f0c3";\n}\n.fa-cut:before,\n.fa-scissors:before {\n  content: "\\f0c4";\n}\n.fa-copy:before,\n.fa-files-o:before {\n  content: "\\f0c5";\n}\n.fa-paperclip:before {\n  content: "\\f0c6";\n}\n.fa-save:before,\n.fa-floppy-o:before {\n  content: "\\f0c7";\n}\n.fa-square:before {\n  content: "\\f0c8";\n}\n.fa-navicon:before,\n.fa-reorder:before,\n.fa-bars:before {\n  content: "\\f0c9";\n}\n.fa-list-ul:before {\n  content: "\\f0ca";\n}\n.fa-list-ol:before {\n  content: "\\f0cb";\n}\n.fa-strikethrough:before {\n  content: "\\f0cc";\n}\n.fa-underline:before {\n  content: "\\f0cd";\n}\n.fa-table:before {\n  content: "\\f0ce";\n}\n.fa-magic:before {\n  content: "\\f0d0";\n}\n.fa-truck:before {\n  content: "\\f0d1";\n}\n.fa-pinterest:before {\n  content: "\\f0d2";\n}\n.fa-pinterest-square:before {\n  content: "\\f0d3";\n}\n.fa-google-plus-square:before {\n  content: "\\f0d4";\n}\n.fa-google-plus:before {\n  content: "\\f0d5";\n}\n.fa-money:before {\n  content: "\\f0d6";\n}\n.fa-caret-down:before {\n  content: "\\f0d7";\n}\n.fa-caret-up:before {\n  content: "\\f0d8";\n}\n.fa-caret-left:before {\n  content: "\\f0d9";\n}\n.fa-caret-right:before {\n  content: "\\f0da";\n}\n.fa-columns:before {\n  content: "\\f0db";\n}\n.fa-unsorted:before,\n.fa-sort:before {\n  content: "\\f0dc";\n}\n.fa-sort-down:before,\n.fa-sort-desc:before {\n  content: "\\f0dd";\n}\n.fa-sort-up:before,\n.fa-sort-asc:before {\n  content: "\\f0de";\n}\n.fa-envelope:before {\n  content: "\\f0e0";\n}\n.fa-linkedin:before {\n  content: "\\f0e1";\n}\n.fa-rotate-left:before,\n.fa-undo:before {\n  content: "\\f0e2";\n}\n.fa-legal:before,\n.fa-gavel:before {\n  content: "\\f0e3";\n}\n.fa-dashboard:before,\n.fa-tachometer:before {\n  content: "\\f0e4";\n}\n.fa-comment-o:before {\n  content: "\\f0e5";\n}\n.fa-comments-o:before {\n  content: "\\f0e6";\n}\n.fa-flash:before,\n.fa-bolt:before {\n  content: "\\f0e7";\n}\n.fa-sitemap:before {\n  content: "\\f0e8";\n}\n.fa-umbrella:before {\n  content: "\\f0e9";\n}\n.fa-paste:before,\n.fa-clipboard:before {\n  content: "\\f0ea";\n}\n.fa-lightbulb-o:before {\n  content: "\\f0eb";\n}\n.fa-exchange:before {\n  content: "\\f0ec";\n}\n.fa-cloud-download:before {\n  content: "\\f0ed";\n}\n.fa-cloud-upload:before {\n  content: "\\f0ee";\n}\n.fa-user-md:before {\n  content: "\\f0f0";\n}\n.fa-stethoscope:before {\n  content: "\\f0f1";\n}\n.fa-suitcase:before {\n  content: "\\f0f2";\n}\n.fa-bell-o:before {\n  content: "\\f0a2";\n}\n.fa-coffee:before {\n  content: "\\f0f4";\n}\n.fa-cutlery:before {\n  content: "\\f0f5";\n}\n.fa-file-text-o:before {\n  content: "\\f0f6";\n}\n.fa-building-o:before {\n  content: "\\f0f7";\n}\n.fa-hospital-o:before {\n  content: "\\f0f8";\n}\n.fa-ambulance:before {\n  content: "\\f0f9";\n}\n.fa-medkit:before {\n  content: "\\f0fa";\n}\n.fa-fighter-jet:before {\n  content: "\\f0fb";\n}\n.fa-beer:before {\n  content: "\\f0fc";\n}\n.fa-h-square:before {\n  content: "\\f0fd";\n}\n.fa-plus-square:before {\n  content: "\\f0fe";\n}\n.fa-angle-double-left:before {\n  content: "\\f100";\n}\n.fa-angle-double-right:before {\n  content: "\\f101";\n}\n.fa-angle-double-up:before {\n  content: "\\f102";\n}\n.fa-angle-double-down:before {\n  content: "\\f103";\n}\n.fa-angle-left:before {\n  content: "\\f104";\n}\n.fa-angle-right:before {\n  content: "\\f105";\n}\n.fa-angle-up:before {\n  content: "\\f106";\n}\n.fa-angle-down:before {\n  content: "\\f107";\n}\n.fa-desktop:before {\n  content: "\\f108";\n}\n.fa-laptop:before {\n  content: "\\f109";\n}\n.fa-tablet:before {\n  content: "\\f10a";\n}\n.fa-mobile-phone:before,\n.fa-mobile:before {\n  content: "\\f10b";\n}\n.fa-circle-o:before {\n  content: "\\f10c";\n}\n.fa-quote-left:before {\n  content: "\\f10d";\n}\n.fa-quote-right:before {\n  content: "\\f10e";\n}\n.fa-spinner:before {\n  content: "\\f110";\n}\n.fa-circle:before {\n  content: "\\f111";\n}\n.fa-mail-reply:before,\n.fa-reply:before {\n  content: "\\f112";\n}\n.fa-github-alt:before {\n  content: "\\f113";\n}\n.fa-folder-o:before {\n  content: "\\f114";\n}\n.fa-folder-open-o:before {\n  content: "\\f115";\n}\n.fa-smile-o:before {\n  content: "\\f118";\n}\n.fa-frown-o:before {\n  content: "\\f119";\n}\n.fa-meh-o:before {\n  content: "\\f11a";\n}\n.fa-gamepad:before {\n  content: "\\f11b";\n}\n.fa-keyboard-o:before {\n  content: "\\f11c";\n}\n.fa-flag-o:before {\n  content: "\\f11d";\n}\n.fa-flag-checkered:before {\n  content: "\\f11e";\n}\n.fa-terminal:before {\n  content: "\\f120";\n}\n.fa-code:before {\n  content: "\\f121";\n}\n.fa-mail-reply-all:before,\n.fa-reply-all:before {\n  content: "\\f122";\n}\n.fa-star-half-empty:before,\n.fa-star-half-full:before,\n.fa-star-half-o:before {\n  content: "\\f123";\n}\n.fa-location-arrow:before {\n  content: "\\f124";\n}\n.fa-crop:before {\n  content: "\\f125";\n}\n.fa-code-fork:before {\n  content: "\\f126";\n}\n.fa-unlink:before,\n.fa-chain-broken:before {\n  content: "\\f127";\n}\n.fa-question:before {\n  content: "\\f128";\n}\n.fa-info:before {\n  content: "\\f129";\n}\n.fa-exclamation:before {\n  content: "\\f12a";\n}\n.fa-superscript:before {\n  content: "\\f12b";\n}\n.fa-subscript:before {\n  content: "\\f12c";\n}\n.fa-eraser:before {\n  content: "\\f12d";\n}\n.fa-puzzle-piece:before {\n  content: "\\f12e";\n}\n.fa-microphone:before {\n  content: "\\f130";\n}\n.fa-microphone-slash:before {\n  content: "\\f131";\n}\n.fa-shield:before {\n  content: "\\f132";\n}\n.fa-calendar-o:before {\n  content: "\\f133";\n}\n.fa-fire-extinguisher:before {\n  content: "\\f134";\n}\n.fa-rocket:before {\n  content: "\\f135";\n}\n.fa-maxcdn:before {\n  content: "\\f136";\n}\n.fa-chevron-circle-left:before {\n  content: "\\f137";\n}\n.fa-chevron-circle-right:before {\n  content: "\\f138";\n}\n.fa-chevron-circle-up:before {\n  content: "\\f139";\n}\n.fa-chevron-circle-down:before {\n  content: "\\f13a";\n}\n.fa-html5:before {\n  content: "\\f13b";\n}\n.fa-css3:before {\n  content: "\\f13c";\n}\n.fa-anchor:before {\n  content: "\\f13d";\n}\n.fa-unlock-alt:before {\n  content: "\\f13e";\n}\n.fa-bullseye:before {\n  content: "\\f140";\n}\n.fa-ellipsis-h:before {\n  content: "\\f141";\n}\n.fa-ellipsis-v:before {\n  content: "\\f142";\n}\n.fa-rss-square:before {\n  content: "\\f143";\n}\n.fa-play-circle:before {\n  content: "\\f144";\n}\n.fa-ticket:before {\n  content: "\\f145";\n}\n.fa-minus-square:before {\n  content: "\\f146";\n}\n.fa-minus-square-o:before {\n  content: "\\f147";\n}\n.fa-level-up:before {\n  content: "\\f148";\n}\n.fa-level-down:before {\n  content: "\\f149";\n}\n.fa-check-square:before {\n  content: "\\f14a";\n}\n.fa-pencil-square:before {\n  content: "\\f14b";\n}\n.fa-external-link-square:before {\n  content: "\\f14c";\n}\n.fa-share-square:before {\n  content: "\\f14d";\n}\n.fa-compass:before {\n  content: "\\f14e";\n}\n.fa-toggle-down:before,\n.fa-caret-square-o-down:before {\n  content: "\\f150";\n}\n.fa-toggle-up:before,\n.fa-caret-square-o-up:before {\n  content: "\\f151";\n}\n.fa-toggle-right:before,\n.fa-caret-square-o-right:before {\n  content: "\\f152";\n}\n.fa-euro:before,\n.fa-eur:before {\n  content: "\\f153";\n}\n.fa-gbp:before {\n  content: "\\f154";\n}\n.fa-dollar:before,\n.fa-usd:before {\n  content: "\\f155";\n}\n.fa-rupee:before,\n.fa-inr:before {\n  content: "\\f156";\n}\n.fa-cny:before,\n.fa-rmb:before,\n.fa-yen:before,\n.fa-jpy:before {\n  content: "\\f157";\n}\n.fa-ruble:before,\n.fa-rouble:before,\n.fa-rub:before {\n  content: "\\f158";\n}\n.fa-won:before,\n.fa-krw:before {\n  content: "\\f159";\n}\n.fa-bitcoin:before,\n.fa-btc:before {\n  content: "\\f15a";\n}\n.fa-file:before {\n  content: "\\f15b";\n}\n.fa-file-text:before {\n  content: "\\f15c";\n}\n.fa-sort-alpha-asc:before {\n  content: "\\f15d";\n}\n.fa-sort-alpha-desc:before {\n  content: "\\f15e";\n}\n.fa-sort-amount-asc:before {\n  content: "\\f160";\n}\n.fa-sort-amount-desc:before {\n  content: "\\f161";\n}\n.fa-sort-numeric-asc:before {\n  content: "\\f162";\n}\n.fa-sort-numeric-desc:before {\n  content: "\\f163";\n}\n.fa-thumbs-up:before {\n  content: "\\f164";\n}\n.fa-thumbs-down:before {\n  content: "\\f165";\n}\n.fa-youtube-square:before {\n  content: "\\f166";\n}\n.fa-youtube:before {\n  content: "\\f167";\n}\n.fa-xing:before {\n  content: "\\f168";\n}\n.fa-xing-square:before {\n  content: "\\f169";\n}\n.fa-youtube-play:before {\n  content: "\\f16a";\n}\n.fa-dropbox:before {\n  content: "\\f16b";\n}\n.fa-stack-overflow:before {\n  content: "\\f16c";\n}\n.fa-instagram:before {\n  content: "\\f16d";\n}\n.fa-flickr:before {\n  content: "\\f16e";\n}\n.fa-adn:before {\n  content: "\\f170";\n}\n.fa-bitbucket:before {\n  content: "\\f171";\n}\n.fa-bitbucket-square:before {\n  content: "\\f172";\n}\n.fa-tumblr:before {\n  content: "\\f173";\n}\n.fa-tumblr-square:before {\n  content: "\\f174";\n}\n.fa-long-arrow-down:before {\n  content: "\\f175";\n}\n.fa-long-arrow-up:before {\n  content: "\\f176";\n}\n.fa-long-arrow-left:before {\n  content: "\\f177";\n}\n.fa-long-arrow-right:before {\n  content: "\\f178";\n}\n.fa-apple:before {\n  content: "\\f179";\n}\n.fa-windows:before {\n  content: "\\f17a";\n}\n.fa-android:before {\n  content: "\\f17b";\n}\n.fa-linux:before {\n  content: "\\f17c";\n}\n.fa-dribbble:before {\n  content: "\\f17d";\n}\n.fa-skype:before {\n  content: "\\f17e";\n}\n.fa-foursquare:before {\n  content: "\\f180";\n}\n.fa-trello:before {\n  content: "\\f181";\n}\n.fa-female:before {\n  content: "\\f182";\n}\n.fa-male:before {\n  content: "\\f183";\n}\n.fa-gittip:before,\n.fa-gratipay:before {\n  content: "\\f184";\n}\n.fa-sun-o:before {\n  content: "\\f185";\n}\n.fa-moon-o:before {\n  content: "\\f186";\n}\n.fa-archive:before {\n  content: "\\f187";\n}\n.fa-bug:before {\n  content: "\\f188";\n}\n.fa-vk:before {\n  content: "\\f189";\n}\n.fa-weibo:before {\n  content: "\\f18a";\n}\n.fa-renren:before {\n  content: "\\f18b";\n}\n.fa-pagelines:before {\n  content: "\\f18c";\n}\n.fa-stack-exchange:before {\n  content: "\\f18d";\n}\n.fa-arrow-circle-o-right:before {\n  content: "\\f18e";\n}\n.fa-arrow-circle-o-left:before {\n  content: "\\f190";\n}\n.fa-toggle-left:before,\n.fa-caret-square-o-left:before {\n  content: "\\f191";\n}\n.fa-dot-circle-o:before {\n  content: "\\f192";\n}\n.fa-wheelchair:before {\n  content: "\\f193";\n}\n.fa-vimeo-square:before {\n  content: "\\f194";\n}\n.fa-turkish-lira:before,\n.fa-try:before {\n  content: "\\f195";\n}\n.fa-plus-square-o:before {\n  content: "\\f196";\n}\n.fa-space-shuttle:before {\n  content: "\\f197";\n}\n.fa-slack:before {\n  content: "\\f198";\n}\n.fa-envelope-square:before {\n  content: "\\f199";\n}\n.fa-wordpress:before {\n  content: "\\f19a";\n}\n.fa-openid:before {\n  content: "\\f19b";\n}\n.fa-institution:before,\n.fa-bank:before,\n.fa-university:before {\n  content: "\\f19c";\n}\n.fa-mortar-board:before,\n.fa-graduation-cap:before {\n  content: "\\f19d";\n}\n.fa-yahoo:before {\n  content: "\\f19e";\n}\n.fa-google:before {\n  content: "\\f1a0";\n}\n.fa-reddit:before {\n  content: "\\f1a1";\n}\n.fa-reddit-square:before {\n  content: "\\f1a2";\n}\n.fa-stumbleupon-circle:before {\n  content: "\\f1a3";\n}\n.fa-stumbleupon:before {\n  content: "\\f1a4";\n}\n.fa-delicious:before {\n  content: "\\f1a5";\n}\n.fa-digg:before {\n  content: "\\f1a6";\n}\n.fa-pied-piper-pp:before {\n  content: "\\f1a7";\n}\n.fa-pied-piper-alt:before {\n  content: "\\f1a8";\n}\n.fa-drupal:before {\n  content: "\\f1a9";\n}\n.fa-joomla:before {\n  content: "\\f1aa";\n}\n.fa-language:before {\n  content: "\\f1ab";\n}\n.fa-fax:before {\n  content: "\\f1ac";\n}\n.fa-building:before {\n  content: "\\f1ad";\n}\n.fa-child:before {\n  content: "\\f1ae";\n}\n.fa-paw:before {\n  content: "\\f1b0";\n}\n.fa-spoon:before {\n  content: "\\f1b1";\n}\n.fa-cube:before {\n  content: "\\f1b2";\n}\n.fa-cubes:before {\n  content: "\\f1b3";\n}\n.fa-behance:before {\n  content: "\\f1b4";\n}\n.fa-behance-square:before {\n  content: "\\f1b5";\n}\n.fa-steam:before {\n  content: "\\f1b6";\n}\n.fa-steam-square:before {\n  content: "\\f1b7";\n}\n.fa-recycle:before {\n  content: "\\f1b8";\n}\n.fa-automobile:before,\n.fa-car:before {\n  content: "\\f1b9";\n}\n.fa-cab:before,\n.fa-taxi:before {\n  content: "\\f1ba";\n}\n.fa-tree:before {\n  content: "\\f1bb";\n}\n.fa-spotify:before {\n  content: "\\f1bc";\n}\n.fa-deviantart:before {\n  content: "\\f1bd";\n}\n.fa-soundcloud:before {\n  content: "\\f1be";\n}\n.fa-database:before {\n  content: "\\f1c0";\n}\n.fa-file-pdf-o:before {\n  content: "\\f1c1";\n}\n.fa-file-word-o:before {\n  content: "\\f1c2";\n}\n.fa-file-excel-o:before {\n  content: "\\f1c3";\n}\n.fa-file-powerpoint-o:before {\n  content: "\\f1c4";\n}\n.fa-file-photo-o:before,\n.fa-file-picture-o:before,\n.fa-file-image-o:before {\n  content: "\\f1c5";\n}\n.fa-file-zip-o:before,\n.fa-file-archive-o:before {\n  content: "\\f1c6";\n}\n.fa-file-sound-o:before,\n.fa-file-audio-o:before {\n  content: "\\f1c7";\n}\n.fa-file-movie-o:before,\n.fa-file-video-o:before {\n  content: "\\f1c8";\n}\n.fa-file-code-o:before {\n  content: "\\f1c9";\n}\n.fa-vine:before {\n  content: "\\f1ca";\n}\n.fa-codepen:before {\n  content: "\\f1cb";\n}\n.fa-jsfiddle:before {\n  content: "\\f1cc";\n}\n.fa-life-bouy:before,\n.fa-life-buoy:before,\n.fa-life-saver:before,\n.fa-support:before,\n.fa-life-ring:before {\n  content: "\\f1cd";\n}\n.fa-circle-o-notch:before {\n  content: "\\f1ce";\n}\n.fa-ra:before,\n.fa-resistance:before,\n.fa-rebel:before {\n  content: "\\f1d0";\n}\n.fa-ge:before,\n.fa-empire:before {\n  content: "\\f1d1";\n}\n.fa-git-square:before {\n  content: "\\f1d2";\n}\n.fa-git:before {\n  content: "\\f1d3";\n}\n.fa-y-combinator-square:before,\n.fa-yc-square:before,\n.fa-hacker-news:before {\n  content: "\\f1d4";\n}\n.fa-tencent-weibo:before {\n  content: "\\f1d5";\n}\n.fa-qq:before {\n  content: "\\f1d6";\n}\n.fa-wechat:before,\n.fa-weixin:before {\n  content: "\\f1d7";\n}\n.fa-send:before,\n.fa-paper-plane:before {\n  content: "\\f1d8";\n}\n.fa-send-o:before,\n.fa-paper-plane-o:before {\n  content: "\\f1d9";\n}\n.fa-history:before {\n  content: "\\f1da";\n}\n.fa-circle-thin:before {\n  content: "\\f1db";\n}\n.fa-header:before {\n  content: "\\f1dc";\n}\n.fa-paragraph:before {\n  content: "\\f1dd";\n}\n.fa-sliders:before {\n  content: "\\f1de";\n}\n.fa-share-alt:before {\n  content: "\\f1e0";\n}\n.fa-share-alt-square:before {\n  content: "\\f1e1";\n}\n.fa-bomb:before {\n  content: "\\f1e2";\n}\n.fa-soccer-ball-o:before,\n.fa-futbol-o:before {\n  content: "\\f1e3";\n}\n.fa-tty:before {\n  content: "\\f1e4";\n}\n.fa-binoculars:before {\n  content: "\\f1e5";\n}\n.fa-plug:before {\n  content: "\\f1e6";\n}\n.fa-slideshare:before {\n  content: "\\f1e7";\n}\n.fa-twitch:before {\n  content: "\\f1e8";\n}\n.fa-yelp:before {\n  content: "\\f1e9";\n}\n.fa-newspaper-o:before {\n  content: "\\f1ea";\n}\n.fa-wifi:before {\n  content: "\\f1eb";\n}\n.fa-calculator:before {\n  content: "\\f1ec";\n}\n.fa-paypal:before {\n  content: "\\f1ed";\n}\n.fa-google-wallet:before {\n  content: "\\f1ee";\n}\n.fa-cc-visa:before {\n  content: "\\f1f0";\n}\n.fa-cc-mastercard:before {\n  content: "\\f1f1";\n}\n.fa-cc-discover:before {\n  content: "\\f1f2";\n}\n.fa-cc-amex:before {\n  content: "\\f1f3";\n}\n.fa-cc-paypal:before {\n  content: "\\f1f4";\n}\n.fa-cc-stripe:before {\n  content: "\\f1f5";\n}\n.fa-bell-slash:before {\n  content: "\\f1f6";\n}\n.fa-bell-slash-o:before {\n  content: "\\f1f7";\n}\n.fa-trash:before {\n  content: "\\f1f8";\n}\n.fa-copyright:before {\n  content: "\\f1f9";\n}\n.fa-at:before {\n  content: "\\f1fa";\n}\n.fa-eyedropper:before {\n  content: "\\f1fb";\n}\n.fa-paint-brush:before {\n  content: "\\f1fc";\n}\n.fa-birthday-cake:before {\n  content: "\\f1fd";\n}\n.fa-area-chart:before {\n  content: "\\f1fe";\n}\n.fa-pie-chart:before {\n  content: "\\f200";\n}\n.fa-line-chart:before {\n  content: "\\f201";\n}\n.fa-lastfm:before {\n  content: "\\f202";\n}\n.fa-lastfm-square:before {\n  content: "\\f203";\n}\n.fa-toggle-off:before {\n  content: "\\f204";\n}\n.fa-toggle-on:before {\n  content: "\\f205";\n}\n.fa-bicycle:before {\n  content: "\\f206";\n}\n.fa-bus:before {\n  content: "\\f207";\n}\n.fa-ioxhost:before {\n  content: "\\f208";\n}\n.fa-angellist:before {\n  content: "\\f209";\n}\n.fa-cc:before {\n  content: "\\f20a";\n}\n.fa-shekel:before,\n.fa-sheqel:before,\n.fa-ils:before {\n  content: "\\f20b";\n}\n.fa-meanpath:before {\n  content: "\\f20c";\n}\n.fa-buysellads:before {\n  content: "\\f20d";\n}\n.fa-connectdevelop:before {\n  content: "\\f20e";\n}\n.fa-dashcube:before {\n  content: "\\f210";\n}\n.fa-forumbee:before {\n  content: "\\f211";\n}\n.fa-leanpub:before {\n  content: "\\f212";\n}\n.fa-sellsy:before {\n  content: "\\f213";\n}\n.fa-shirtsinbulk:before {\n  content: "\\f214";\n}\n.fa-simplybuilt:before {\n  content: "\\f215";\n}\n.fa-skyatlas:before {\n  content: "\\f216";\n}\n.fa-cart-plus:before {\n  content: "\\f217";\n}\n.fa-cart-arrow-down:before {\n  content: "\\f218";\n}\n.fa-diamond:before {\n  content: "\\f219";\n}\n.fa-ship:before {\n  content: "\\f21a";\n}\n.fa-user-secret:before {\n  content: "\\f21b";\n}\n.fa-motorcycle:before {\n  content: "\\f21c";\n}\n.fa-street-view:before {\n  content: "\\f21d";\n}\n.fa-heartbeat:before {\n  content: "\\f21e";\n}\n.fa-venus:before {\n  content: "\\f221";\n}\n.fa-mars:before {\n  content: "\\f222";\n}\n.fa-mercury:before {\n  content: "\\f223";\n}\n.fa-intersex:before,\n.fa-transgender:before {\n  content: "\\f224";\n}\n.fa-transgender-alt:before {\n  content: "\\f225";\n}\n.fa-venus-double:before {\n  content: "\\f226";\n}\n.fa-mars-double:before {\n  content: "\\f227";\n}\n.fa-venus-mars:before {\n  content: "\\f228";\n}\n.fa-mars-stroke:before {\n  content: "\\f229";\n}\n.fa-mars-stroke-v:before {\n  content: "\\f22a";\n}\n.fa-mars-stroke-h:before {\n  content: "\\f22b";\n}\n.fa-neuter:before {\n  content: "\\f22c";\n}\n.fa-genderless:before {\n  content: "\\f22d";\n}\n.fa-facebook-official:before {\n  content: "\\f230";\n}\n.fa-pinterest-p:before {\n  content: "\\f231";\n}\n.fa-whatsapp:before {\n  content: "\\f232";\n}\n.fa-server:before {\n  content: "\\f233";\n}\n.fa-user-plus:before {\n  content: "\\f234";\n}\n.fa-user-times:before {\n  content: "\\f235";\n}\n.fa-hotel:before,\n.fa-bed:before {\n  content: "\\f236";\n}\n.fa-viacoin:before {\n  content: "\\f237";\n}\n.fa-train:before {\n  content: "\\f238";\n}\n.fa-subway:before {\n  content: "\\f239";\n}\n.fa-medium:before {\n  content: "\\f23a";\n}\n.fa-yc:before,\n.fa-y-combinator:before {\n  content: "\\f23b";\n}\n.fa-optin-monster:before {\n  content: "\\f23c";\n}\n.fa-opencart:before {\n  content: "\\f23d";\n}\n.fa-expeditedssl:before {\n  content: "\\f23e";\n}\n.fa-battery-4:before,\n.fa-battery:before,\n.fa-battery-full:before {\n  content: "\\f240";\n}\n.fa-battery-3:before,\n.fa-battery-three-quarters:before {\n  content: "\\f241";\n}\n.fa-battery-2:before,\n.fa-battery-half:before {\n  content: "\\f242";\n}\n.fa-battery-1:before,\n.fa-battery-quarter:before {\n  content: "\\f243";\n}\n.fa-battery-0:before,\n.fa-battery-empty:before {\n  content: "\\f244";\n}\n.fa-mouse-pointer:before {\n  content: "\\f245";\n}\n.fa-i-cursor:before {\n  content: "\\f246";\n}\n.fa-object-group:before {\n  content: "\\f247";\n}\n.fa-object-ungroup:before {\n  content: "\\f248";\n}\n.fa-sticky-note:before {\n  content: "\\f249";\n}\n.fa-sticky-note-o:before {\n  content: "\\f24a";\n}\n.fa-cc-jcb:before {\n  content: "\\f24b";\n}\n.fa-cc-diners-club:before {\n  content: "\\f24c";\n}\n.fa-clone:before {\n  content: "\\f24d";\n}\n.fa-balance-scale:before {\n  content: "\\f24e";\n}\n.fa-hourglass-o:before {\n  content: "\\f250";\n}\n.fa-hourglass-1:before,\n.fa-hourglass-start:before {\n  content: "\\f251";\n}\n.fa-hourglass-2:before,\n.fa-hourglass-half:before {\n  content: "\\f252";\n}\n.fa-hourglass-3:before,\n.fa-hourglass-end:before {\n  content: "\\f253";\n}\n.fa-hourglass:before {\n  content: "\\f254";\n}\n.fa-hand-grab-o:before,\n.fa-hand-rock-o:before {\n  content: "\\f255";\n}\n.fa-hand-stop-o:before,\n.fa-hand-paper-o:before {\n  content: "\\f256";\n}\n.fa-hand-scissors-o:before {\n  content: "\\f257";\n}\n.fa-hand-lizard-o:before {\n  content: "\\f258";\n}\n.fa-hand-spock-o:before {\n  content: "\\f259";\n}\n.fa-hand-pointer-o:before {\n  content: "\\f25a";\n}\n.fa-hand-peace-o:before {\n  content: "\\f25b";\n}\n.fa-trademark:before {\n  content: "\\f25c";\n}\n.fa-registered:before {\n  content: "\\f25d";\n}\n.fa-creative-commons:before {\n  content: "\\f25e";\n}\n.fa-gg:before {\n  content: "\\f260";\n}\n.fa-gg-circle:before {\n  content: "\\f261";\n}\n.fa-tripadvisor:before {\n  content: "\\f262";\n}\n.fa-odnoklassniki:before {\n  content: "\\f263";\n}\n.fa-odnoklassniki-square:before {\n  content: "\\f264";\n}\n.fa-get-pocket:before {\n  content: "\\f265";\n}\n.fa-wikipedia-w:before {\n  content: "\\f266";\n}\n.fa-safari:before {\n  content: "\\f267";\n}\n.fa-chrome:before {\n  content: "\\f268";\n}\n.fa-firefox:before {\n  content: "\\f269";\n}\n.fa-opera:before {\n  content: "\\f26a";\n}\n.fa-internet-explorer:before {\n  content: "\\f26b";\n}\n.fa-tv:before,\n.fa-television:before {\n  content: "\\f26c";\n}\n.fa-contao:before {\n  content: "\\f26d";\n}\n.fa-500px:before {\n  content: "\\f26e";\n}\n.fa-amazon:before {\n  content: "\\f270";\n}\n.fa-calendar-plus-o:before {\n  content: "\\f271";\n}\n.fa-calendar-minus-o:before {\n  content: "\\f272";\n}\n.fa-calendar-times-o:before {\n  content: "\\f273";\n}\n.fa-calendar-check-o:before {\n  content: "\\f274";\n}\n.fa-industry:before {\n  content: "\\f275";\n}\n.fa-map-pin:before {\n  content: "\\f276";\n}\n.fa-map-signs:before {\n  content: "\\f277";\n}\n.fa-map-o:before {\n  content: "\\f278";\n}\n.fa-map:before {\n  content: "\\f279";\n}\n.fa-commenting:before {\n  content: "\\f27a";\n}\n.fa-commenting-o:before {\n  content: "\\f27b";\n}\n.fa-houzz:before {\n  content: "\\f27c";\n}\n.fa-vimeo:before {\n  content: "\\f27d";\n}\n.fa-black-tie:before {\n  content: "\\f27e";\n}\n.fa-fonticons:before {\n  content: "\\f280";\n}\n.fa-reddit-alien:before {\n  content: "\\f281";\n}\n.fa-edge:before {\n  content: "\\f282";\n}\n.fa-credit-card-alt:before {\n  content: "\\f283";\n}\n.fa-codiepie:before {\n  content: "\\f284";\n}\n.fa-modx:before {\n  content: "\\f285";\n}\n.fa-fort-awesome:before {\n  content: "\\f286";\n}\n.fa-usb:before {\n  content: "\\f287";\n}\n.fa-product-hunt:before {\n  content: "\\f288";\n}\n.fa-mixcloud:before {\n  content: "\\f289";\n}\n.fa-scribd:before {\n  content: "\\f28a";\n}\n.fa-pause-circle:before {\n  content: "\\f28b";\n}\n.fa-pause-circle-o:before {\n  content: "\\f28c";\n}\n.fa-stop-circle:before {\n  content: "\\f28d";\n}\n.fa-stop-circle-o:before {\n  content: "\\f28e";\n}\n.fa-shopping-bag:before {\n  content: "\\f290";\n}\n.fa-shopping-basket:before {\n  content: "\\f291";\n}\n.fa-hashtag:before {\n  content: "\\f292";\n}\n.fa-bluetooth:before {\n  content: "\\f293";\n}\n.fa-bluetooth-b:before {\n  content: "\\f294";\n}\n.fa-percent:before {\n  content: "\\f295";\n}\n.fa-gitlab:before {\n  content: "\\f296";\n}\n.fa-wpbeginner:before {\n  content: "\\f297";\n}\n.fa-wpforms:before {\n  content: "\\f298";\n}\n.fa-envira:before {\n  content: "\\f299";\n}\n.fa-universal-access:before {\n  content: "\\f29a";\n}\n.fa-wheelchair-alt:before {\n  content: "\\f29b";\n}\n.fa-question-circle-o:before {\n  content: "\\f29c";\n}\n.fa-blind:before {\n  content: "\\f29d";\n}\n.fa-audio-description:before {\n  content: "\\f29e";\n}\n.fa-volume-control-phone:before {\n  content: "\\f2a0";\n}\n.fa-braille:before {\n  content: "\\f2a1";\n}\n.fa-assistive-listening-systems:before {\n  content: "\\f2a2";\n}\n.fa-asl-interpreting:before,\n.fa-american-sign-language-interpreting:before {\n  content: "\\f2a3";\n}\n.fa-deafness:before,\n.fa-hard-of-hearing:before,\n.fa-deaf:before {\n  content: "\\f2a4";\n}\n.fa-glide:before {\n  content: "\\f2a5";\n}\n.fa-glide-g:before {\n  content: "\\f2a6";\n}\n.fa-signing:before,\n.fa-sign-language:before {\n  content: "\\f2a7";\n}\n.fa-low-vision:before {\n  content: "\\f2a8";\n}\n.fa-viadeo:before {\n  content: "\\f2a9";\n}\n.fa-viadeo-square:before {\n  content: "\\f2aa";\n}\n.fa-snapchat:before {\n  content: "\\f2ab";\n}\n.fa-snapchat-ghost:before {\n  content: "\\f2ac";\n}\n.fa-snapchat-square:before {\n  content: "\\f2ad";\n}\n.fa-pied-piper:before {\n  content: "\\f2ae";\n}\n.fa-first-order:before {\n  content: "\\f2b0";\n}\n.fa-yoast:before {\n  content: "\\f2b1";\n}\n.fa-themeisle:before {\n  content: "\\f2b2";\n}\n.fa-google-plus-circle:before,\n.fa-google-plus-official:before {\n  content: "\\f2b3";\n}\n.fa-fa:before,\n.fa-font-awesome:before {\n  content: "\\f2b4";\n}\n.fa-handshake-o:before {\n  content: "\\f2b5";\n}\n.fa-envelope-open:before {\n  content: "\\f2b6";\n}\n.fa-envelope-open-o:before {\n  content: "\\f2b7";\n}\n.fa-linode:before {\n  content: "\\f2b8";\n}\n.fa-address-book:before {\n  content: "\\f2b9";\n}\n.fa-address-book-o:before {\n  content: "\\f2ba";\n}\n.fa-vcard:before,\n.fa-address-card:before {\n  content: "\\f2bb";\n}\n.fa-vcard-o:before,\n.fa-address-card-o:before {\n  content: "\\f2bc";\n}\n.fa-user-circle:before {\n  content: "\\f2bd";\n}\n.fa-user-circle-o:before {\n  content: "\\f2be";\n}\n.fa-user-o:before {\n  content: "\\f2c0";\n}\n.fa-id-badge:before {\n  content: "\\f2c1";\n}\n.fa-drivers-license:before,\n.fa-id-card:before {\n  content: "\\f2c2";\n}\n.fa-drivers-license-o:before,\n.fa-id-card-o:before {\n  content: "\\f2c3";\n}\n.fa-quora:before {\n  content: "\\f2c4";\n}\n.fa-free-code-camp:before {\n  content: "\\f2c5";\n}\n.fa-telegram:before {\n  content: "\\f2c6";\n}\n.fa-thermometer-4:before,\n.fa-thermometer:before,\n.fa-thermometer-full:before {\n  content: "\\f2c7";\n}\n.fa-thermometer-3:before,\n.fa-thermometer-three-quarters:before {\n  content: "\\f2c8";\n}\n.fa-thermometer-2:before,\n.fa-thermometer-half:before {\n  content: "\\f2c9";\n}\n.fa-thermometer-1:before,\n.fa-thermometer-quarter:before {\n  content: "\\f2ca";\n}\n.fa-thermometer-0:before,\n.fa-thermometer-empty:before {\n  content: "\\f2cb";\n}\n.fa-shower:before {\n  content: "\\f2cc";\n}\n.fa-bathtub:before,\n.fa-s15:before,\n.fa-bath:before {\n  content: "\\f2cd";\n}\n.fa-podcast:before {\n  content: "\\f2ce";\n}\n.fa-window-maximize:before {\n  content: "\\f2d0";\n}\n.fa-window-minimize:before {\n  content: "\\f2d1";\n}\n.fa-window-restore:before {\n  content: "\\f2d2";\n}\n.fa-times-rectangle:before,\n.fa-window-close:before {\n  content: "\\f2d3";\n}\n.fa-times-rectangle-o:before,\n.fa-window-close-o:before {\n  content: "\\f2d4";\n}\n.fa-bandcamp:before {\n  content: "\\f2d5";\n}\n.fa-grav:before {\n  content: "\\f2d6";\n}\n.fa-etsy:before {\n  content: "\\f2d7";\n}\n.fa-imdb:before {\n  content: "\\f2d8";\n}\n.fa-ravelry:before {\n  content: "\\f2d9";\n}\n.fa-eercast:before {\n  content: "\\f2da";\n}\n.fa-microchip:before {\n  content: "\\f2db";\n}\n.fa-snowflake-o:before {\n  content: "\\f2dc";\n}\n.fa-superpowers:before {\n  content: "\\f2dd";\n}\n.fa-wpexplorer:before {\n  content: "\\f2de";\n}\n.fa-meetup:before {\n  content: "\\f2e0";\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.sr-only-focusable:active,\n.sr-only-focusable:focus {\n  position: static;\n  width: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  clip: auto;\n}\n`,""]);const C=g},970:(t,e,n)=>{n.d(e,{Z:()=>a});var s=n(81),i=n.n(s),r=n(645),o=n.n(r)()(i());o.push([t.id,"body.au {\n  font-family: Roboto, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  /** Make Scroll fancy **/\n}\nbody.au .page {\n  display: grid;\n  grid-auto-flow: row;\n  grid-template-rows: 40px 880px;\n}\nbody.au .page nav {\n  align-items: center;\n  display: grid;\n  gap: 8px;\n  grid-auto-flow: column;\n  justify-content: start;\n  padding: 8px 24px;\n}\nbody.au .page au-viewport {\n  background-color: rgba(255, 193, 7, 0.01);\n  border: 2px solid #eeeeee;\n  display: block;\n  margin: 24px;\n  overflow: auto;\n  padding: 24px;\n}\nbody.au .fancy-scroll {\n  /* width */\n  /* Track */\n  /* Handle */\n  /* Handle on hover */\n}\nbody.au .fancy-scroll::-webkit-scrollbar {\n  width: 8px;\n}\nbody.au .fancy-scroll::-webkit-scrollbar-track {\n  background-color: #f0f2f2;\n}\nbody.au .fancy-scroll::-webkit-scrollbar-thumb {\n  background-color: #d7d7d7;\n}\nbody.au .fancy-scroll::-webkit-scrollbar-thumb:hover {\n  background: #666666;\n}\n",""]);const a=o},963:(t,e,n)=>{n.d(e,{Z:()=>a});var s=n(81),i=n.n(s),r=n(645),o=n.n(r)()(i());o.push([t.id,".users-view .header {\n  margin-bottom: 40px;\n}\n.users-view .user-box {\n  cursor: pointer;\n  margin-bottom: 20px;\n  text-align: center;\n}\n.users-view .user-box .login:hover {\n  color: #999999;\n}\n.users-view .user-box .avatar-box .avatar {\n  border-radius: 2px;\n  box-shadow: 6px 6px 6px #aaaaaa;\n  width: 100%;\n}\n.users-view .scene {\n  perspective: 600px;\n}\n.users-view .scene .card-panel {\n  height: 340px;\n  margin-bottom: 20px;\n  position: relative;\n  transform-style: preserve-3d;\n  transition-duration: 1s;\n  transition-property: transform;\n  width: 100%;\n}\n.users-view .scene .card-panel.is-flipped {\n  transform: rotateY(180deg);\n}\n.users-view .scene .card-panel .card {\n  backface-visibility: hidden;\n  border-radius: 4px;\n  box-shadow: 6px 6px 6px #aaaaaa;\n  height: 100%;\n  position: absolute;\n  width: 100%;\n}\n.users-view .scene .card-panel .card.back {\n  background-color: beige;\n  overflow: auto;\n  transform: rotateY(180deg);\n}\n.users-view .scene .card-panel .card .card-img-top {\n  border-radius: 4px 4px 0 0;\n  height: 260px;\n}\n.users-view .scene .card-panel .card .card-img-overlay {\n  height: 40px;\n  padding: 5px;\n}\n.users-view .scene .card-panel .card .card-body .card-title.user-name {\n  margin-top: 20px;\n}\n.users-view .scene .card-panel .card .card-body .card-title .icon {\n  color: #5858c1;\n  cursor: pointer;\n}\n.users-view .scene .card-panel .card .card-body .card-text {\n  font-size: 80%;\n}\n.users-view .selected-user .avatar-box .avatar {\n  box-shadow: 6px 6px 6px #aaaaaa;\n  width: 100%;\n}\n",""]);const a=o},372:(t,e,n)=>{n.d(e,{Z:()=>a});var s=n(81),i=n.n(s),r=n(645),o=n.n(r)()(i());o.push([t.id,'.converted-city {\n  font-weight: bold;\n}\n.current-weather {\n  background-color: #ffffee;\n  border: 1px solid #eeeeee;\n  border-radius: 6px;\n  display: inline-block;\n  padding: 6px;\n}\n.current-weather [class*="col-"] {\n  padding: 0;\n}\n.current-weather .current-weather-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 48px;\n}\n.current-weather .temperature {\n  display: inline-block;\n  font-size: 2em;\n  height: 48px;\n}\n.current-weather .temperature-units sup {\n  font-size: 2em;\n  top: 0;\n}\n.current-weather .weather-description {\n  padding-left: 6px;\n  text-align: center;\n}\n.no-data {\n  font-weight: bold;\n}\n.map-box {\n  border: 2px solid rgba(128, 128, 128, 0.5);\n  margin: 20px 0;\n}\n',""]);const a=o},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",s=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),s&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),s&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,s,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(s)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var h=0;h<t.length;h++){var l=[].concat(t[h]);s&&o[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var r={},o=[],a=0;a<t.length;a++){var c=t[a],h=s.base?c[0]+s.base:c[0],l=r[h]||0,u="".concat(h," ").concat(l);r[h]=l+1;var f=n(u),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var p=i(d,s);s.byIndex=a,e.splice(a,0,{identifier:u,updater:p,references:1})}o.push(u)}return o}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=s(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<r.length;o++){var a=n(r[o]);e[a].references--}for(var c=s(t,i),h=0;h<r.length;h++){var l=n(r[h]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}r=c}}},569:t=>{var e={};t.exports=function(t,n){var s=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},526:(t,e,n)=>{t.exports=n.p+"8b43027f47b20503057d.eot"},462:(t,e,n)=>{t.exports=n.p+"8b43027f47b20503057d.eot?v=4.7.0"},819:(t,e,n)=>{t.exports=n.p+"c1e38fd9e0e74ba58f7a.svg?v=4.7.0"},318:(t,e,n)=>{t.exports=n.p+"1e59d2330b4c6deb84b3.ttf?v=4.7.0"},306:(t,e,n)=>{t.exports=n.p+"20fd1704ea223900efa9.woff2?v=4.7.0"},686:(t,e,n)=>{t.exports=n.p+"f691f37e57f04c152e23.woff?v=4.7.0"}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,exports:{}};return t[s](r,r.exports,n),r.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="./au2-ex1/",n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var t={};n.r(t),n.d(t,{default:()=>DM,dependencies:()=>WM,name:()=>FM,register:()=>_M,template:()=>VM});var e={};n.r(e),n.d(e,{default:()=>KM,dependencies:()=>GM,name:()=>HM,register:()=>XM,template:()=>zM});var s={};n.r(s),n.d(s,{default:()=>nN,dependencies:()=>sN,name:()=>tN,register:()=>rN,template:()=>eN});var i={};n.r(i),n.d(i,{User:()=>bN});var r={};n.r(r),n.d(r,{default:()=>SN,dependencies:()=>AN,name:()=>kN,register:()=>$N,template:()=>CN});var o={};n.r(o),n.d(o,{default:()=>ON,dependencies:()=>EN,name:()=>IN,register:()=>MN,template:()=>RN});var a={};function c(t){return"object"==typeof t&&null!==t||"function"==typeof t}function h(t){return null==t}n.r(a),n.d(a,{default:()=>VN,dependencies:()=>DN,name:()=>UN,register:()=>qN,template:()=>FN});let l=new WeakMap;const u=(t,e,n,s,i)=>new TypeError(`${t}(${e.map(String).join(",")}) - Expected '${n}' to be of type ${i}, but got: ${Object.prototype.toString.call(s)} (${String(s)})`);function f(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:return`${t}`}}function d(t,e,n){let s=l.get(t);if(void 0===s){if(!n)return;s=new Map,l.set(t,s)}let i=s.get(e);if(void 0===i){if(!n)return;i=new Map,s.set(e,i)}return i}function p(t,e,n){const s=d(e,n,!1);return void 0!==s&&s.has(t)}function g(t,e,n){if(p(t,e,n))return!0;const s=j(e);return null!==s&&g(t,s,n)}function m(t,e,n){const s=d(e,n,!1);if(void 0!==s)return s.get(t)}function v(t,e,n){if(p(t,e,n))return m(t,e,n);const s=j(e);return null!==s?v(t,s,n):void 0}function b(t,e,n,s){d(n,s,!0).set(t,e)}function w(t,e){const n=[],s=d(t,e,!1);if(void 0===s)return n;const i=s.keys();let r=0;for(const t of i)n[r]=t,++r;return n}function y(t,e){const n=w(t,e),s=j(t);if(null===s)return n;const i=y(s,e),r=n.length;if(0===r)return i;const o=i.length;if(0===o)return n;const a=new Set,c=[];let h,l=0;for(let t=0;t<r;++t)h=n[t],a.has(h)||(a.add(h),c[l]=h,++l);for(let t=0;t<o;++t)h=i[t],a.has(h)||(a.add(h),c[l]=h,++l);return c}function k(t,e){return function(n,s){if(!c(n))throw u("@metadata",[t,e,n,s],"target",n,"Object or Function");b(t,e,n,function(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:throw new TypeError(`Invalid metadata propertyKey: ${t}.`)}}(s))}}function C(t,e,n,s){if(void 0!==n){if(!Array.isArray(t))throw u("Metadata.decorate",[t,e,n,s],"decorators",t,"Array");if(!c(e))throw u("Metadata.decorate",[t,e,n,s],"target",e,"Object or Function");if(!c(s)&&!h(s))throw u("Metadata.decorate",[t,e,n,s],"attributes",s,"Object, Function, null, or undefined");return null===s&&(s=void 0),n=function(t){switch(typeof t){case"string":case"symbol":return t;default:return`${t}`}}(n),function(t,e,n,s){for(let i=t.length-1;i>=0;--i){const r=(0,t[i])(e,n,s);if(!h(r)){if(!c(r))throw u("DecorateProperty",[t,e,n,s],"decorated",r,"Object, Function, null, or undefined");s=r}}return s}(t,e,n,s)}if(!Array.isArray(t))throw u("Metadata.decorate",[t,e,n,s],"decorators",t,"Array");if("function"!=typeof e)throw u("Metadata.decorate",[t,e,n,s],"target",e,"Function");return function(t,e){for(let n=t.length-1;n>=0;--n){const s=(0,t[n])(e);if(!h(s)){if("function"!=typeof s)throw u("DecorateConstructor",[t,e],"decorated",s,"Function, null, or undefined");e=s}}return e}(t,e)}function S(t,e,n,s){if(!c(n))throw u("Metadata.define",[t,e,n,s],"target",n,"Object or Function");return b(t,e,n,f(s))}function A(t,e,n){if(!c(e))throw u("Metadata.has",[t,e,n],"target",e,"Object or Function");return g(t,e,f(n))}function x(t,e,n){if(!c(e))throw u("Metadata.hasOwn",[t,e,n],"target",e,"Object or Function");return p(t,e,f(n))}function $(t,e,n){if(!c(e))throw u("Metadata.get",[t,e,n],"target",e,"Object or Function");return v(t,e,f(n))}function T(t,e,n){if(!c(e))throw u("Metadata.getOwn",[t,e,n],"target",e,"Object or Function");return m(t,e,f(n))}function I(t,e){if(!c(t))throw u("Metadata.getKeys",[t,e],"target",t,"Object or Function");return y(t,f(e))}function R(t,e){if(!c(t))throw u("Metadata.getOwnKeys",[t,e],"target",t,"Object or Function");return w(t,f(e))}function O(t,e,n){if(!c(e))throw u("Metadata.delete",[t,e,n],"target",e,"Object or Function");return function(t,e,n){const s=d(t,n,!1);return void 0!==s&&s.delete(e)}(e,t,f(n))}const E={define:S,has:A,hasOwn:x,get:$,getOwn:T,getKeys:I,getOwnKeys:R,delete:O},P="[[$au]]",M=(t,e,n)=>[[P,l],["metadata",k],["decorate",C],["defineMetadata",S],["hasMetadata",A],["hasOwnMetadata",x],["getMetadata",$],["getOwnMetadata",T],["getMetadataKeys",I],["getOwnMetadataKeys",R],["deleteMetadata",O]].forEach((([s,i])=>((t,e,n,s,i)=>{if(!Reflect.defineProperty(t,e,{writable:s,enumerable:!1,configurable:i,value:n}))throw N(`AUR1000:${e}`)})(t,s,i,e,n))),N=t=>new Error(t),j=Object.getPrototypeOf,L=String,B=E.getOwn,U=E.hasOwn,F=E.define,V=t=>"function"==typeof t,D=t=>"string"==typeof t,W=()=>Object.create(null),q=(t,...e)=>new Error(`AUR${L(t).padStart(4,"0")}:${e.map(L)}`),_={},H=t=>{switch(typeof t){case"number":return t>=0&&(0|t)===t;case"string":{const e=_[t];if(void 0!==e)return e;const n=t.length;if(0===n)return _[t]=!1;let s=0,i=0;for(;i<n;++i)if(s=rt(t,i),0===i&&48===s&&n>1||s<48||s>57)return _[t]=!1;return _[t]=!0}default:return!1}},z=function(){const t=Object.assign(W(),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0}),e=e=>""===e?0:e!==e.toUpperCase()?3:e!==e.toLowerCase()?2:!0===t[e]?1:0;return(t,n)=>{const s=t.length;if(0===s)return t;let i,r=!1,o="",a="",c=0,h=t.charAt(0),l=e(h),u=0;for(;u<s;++u)i=c,a=h,c=l,h=t.charAt(u+1),l=e(h),0===c?o.length>0&&(r=!0):(!r&&o.length>0&&2===c&&(r=3===i||3===l),o+=n(a,r),r=!1);return o}}(),K=function(){const t=W(),e=(t,e)=>e?t.toUpperCase():t.toLowerCase();return n=>{let s=t[n];return void 0===s&&(s=t[n]=z(n,e)),s}}(),G=function(){const t=W();return e=>{let n=t[e];return void 0===n&&(n=K(e),n.length>0&&(n=n[0].toUpperCase()+n.slice(1)),t[e]=n),n}}(),Q=function(){const t=W(),e=(t,e)=>e?`-${t.toLowerCase()}`:t.toLowerCase();return n=>{let s=t[n];return void 0===s&&(s=t[n]=z(n,e)),s}}(),X=t=>{const e=t.length,n=Array(e);let s=0;for(;s<e;++s)n[s]=t[s];return n},Z=(t,e,n)=>({configurable:!0,enumerable:n.enumerable,get(){const t=n.value.bind(this);return Reflect.defineProperty(this,e,{value:t,writable:!0,configurable:!0,enumerable:n.enumerable}),t}}),Y=(...t)=>{const e=[];let n=0;const s=t.length;let i,r=0,o=0;for(;o<s;++o)if(i=t[o],void 0!==i){r=i.length;let t=0;for(;t<r;++t)e[n++]=i[t]}return e},J=(...t)=>{const e=t.length;let n,s=0;for(;e>s;++s)if(n=t[s],void 0!==n)return n;throw q(20)},tt=function(){const t=Function.prototype,e=Object.getPrototypeOf,n=new WeakMap;let s,i=t,r=0;return function(o){if(s=n.get(o),void 0===s)for(n.set(o,s=[i=o]),r=0;(i=e(i))!==t;)s[++r]=i;return s}}();function et(...t){return Object.assign(W(),...t)}const nt=function(){const t=new WeakMap;let e=!1,n="",s=0;return i=>(e=t.get(i),void 0===e&&(n=i.toString(),s=n.length,e=s>=29&&s<=100&&125===rt(n,s-1)&&rt(n,s-2)<=32&&93===rt(n,s-3)&&101===rt(n,s-4)&&100===rt(n,s-5)&&111===rt(n,s-6)&&99===rt(n,s-7)&&32===rt(n,s-8)&&101===rt(n,s-9)&&118===rt(n,s-10)&&105===rt(n,s-11)&&116===rt(n,s-12)&&97===rt(n,s-13)&&110===rt(n,s-14)&&88===rt(n,s-15),t.set(i,e)),e)}(),st=(t,e)=>t instanceof Promise?t.then(e):e(t),it=(...t)=>{let e,n,s,i=0,r=t.length;for(;i<r;++i)e=t[i],(e=t[i])instanceof Promise&&(void 0===n?n=e:void 0===s?s=[n,e]:s.push(e));return void 0===s?n:Promise.all(s)},rt=(t,e)=>t.charCodeAt(e),ot="au:annotation",at=(t,e)=>void 0===e?`${ot}:${t}`:`${ot}:${t}:${e}`,ct=(t,e)=>{const n=B(ot,t);void 0===n?F(ot,[e],t):n.push(e)},ht=Object.freeze({name:"au:annotation",appendTo:ct,set(t,e,n){F(at(e),n,t)},get:(t,e)=>B(at(e),t),getKeys(t){let e=B(ot,t);return void 0===e&&F(ot,e=[],t),e},isKey:t=>t.startsWith(ot),keyFor:at}),lt="au:resource",ut=t=>U(lt,t),ft=t=>{const e=B(lt,t);return void 0===e?oe:e.map((e=>B(e,t)))},dt=Object.freeze({name:lt,appendTo(t,e){const n=B(lt,t);void 0===n?F(lt,[e],t):n.push(e)},has:ut,getAll:ft,getKeys(t){let e=B(lt,t);return void 0===e&&F(lt,e=[],t),e},isKey:t=>t.startsWith(lt),keyFor:(t,e)=>void 0===e?`${lt}:${t}`:`${lt}:${t}:${e}`}),pt={annotation:ht,resource:dt},gt=Object.prototype.hasOwnProperty;function mt(t,e,n,s){let i=B(at(t),n);return void 0===i?(i=e[t],void 0===i?(i=n[t],void 0!==i&&gt.call(n,t)?i:s()):i):i}function vt(t,e,n){let s=B(at(t),e);return void 0===s?(s=e[t],void 0!==s&&gt.call(e,t)?s:n()):s}function bt(t,e,n){const s=e[t];return void 0===s?n():s}const wt=new Set("Array ArrayBuffer Boolean DataView Date Error EvalError Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Number Object Promise RangeError ReferenceError RegExp Set SharedArrayBuffer String SyntaxError TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array URIError WeakMap WeakSet".split(" "));let yt=0,kt=null;class Ct{get depth(){return null===this.parent?0:this.parent.depth+1}constructor(t,e){this.parent=t,this.config=e,this.id=++yt,this.t=0,this.i=new Map,null===t?(this.root=this,this.u=new Map,this.h=new Map,this.res=W()):(this.root=t.root,this.u=new Map,this.h=t.h,e.inheritParentResources?this.res=Object.assign(W(),t.res,this.root.res):this.res=W()),this.u.set(Kt,Rt)}register(...t){if(100==++this.t)throw q(6,...t);let e,n,s,i,r,o=0,a=t.length;for(;o<a;++o)if(e=t[o],c(e))if(Ot(e))e.register(this);else if(ut(e)){const t=ft(e);if(1===t.length)t[0].register(this);else for(i=0,r=t.length;r>i;)t[i].register(this),++i}else if(Pt(e))ie.singleton(e,e).register(this);else for(n=Object.keys(e),i=0,r=n.length;i<r;++i)s=e[n[i]],c(s)&&(Ot(s)?s.register(this):this.register(s));return--this.t,this}registerResolver(t,e,n=!1){xt(t);const s=this.u,i=s.get(t);if(null==i){if(s.set(t,e),Mt(t)){if(void 0!==this.res[t])throw q(7,t);this.res[t]=e}}else i instanceof ne&&4===i.R?i._state.push(e):s.set(t,new ne(t,4,[i,e]));return n&&this.i.set(t,e),e}registerTransformer(t,e){const n=this.getResolver(t);if(null==n)return!1;if(n.getFactory){const t=n.getFactory(this);return null!=t&&(t.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(xt(t),void 0!==t.resolve)return t;const n=kt;let s,i,r=kt=this;try{for(;null!=r;){if(s=r.u.get(t),null!=s)return s;if(null==r.parent)return i=Et(t)?this:r,e?this.C(t,i):null;r=r.parent}}finally{kt=n}return null}has(t,e=!1){return!!this.u.has(t)||!(!e||null==this.parent)&&this.parent.has(t,!0)}get(t){if(xt(t),t.$isResolver)return t.resolve(this,this);const e=kt;let n,s,i=kt=this;try{for(;null!=i;){if(n=i.u.get(t),null!=n)return n.resolve(i,this);if(null==i.parent)return s=Et(t)?this:i,n=this.C(t,s),n.resolve(i,this);i=i.parent}}finally{kt=e}throw q(8,t)}getAll(t,e=!1){xt(t);const n=kt,s=kt=this;let i,r=s,o=oe;try{if(e){for(;null!=r;)i=r.u.get(t),null!=i&&(o=o.concat(It(i,r,s))),r=r.parent;return o}for(;null!=r;){if(i=r.u.get(t),null!=i)return It(i,r,s);if(r=r.parent,null==r)return oe}}finally{kt=n}return oe}invoke(t,e){const n=kt;kt=this;try{if(nt(t))throw q(15,t);return void 0===e?new t(..._t(t).map($t,this)):new t(..._t(t).map($t,this),...e)}finally{kt=n}}hasFactory(t){return this.h.has(t)}getFactory(t){let e=this.h.get(t);if(void 0===e){if(nt(t))throw q(15,t);this.h.set(t,e=new St(t,_t(t)))}return e}registerFactory(t,e){this.h.set(t,e)}createChild(t){return void 0===t&&this.config.inheritParentResources?this.config===Dt.DEFAULT?new Ct(this,this.config):new Ct(this,Dt.from({...this.config,inheritParentResources:!1})):new Ct(this,Dt.from(t??this.config))}disposeResolvers(){const t=this.u,e=this.i;let n,s;for([s,n]of e.entries())n.dispose(),t.delete(s);e.clear()}find(t,e){const n=t.keyFrom(e);let s=this.res[n];if(void 0===s&&(s=this.root.res[n],void 0===s))return null;if(null===s)return null;if(V(s.getFactory)){const e=s.getFactory(this);if(null==e)return null;const n=B(t.name,e.Type);return void 0===n?null:n}return null}create(t,e){const n=t.keyFrom(e);let s=this.res[n];return void 0===s?(s=this.root.res[n],void 0===s?null:s.resolve(this.root,this)??null):s.resolve(this,this)??null}dispose(){this.i.size>0&&this.disposeResolvers(),this.u.clear()}C(t,e){if(!V(t))throw q(9,t);if(wt.has(t.name))throw q(10,t);if(Ot(t)){const n=t.register(e,t);if(!(n instanceof Object)||null==n.resolve){const n=e.u.get(t);if(null!=n)return n;throw q(11,t)}return n}if(ut(t)){const n=ft(t);if(1===n.length)n[0].register(e);else{const t=n.length;for(let s=0;s<t;++s)n[s].register(e)}const s=e.u.get(t);if(null!=s)return s;throw q(11,t)}if(t.$isInterface)throw q(12,t.friendlyName);const n=this.config.defaultResolver(t,e);return e.u.set(t,n),n}}class St{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){const n=kt;let s;kt=t;try{return s=void 0===e?new this.Type(...this.dependencies.map($t,t)):new this.Type(...this.dependencies.map($t,t),...e),null==this.transformers?s:this.transformers.reduce(At,s)}finally{kt=n}}registerTransformer(t){(this.transformers??(this.transformers=[])).push(t)}}function At(t,e){return e(t)}function xt(t){if(null==t)throw q(14)}function $t(t){return this.get(t)}function Tt(...t){if(null==kt)throw q(16,...t);return 1===t.length?kt.get(t[0]):t.map($t,kt)}const It=(t,e,n)=>{if(t instanceof ne&&4===t.R){const s=t._state,i=s.length,r=Array(i);let o=0;for(;o<i;++o)r[o]=s[o].resolve(e,n);return r}return[t.resolve(e,n)]},Rt={$isResolver:!0,resolve:(t,e)=>e},Ot=t=>V(t.register),Et=t=>(t=>Ot(t)&&"boolean"==typeof t.registerInRequestor)(t)&&t.registerInRequestor,Pt=t=>void 0!==t.prototype,Mt=t=>D(t)&&t.indexOf(":")>0,Nt=(t,e)=>new ne(t,0,e),jt=(t,e)=>new ne(t,1,e),Lt=new WeakMap,Bt=t=>(e,n,s)=>{let i=Lt.get(e);if(void 0===i&&Lt.set(e,i=new WeakMap),i.has(s))return i.get(s);const r=t(e,n,s);return i.set(s,r),r};((t,e=!0,n=!1,s=!0,i=!0)=>{if(P in t){if(t[P]===l)return;if(t[P]instanceof WeakMap)return void(l=t[P]);throw N("AUR1001")}const r="metadata decorate defineMetadata hasMetadata hasOwnMetadata getMetadata getOwnMetadata getMetadataKeys getOwnMetadataKeys deleteMetadata".split(" ").filter((t=>t in Reflect));if(r.length>0){if(e){const t=r.map((function(t){return`${t}:\n${Reflect[t].toString().slice(0,100)}...`})).join("\n\n");throw N(`AUR1002:${t}`)}n&&M(t,s,i)}else M(t,s,i)})(Reflect,!1,!1);class Ut{constructor(t,e){this.c=t,this.k=e}instance(t){return this.L(0,t)}singleton(t){return this.L(1,t)}transient(t){return this.L(2,t)}callback(t){return this.L(3,t)}cachedCallback(t){return this.L(3,Bt(t))}aliasTo(t){return this.L(5,t)}L(t,e){const{c:n,k:s}=this;return this.c=this.k=void 0,n.registerResolver(s,new ne(s,t,e))}}const Ft=t=>{const e=t.slice(),n=Object.keys(t),s=n.length;let i;for(let r=0;r<s;++r)i=n[r],H(i)||(e[i]=t[i]);return e},Vt={none(t){throw q(2,t)},singleton:t=>new ne(t,1,t),transient:t=>new ne(t,2,t)};class Dt{constructor(t,e){this.inheritParentResources=t,this.defaultResolver=e}static from(t){return void 0===t||t===Dt.DEFAULT?Dt.DEFAULT:new Dt(t.inheritParentResources??!1,t.defaultResolver??Vt.singleton)}}Dt.DEFAULT=Dt.from({});const Wt=t=>{const e=at("di:paramtypes");return B(e,t)},qt=t=>{const e=at("di:paramtypes");let n=B(e,t);return void 0===n&&(F(e,n=[],t),ct(t,e)),n},_t=t=>{const e=at("di:dependencies");let n=B(e,t);if(void 0===n){const s=t.inject;if(void 0===s){const e=zt.getDesignParamtypes(t),s=Wt(t);if(void 0===e)if(void 0===s){const e=Object.getPrototypeOf(t);n=V(e)&&e!==Function.prototype?Ft(_t(e)):[]}else n=Ft(s);else if(void 0===s)n=Ft(e);else{n=Ft(e);let t,i=s.length,r=0;for(;r<i;++r)t=s[r],void 0!==t&&(n[r]=t);const o=Object.keys(s);let a;for(r=0,i=o.length,r=0;r<i;++r)a=o[r],H(a)||(n[a]=s[a])}}else n=Ft(s);F(e,n,t),ct(t,e)}return n},Ht=(t,e)=>{const n=V(t)?t:e,s=(D(t)?t:void 0)??"(anonymous)",i=function(t,e,n){if(null==t||void 0!==new.target)throw q(1,s);qt(t)[n]=i};return i.$isInterface=!0,i.friendlyName=s,null!=n&&(i.register=(t,e)=>n(new Ut(t,e??i))),i.toString=()=>`InterfaceSymbol<${s}>`,i},zt={createContainer:t=>new Ct(null,Dt.from(t)),getDesignParamtypes:t=>B("design:paramtypes",t),getAnnotationParamtypes:Wt,getOrCreateAnnotationParamTypes:qt,getDependencies:_t,createInterface:Ht,inject:(...t)=>(e,n,s)=>{if("number"==typeof s){const n=qt(e),i=t[0];void 0!==i&&(n[s]=i)}else if(n){const s=qt(e.constructor),i=t[0];void 0!==i&&(s[n]=i)}else if(s){const e=s.value,n=qt(e);let i,r=0;for(;r<t.length;++r)i=t[r],void 0!==i&&(n[r]=i)}else{const n=qt(e);let s,i=0;for(;i<t.length;++i)s=t[i],void 0!==s&&(n[i]=s)}},transient:t=>(t.register=function(e){return ie.transient(t,t).register(e,t)},t.registerInRequestor=!1,t),singleton:(t,e=Yt)=>(t.register=function(e){return ie.singleton(t,t).register(e,t)},t.registerInRequestor=e.scoped,t)},Kt=Ht("IContainer"),Gt=Kt;function Qt(t){return function(e){const n=function(t,e,s){Xt(n)(t,e,s)};return n.$isResolver=!0,n.resolve=function(n,s){return t(e,n,s)},n}}const Xt=zt.inject;function Zt(t){return zt.transient(t)}const Yt={scoped:!1};zt.singleton;const Jt=(t,e=!1)=>{function n(t,e,s){Xt(n)(t,e,s)}return n.$isResolver=!0,n.resolve=(n,s)=>s.getAll(t,e),n},te=Qt(((t,e,n)=>n.has(t,!0)?n.get(t):void 0)),ee=(t,e,n)=>{Xt(ee)(t,e,n)};ee.$isResolver=!0,ee.resolve=()=>{};class ne{constructor(t,e,n){this.resolving=!1,this.k=t,this.R=e,this._state=n}get $isResolver(){return!0}register(t,e){return t.registerResolver(e||this.k,this)}resolve(t,e){switch(this.R){case 0:return this._state;case 1:if(this.resolving)throw q(3,this._state.name);return this.resolving=!0,this._state=t.getFactory(this._state).construct(e),this.R=0,this.resolving=!1,this._state;case 2:{const n=t.getFactory(this._state);if(null===n)throw q(4,this.k);return n.construct(e)}case 3:return this._state(t,e,this);case 4:return this._state[0].resolve(t,e);case 5:return e.get(this._state);default:throw q(5,this.R)}}getFactory(t){switch(this.R){case 1:case 2:return t.getFactory(this._state);case 5:return t.getResolver(this._state)?.getFactory?.(t)??null;default:return null}}}class se{constructor(t,e){this.key=t,this.params=e}register(t){t.has(this.key,!0)?t.get(this.key).register(t,...this.params):t.register(...this.params.filter((t=>"object"==typeof t)))}}const ie={instance:Nt,singleton:jt,transient:(t,e)=>new ne(t,2,e),callback:(t,e)=>new ne(t,3,e),cachedCallback:(t,e)=>new ne(t,3,Bt(e)),aliasTo:(t,e)=>new ne(e,5,t),defer:(t,...e)=>new se(t,e)};class re{get friendlyName(){return this.O}constructor(t,e){this.$=null,this.O=t,void 0!==e&&(this.$=e)}prepare(t){this.$=t}get $isResolver(){return!0}resolve(){if(null==this.$)throw q(13,this.O);return this.$}dispose(){this.$=null}}const oe=Object.freeze([]),ae=Object.freeze({});function ce(){}const he=Ht("IPlatform");function le(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}var ue,fe,de;(de=ue||(ue={}))[de.trace=0]="trace",de[de.debug=1]="debug",de[de.info=2]="info",de[de.warn=3]="warn",de[de.error=4]="error",de[de.fatal=5]="fatal",de[de.none=6]="none",function(t){t[t.noColors=0]="noColors",t[t.colors=1]="colors"}(fe||(fe={}));const pe=Ht("ILogConfig",(t=>t.instance(new ke(0,3)))),ge=Ht("ISink"),me=Ht("ILogEventFactory",(t=>t.singleton(xe))),ve=Ht("ILogger",(t=>t.singleton($e))),be=Ht("ILogScope"),we=Object.freeze({key:at("logger-sink-handles"),define(t,e){return F(this.key,e.handles,t.prototype),t},getHandles(t){return E.get(this.key,t)}}),ye=et({red:t=>`[31m${t}[39m`,green:t=>`[32m${t}[39m`,yellow:t=>`[33m${t}[39m`,blue:t=>`[34m${t}[39m`,magenta:t=>`[35m${t}[39m`,cyan:t=>`[36m${t}[39m`,white:t=>`[37m${t}[39m`,grey:t=>`[90m${t}[39m`});class ke{constructor(t,e){this.colorOptions=t,this.level=e}}const Ce=function(){const t=[et({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),et({TRC:ye.grey("TRC"),DBG:ye.grey("DBG"),INF:ye.white("INF"),WRN:ye.yellow("WRN"),ERR:ye.red("ERR"),FTL:ye.red("FTL"),QQQ:ye.grey("???")})];return(e,n)=>e<=0?t[n].TRC:e<=1?t[n].DBG:e<=2?t[n].INF:e<=3?t[n].WRN:e<=4?t[n].ERR:e<=5?t[n].FTL:t[n].QQQ}(),Se=(t,e)=>0===e?new Date(t).toISOString():ye.grey(new Date(t).toISOString());class Ae{constructor(t,e,n,s,i,r){this.severity=t,this.message=e,this.optionalParams=n,this.scope=s,this.colorOptions=i,this.timestamp=r}toString(){const{severity:t,message:e,scope:n,colorOptions:s,timestamp:i}=this;return 0===n.length?`${Se(i,s)} [${Ce(t,s)}] ${e}`:`${Se(i,s)} [${Ce(t,s)} ${((t,e)=>0===e?t.join("."):t.map(ye.cyan).join("."))(n,s)}] ${e}`}}class xe{constructor(){this.config=Tt(pe)}createLogEvent(t,e,n,s){return new Ae(e,n,s,t.scope,this.config.colorOptions,Date.now())}}class $e{constructor(t=Tt(pe),e=Tt(me),n=Tt(Jt(ge)),s=Tt(te(be))??[],i=null){let r,o,a,c,h,l;if(this.scope=s,this.A=W(),this.config=t,this.f=e,this.sinks=n,null===i){this.root=this,this.parent=this,r=this.j=[],o=this.I=[],a=this.F=[],c=this.M=[],h=this.T=[],l=this._=[];for(const t of n){const e=we.getHandles(t);(e?.includes(0)??1)&&r.push(t),(e?.includes(1)??1)&&o.push(t),(e?.includes(2)??1)&&a.push(t),(e?.includes(3)??1)&&c.push(t),(e?.includes(4)??1)&&h.push(t),(e?.includes(5)??1)&&l.push(t)}}else this.root=i.root,this.parent=i,r=this.j=i.j,o=this.I=i.I,a=this.F=i.F,c=this.M=i.M,h=this.T=i.T,l=this._=i._}trace(t,...e){this.config.level<=0&&this.P(this.j,0,t,e)}debug(t,...e){this.config.level<=1&&this.P(this.I,1,t,e)}info(t,...e){this.config.level<=2&&this.P(this.F,2,t,e)}warn(t,...e){this.config.level<=3&&this.P(this.M,3,t,e)}error(t,...e){this.config.level<=4&&this.P(this.T,4,t,e)}fatal(t,...e){this.config.level<=5&&this.P(this._,5,t,e)}scopeTo(t){const e=this.A;let n=e[t];return void 0===n&&(n=e[t]=new $e(this.config,this.f,null,this.scope.concat(t),this)),n}P(t,e,n,s){const i=V(n)?n():n,r=this.f.createLogEvent(this,e,i,s);for(let e=0,n=t.length;e<n;++e)t[e].handleEvent(r)}}le([Z],$e.prototype,"trace",null),le([Z],$e.prototype,"debug",null),le([Z],$e.prototype,"info",null),le([Z],$e.prototype,"warn",null),le([Z],$e.prototype,"error",null),le([Z],$e.prototype,"fatal",null),et({create:({level:t=3,colorOptions:e=0,sinks:n=[]}={})=>et({register(s){s.register(Nt(pe,new ke(e,t)));for(const t of n)V(t)?s.register(jt(ge,t)):s.register(t);return s}})});class Te{constructor(t,e){this.type=t,this.cb=e}handle(t){t instanceof this.type&&this.cb.call(null,t)}}const Ie=Ht("IEventAggregator",(t=>t.singleton(Re)));class Re{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(t,e){if(!t)throw q(18,t);if(D(t)){let n=this.eventLookup[t];if(void 0!==n){n=n.slice();let s=n.length;for(;s-- >0;)n[s](e,t)}}else{const e=this.messageHandlers.slice();let n=e.length;for(;n-- >0;)e[n].handle(t)}}subscribe(t,e){if(!t)throw q(19,t);let n,s;return D(t)?(void 0===this.eventLookup[t]&&(this.eventLookup[t]=[]),n=e,s=this.eventLookup[t]):(n=new Te(t,e),s=this.messageHandlers),s.push(n),{dispose(){const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}}subscribeOnce(t,e){const n=this.subscribe(t,((t,s)=>{n.dispose(),e(t,s)}));return n}}const Oe=Object,Ee=Oe.prototype.hasOwnProperty,Pe=Reflect.defineProperty,Me=t=>new Error(t),Ne=t=>"function"==typeof t,je=t=>t instanceof Oe,Le=t=>t instanceof Array,Be=t=>t instanceof Set,Ue=t=>t instanceof Map,Fe=Oe.is;function Ve(t,e,n){return Pe(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n}),n}function De(t,e,n){e in t||Ve(t,e,n)}const We=Object.assign,qe=String,_e=zt.createInterface,He=()=>Oe.create(null),ze=E.getOwn;E.hasOwn;const Ke=E.define;var Ge;pt.annotation.keyFor,pt.resource.keyFor,pt.resource.appendTo,function(t){t[t.AccessThis=0]="AccessThis",t[t.AccessScope=1]="AccessScope",t[t.ArrayLiteral=2]="ArrayLiteral",t[t.ObjectLiteral=3]="ObjectLiteral",t[t.PrimitiveLiteral=4]="PrimitiveLiteral",t[t.Template=5]="Template",t[t.Unary=6]="Unary",t[t.CallScope=7]="CallScope",t[t.CallMember=8]="CallMember",t[t.CallFunction=9]="CallFunction",t[t.AccessMember=10]="AccessMember",t[t.AccessKeyed=11]="AccessKeyed",t[t.TaggedTemplate=12]="TaggedTemplate",t[t.Binary=13]="Binary",t[t.Conditional=14]="Conditional",t[t.Assign=15]="Assign",t[t.ArrowFunction=16]="ArrowFunction",t[t.ValueConverter=17]="ValueConverter",t[t.BindingBehavior=18]="BindingBehavior",t[t.ArrayBindingPattern=19]="ArrayBindingPattern",t[t.ObjectBindingPattern=20]="ObjectBindingPattern",t[t.BindingIdentifier=21]="BindingIdentifier",t[t.ForOfStatement=22]="ForOfStatement",t[t.Interpolation=23]="Interpolation",t[t.ArrayDestructuring=24]="ArrayDestructuring",t[t.ObjectDestructuring=25]="ObjectDestructuring",t[t.DestructuringAssignmentLeaf=26]="DestructuringAssignmentLeaf",t[t.DestructuringAssignmentRestLeaf=27]="DestructuringAssignmentRestLeaf",t[t.Custom=28]="Custom"}(Ge||(Ge={}));class Qe{constructor(t){this.value=t,this.$kind=28}evaluate(t,e,n){return this.value}assign(t,e,n){return n}bind(t,e){}unbind(t,e){}accept(t){}}class Xe{constructor(t,e,n){this.expression=t,this.name=e,this.args=n,this.$kind=18,this.key=`_bb_${e}`}}class Ze{constructor(t,e,n){this.expression=t,this.name=e,this.args=n,this.$kind=17}}class Ye{constructor(t,e){this.target=t,this.value=e,this.$kind=15}}class Je{constructor(t,e,n){this.condition=t,this.yes=e,this.no=n,this.$kind=14}}class tn{constructor(t=0){this.ancestor=t,this.$kind=0}}tn.$this=new tn(0),tn.$parent=new tn(1);class en{constructor(t,e=0){this.name=t,this.ancestor=e,this.$kind=1}}class nn{constructor(t,e,n=!1){this.object=t,this.name=e,this.optional=n,this.$kind=10}}class sn{constructor(t,e,n=!1){this.object=t,this.key=e,this.optional=n,this.$kind=11}}class rn{constructor(t,e,n=0,s=!1){this.name=t,this.args=e,this.ancestor=n,this.optional=s,this.$kind=7}}class on{constructor(t,e,n,s=!1,i=!1){this.object=t,this.name=e,this.args=n,this.optionalMember=s,this.optionalCall=i,this.$kind=8}}class an{constructor(t,e,n=!1){this.func=t,this.args=e,this.optional=n,this.$kind=9}}class cn{constructor(t,e,n){this.operation=t,this.left=e,this.right=n,this.$kind=13}}class hn{constructor(t,e){this.operation=t,this.expression=e,this.$kind=6}}class ln{constructor(t){this.value=t,this.$kind=4}}ln.$undefined=new ln(void 0),ln.$null=new ln(null),ln.$true=new ln(!0),ln.$false=new ln(!1),ln.$empty=new ln("");class un{constructor(t){this.elements=t,this.$kind=2}}un.$empty=new un(oe);class fn{constructor(t,e){this.keys=t,this.values=e,this.$kind=3}}fn.$empty=new fn(oe,oe);class dn{constructor(t,e=oe){this.cooked=t,this.expressions=e,this.$kind=5}}dn.$empty=new dn([""]);class pn{constructor(t,e,n,s=oe){this.cooked=t,this.func=n,this.expressions=s,this.$kind=12,t.raw=e}}class gn{constructor(t){this.elements=t,this.$kind=19}}class mn{constructor(t,e){this.keys=t,this.values=e,this.$kind=20}}class vn{constructor(t){this.name=t,this.$kind=21}}class bn{constructor(t,e,n){this.declaration=t,this.iterable=e,this.semiIdx=n,this.$kind=22}}class wn{constructor(t,e=oe){this.parts=t,this.expressions=e,this.$kind=23,this.isMulti=e.length>1,this.firstExpression=e[0]}}class yn{constructor(t,e,n,s){this.$kind=t,this.list=e,this.source=n,this.initializer=s}}class kn{constructor(t,e,n){this.target=t,this.source=e,this.initializer=n,this.$kind=26}}class Cn{constructor(t,e,n=!1){this.args=t,this.body=e,this.rest=n,this.$kind=16}}const Sn=(t,...e)=>new Error(`AUR${qe(t).padStart(4,"0")}:${e.map(qe)}`);class An{constructor(t,e){void 0!==t&&(this[t]=e)}}class xn{constructor(t,e,n,s){this.parent=t,this.bindingContext=e,this.overrideContext=n,this.isBoundary=s}static getContext(t,e,n){if(null==t)throw Sn(203);let s=t.overrideContext,i=t;if(n>0){for(;n>0;)if(n--,i=i.parent,null==i)return;return s=i.overrideContext,e in s?s:i.bindingContext}for(;null!=i&&!i.isBoundary&&!(e in i.overrideContext)&&!(e in i.bindingContext);)i=i.parent;return null==i?t.bindingContext:(s=i.overrideContext,e in s?s:i.bindingContext)}static create(t,e,n){if(null==t)throw Sn(204);return new xn(null,t,null==e?new $n:e,n??!1)}static fromParent(t,e){if(null==t)throw Sn(203);return new xn(t,e,new $n,!1)}}class $n{}const Tn=xn.getContext;function In(t,e,n,s){switch(t.$kind){case 0:{let n=e.overrideContext,s=e,i=t.ancestor;for(;i--&&n;)s=s.parent,n=s?.overrideContext??null;return i<1&&s?s.bindingContext:void 0}case 1:{const i=Tn(e,t.name,t.ancestor);null!==s&&s.observe(i,t.name);const r=i[t.name];if(null==r&&"$host"===t.name)throw Sn(105);return n?.strict?n?.boundFn&&Ne(r)?r.bind(i):r:null==r?"":n?.boundFn&&Ne(r)?r.bind(i):r}case 2:return t.elements.map((t=>In(t,e,n,s)));case 3:{const i={};for(let r=0;r<t.keys.length;++r)i[t.keys[r]]=In(t.values[r],e,n,s);return i}case 4:return t.value;case 5:{let i=t.cooked[0];for(let r=0;r<t.expressions.length;++r)i+=String(In(t.expressions[r],e,n,s)),i+=t.cooked[r+1];return i}case 6:switch(t.operation){case"void":return void In(t.expression,e,n,s);case"typeof":return typeof In(t.expression,e,n,s);case"!":return!In(t.expression,e,n,s);case"-":return-In(t.expression,e,n,s);case"+":return+In(t.expression,e,n,s);default:throw Sn(109,t.operation)}case 7:{const i=t.args.map((t=>In(t,e,n,s))),r=Tn(e,t.name,t.ancestor),o=Pn(n?.strictFnCall,r,t.name);return o?o.apply(r,i):void 0}case 8:{const i=In(t.object,e,n,s),r=t.args.map((t=>In(t,e,n,s))),o=Pn(n?.strictFnCall,i,t.name);let a;return o&&(a=o.apply(i,r),Le(i)&&jn.includes(t.name)&&s?.observeCollection(i)),a}case 9:{const i=In(t.func,e,n,s);if(Ne(i))return i(...t.args.map((t=>In(t,e,n,s))));if(!n?.strictFnCall&&null==i)return;throw Sn(107)}case 16:{const i=(...i)=>{const r=t.args,o=t.rest,a=r.length-1,c=r.reduce(((t,e,n)=>(t[e.name]=o&&n===a?i.slice(n):i[n],t)),{}),h=xn.fromParent(e,c);return In(t.body,h,n,s)};return i}case 10:{const i=In(t.object,e,n,s);let r;if(n?.strict){if(null==i)return;return null!==s&&s.observe(i,t.name),r=i[t.name],n?.boundFn&&Ne(r)?r.bind(i):r}return null!==s&&je(i)&&s.observe(i,t.name),i?(r=i[t.name],n?.boundFn&&Ne(r)?r.bind(i):r):""}case 11:{const i=In(t.object,e,n,s),r=In(t.key,e,n,s);return je(i)?(null!==s&&s.observe(i,r),i[r]):null==i?void 0:i[r]}case 12:{const i=t.expressions.map((t=>In(t,e,n,s))),r=In(t.func,e,n,s);if(!Ne(r))throw Sn(110);return r(t.cooked,...i)}case 13:{const i=t.left,r=t.right;switch(t.operation){case"&&":return In(i,e,n,s)&&In(r,e,n,s);case"||":return In(i,e,n,s)||In(r,e,n,s);case"??":return In(i,e,n,s)??In(r,e,n,s);case"==":return In(i,e,n,s)==In(r,e,n,s);case"===":return In(i,e,n,s)===In(r,e,n,s);case"!=":return In(i,e,n,s)!=In(r,e,n,s);case"!==":return In(i,e,n,s)!==In(r,e,n,s);case"instanceof":{const t=In(r,e,n,s);return!!Ne(t)&&In(i,e,n,s)instanceof t}case"in":{const t=In(r,e,n,s);return!!je(t)&&In(i,e,n,s)in t}case"+":{const t=In(i,e,n,s),o=In(r,e,n,s);if(n?.strict)return t+o;if(!t||!o){if(Mn(t)||Mn(o))return(t||0)+(o||0);if(Nn(t)||Nn(o))return(t||"")+(o||"")}return t+o}case"-":return In(i,e,n,s)-In(r,e,n,s);case"*":return In(i,e,n,s)*In(r,e,n,s);case"/":return In(i,e,n,s)/In(r,e,n,s);case"%":return In(i,e,n,s)%In(r,e,n,s);case"<":return In(i,e,n,s)<In(r,e,n,s);case">":return In(i,e,n,s)>In(r,e,n,s);case"<=":return In(i,e,n,s)<=In(r,e,n,s);case">=":return In(i,e,n,s)>=In(r,e,n,s);default:throw Sn(108,t.operation)}}case 14:return In(t.condition,e,n,s)?In(t.yes,e,n,s):In(t.no,e,n,s);case 15:return Rn(t.target,e,n,In(t.value,e,n,s));case 17:{const i=n?.getConverter?.(t.name);if(null==i)throw Sn(103,t.name);return"toView"in i?i.toView(In(t.expression,e,n,s),...t.args.map((t=>In(t,e,n,s)))):In(t.expression,e,n,s)}case 18:return In(t.expression,e,n,s);case 21:return t.name;case 22:return In(t.iterable,e,n,s);case 23:if(t.isMulti){let i=t.parts[0],r=0;for(;r<t.expressions.length;++r)i+=qe(In(t.expressions[r],e,n,s)),i+=t.parts[r+1];return i}return`${t.parts[0]}${In(t.firstExpression,e,n,s)}${t.parts[1]}`;case 26:return In(t.target,e,n,s);case 24:return t.list.map((t=>In(t,e,n,s)));case 19:case 20:case 25:default:return;case 28:return t.evaluate(e,n,s)}}function Rn(t,e,n,s){switch(t.$kind){case 1:if("$host"===t.name)throw Sn(106);return Tn(e,t.name,t.ancestor)[t.name]=s;case 10:{const i=In(t.object,e,n,null);return je(i)?"length"===t.name&&Le(i)&&!isNaN(s)?i.splice(s):i[t.name]=s:Rn(t.object,e,n,{[t.name]:s}),s}case 11:{const i=In(t.object,e,n,null),r=In(t.key,e,n,null);if(Le(i)){if("length"===r&&!isNaN(s))return i.splice(s),s;if(H(r))return i.splice(r,1,s),s}return i[r]=s}case 15:return Rn(t.value,e,n,s),Rn(t.target,e,n,s);case 17:{const i=n?.getConverter?.(t.name);if(null==i)throw Sn(103,t.name);return"fromView"in i&&(s=i.fromView(s,...t.args.map((t=>In(t,e,n,null))))),Rn(t.expression,e,n,s)}case 18:return Rn(t.expression,e,n,s);case 24:case 25:{const i=t.list,r=i.length;let o,a;for(o=0;o<r;o++)switch(a=i[o],a.$kind){case 26:Rn(a,e,n,s);break;case 24:case 25:{if("object"!=typeof s||null===s)throw Sn(112);let t=In(a.source,xn.create(s),n,null);void 0===t&&a.initializer&&(t=In(a.initializer,e,n,null)),Rn(a,e,n,t);break}}break}case 26:if(t instanceof kn){if(null==s)return;if("object"!=typeof s)throw Sn(112);let i=In(t.source,xn.create(s),n,null);void 0===i&&t.initializer&&(i=In(t.initializer,e,n,null)),Rn(t.target,e,n,i)}else{if(null==s)return;if("object"!=typeof s)throw Sn(112);const i=t.indexOrProperties;let r;if(H(i)){if(!Array.isArray(s))throw Sn(112);r=s.slice(i)}else r=Object.entries(s).reduce(((t,[e,n])=>(i.includes(e)||(t[e]=n),t)),{});Rn(t.target,e,n,r)}break;case 28:return t.assign(e,n,s);default:return}}function On(t,e,n){switch(t.$kind){case 18:{const s=t.name,i=t.key,r=n.getBehavior?.(s);if(null==r)throw Sn(101,s);if(void 0!==n[i])throw Sn(102,s);return n[i]=r,r.bind?.(e,n,...t.args.map((t=>In(t,e,n,null)))),void On(t.expression,e,n)}case 17:{const s=t.name,i=n.getConverter?.(s);if(null==i)throw Sn(103,s);const r=i.signals;if(null!=r){const t=n.getSignaler?.(),e=r.length;let s=0;for(;s<e;++s)t?.addSignalListener(r[s],n)}return void On(t.expression,e,n)}case 22:On(t.iterable,e,n);break;case 28:t.bind?.(e,n)}}function En(t,e,n){switch(t.$kind){case 18:{const s=t.key,i=n;void 0!==i[s]&&(i[s].unbind?.(e,n),i[s]=void 0),En(t.expression,e,n);break}case 17:{const s=n.getConverter?.(t.name);if(void 0===s?.signals)return;const i=n.getSignaler?.();let r=0;for(;r<s.signals.length;++r)i?.removeSignalListener(s.signals[r],n);En(t.expression,e,n);break}case 22:En(t.iterable,e,n);break;case 28:t.unbind?.(e,n)}}const Pn=(t,e,n)=>{const s=null==e?null:e[n];if(Ne(s))return s;if(!t&&null==s)return null;throw Sn(111,n)},Mn=t=>{switch(typeof t){case"number":case"bigint":return!0;default:return!1}},Nn=t=>{switch(typeof t){case"string":return!0;case"object":return t instanceof Date;default:return!1}},jn="at map filter includes indexOf lastIndexOf findIndex find flat flatMap join reduce reduceRight slice every some sort".split(" "),Ln=zt.createInterface("ICoercionConfiguration");var Bn,Un;function Fn(t=0){const e=Array(t);let n=0;for(;n<t;)e[n]=n++;return e.deletedIndices=[],e.deletedItems=[],e.isIndexMap=!0,e}!function(t){t[t.indexed=8]="indexed",t[t.keyed=4]="keyed",t[t.array=9]="array",t[t.map=6]="map",t[t.set=7]="set"}(Bn||(Bn={})),function(t){t[t.None=0]="None",t[t.Observer=1]="Observer",t[t.Node=2]="Node",t[t.Layout=4]="Layout"}(Un||(Un={}));new Map;function Vn(t){return null==t?Wn:Wn(t)}const Dn=new WeakSet;function Wn(t){if(Dn.has(t))return;Dn.add(t);const e=t.prototype;Pe(e,"subs",{get:_n}),De(e,"subscribe",Hn),De(e,"unsubscribe",zn)}class qn{constructor(){this.count=0,this.t=[]}add(t){return!this.t.includes(t)&&(this.t[this.t.length]=t,++this.count,!0)}remove(t){const e=this.t.indexOf(t);return-1!==e&&(this.t.splice(e,1),--this.count,!0)}notify(t,e){const n=this.t.slice(0),s=n.length;let i=0;for(;i<s;++i)n[i].handleChange(t,e)}notifyCollection(t,e){const n=this.t.slice(0),s=n.length;let i=0;for(;i<s;++i)n[i].handleCollectionChange(t,e)}}function _n(){return Ve(this,"subs",new qn)}function Hn(t){return this.subs.add(t)}function zn(t){return this.subs.remove(t)}class Kn{constructor(t){this.owner=t,this.type=1,this.v=(this.o=t.collection).length}getValue(){return this.o.length}setValue(t){t!==this.v&&(Number.isNaN(t)||(this.o.splice(t),this.v=this.o.length))}handleCollectionChange(t,e){const n=this.v,s=this.o.length;(this.v=s)!==n&&this.subs.notify(this.v,n)}}class Gn{constructor(t){this.owner=t,this.type=1,this.v=(this.o=t.collection).size}getValue(){return this.o.size}setValue(){throw Sn(220)}handleCollectionChange(t,e){const n=this.v,s=this.o.size;(this.v=s)!==n&&this.subs.notify(this.v,n)}}function Qn(t){const e=t.prototype;De(e,"subscribe",Xn),De(e,"unsubscribe",Zn),Vn(t)}function Xn(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}function Zn(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.subscribe(this)}Qn(Kn),Qn(Gn);const Yn=Symbol.for("__au_arr_obs__"),Jn=Array[Yn]??Ve(Array,Yn,new WeakMap);function ts(t,e){return t===e?0:(t=null===t?"null":t.toString())<(e=null===e?"null":e.toString())?-1:1}function es(t,e){return void 0===t?void 0===e?0:1:void 0===e?-1:0}function ns(t,e,n,s,i){let r,o,a,c,h,l,u;for(l=n+1;l<s;l++){for(r=t[l],o=e[l],u=l-1;u>=n&&(a=t[u],c=e[u],h=i(a,r),h>0);u--)t[u+1]=a,e[u+1]=c;t[u+1]=r,e[u+1]=o}}function ss(t,e,n,s,i){let r,o,a,c,h,l,u,f,d,p,g,m,v,b,w,y,k,C,S,A=0,x=0;for(;;){if(s-n<=10)return void ns(t,e,n,s,i);A=n+(s-n>>1),r=t[n],c=e[n],o=t[s-1],h=e[s-1],a=t[A],l=e[A],u=i(r,o),u>0&&(p=r,g=c,r=o,c=h,o=p,h=g),f=i(r,a),f>=0?(p=r,g=c,r=a,c=l,a=o,l=h,o=p,h=g):(d=i(o,a),d>0&&(p=o,g=h,o=a,h=l,a=p,l=g)),t[n]=r,e[n]=c,t[s-1]=a,e[s-1]=l,m=o,v=h,b=n+1,w=s-1,t[A]=t[b],e[A]=e[b],t[b]=m,e[b]=v;t:for(x=b+1;x<w;x++)if(y=t[x],k=e[x],C=i(y,m),C<0)t[x]=t[b],e[x]=e[b],t[b]=y,e[b]=k,b++;else if(C>0){do{if(w--,w==x)break t;S=t[w],C=i(S,m)}while(C>0);t[x]=t[w],e[x]=e[w],t[w]=y,e[w]=k,C<0&&(y=t[x],k=e[x],t[x]=t[b],e[x]=e[b],t[b]=y,e[b]=k,b++)}s-w<b-n?(ss(t,e,w,s,i),s=b):(ss(t,e,n,b,i),n=w)}}const is=Array.prototype,rs=is.push,os=is.unshift,as=is.pop,cs=is.shift,hs=is.splice,ls=is.reverse,us=is.sort,fs=["push","unshift","pop","shift","splice","reverse","sort"],ds={push:function(...t){const e=Jn.get(this);if(void 0===e)return rs.apply(this,t);const n=this.length,s=t.length;if(0===s)return n;this.length=e.indexMap.length=n+s;let i=n;for(;i<this.length;)this[i]=t[i-n],e.indexMap[i]=-2,i++;return e.notify(),this.length},unshift:function(...t){const e=Jn.get(this);if(void 0===e)return os.apply(this,t);const n=t.length,s=new Array(n);let i=0;for(;i<n;)s[i++]=-2;os.apply(e.indexMap,s);const r=os.apply(this,t);return e.notify(),r},pop:function(){const t=Jn.get(this);if(void 0===t)return as.call(this);const e=t.indexMap,n=as.call(this),s=e.length-1;return e[s]>-1&&(e.deletedIndices.push(e[s]),e.deletedItems.push(n)),as.call(e),t.notify(),n},shift:function(){const t=Jn.get(this);if(void 0===t)return cs.call(this);const e=t.indexMap,n=cs.call(this);return e[0]>-1&&(e.deletedIndices.push(e[0]),e.deletedItems.push(n)),cs.call(e),t.notify(),n},splice:function(...t){const e=t[0],n=t[1],s=Jn.get(this);if(void 0===s)return hs.apply(this,t);const i=this.length,r=0|e,o=r<0?Math.max(i+r,0):Math.min(r,i),a=s.indexMap,c=t.length,h=0===c?0:1===c?i-o:n;let l=o;if(h>0){const t=l+h;for(;l<t;)a[l]>-1&&(a.deletedIndices.push(a[l]),a.deletedItems.push(this[l])),l++}if(l=0,c>2){const t=c-2,s=new Array(t);for(;l<t;)s[l++]=-2;hs.call(a,e,n,...s)}else hs.apply(a,t);const u=hs.apply(this,t);return(h>0||l>0)&&s.notify(),u},reverse:function(){const t=Jn.get(this);if(void 0===t)return ls.call(this),this;const e=this.length,n=e/2|0;let s=0;for(;s!==n;){const n=e-s-1,i=this[s],r=t.indexMap[s],o=this[n],a=t.indexMap[n];this[s]=o,t.indexMap[s]=a,this[n]=i,t.indexMap[n]=r,s++}return t.notify(),this},sort:function(t){const e=Jn.get(this);if(void 0===e)return us.call(this,t),this;let n=this.length;if(n<2)return this;ss(this,e.indexMap,0,n,es);let s=0;for(;s<n&&void 0!==this[s];)s++;void 0!==t&&Ne(t)||(t=ts),ss(this,e.indexMap,0,s,t);let i=!1;for(s=0,n=e.indexMap.length;n>s;++s)if(e.indexMap[s]!==s){i=!0;break}return i&&e.notify(),this}};for(const t of fs)Pe(ds[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let ps=!1;const gs="__au_arr_on__";class ms{constructor(t){this.type=1,ps||(ps=!0,function(){if(!ze(gs,Array)){Ke(gs,!0,Array);for(const t of fs)!0!==is[t].observing&&Ve(is,t,ds[t])}}()),this.indexObservers={},this.collection=t,this.indexMap=Fn(t.length),this.lenObs=void 0,Jn.set(t,this)}notify(){this.subs;const t=this.indexMap;const e=this.collection,n=e.length;this.indexMap=Fn(n),this.subs.notifyCollection(e,t)}getLengthObserver(){return this.lenObs??(this.lenObs=new Kn(this))}getIndexObserver(t){var e;return(e=this.indexObservers)[t]??(e[t]=new vs(this,t))}}class vs{constructor(t,e){this.owner=t,this.index=e,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(t){if(t===this.getValue())return;const e=this.owner,n=this.index,s=e.indexMap;s[n]>-1&&s.deletedIndices.push(s[n]),s[n]=-2,e.collection[n]=t,e.notify()}handleCollectionChange(t,e){const n=this.index;if(e[n]===n)return;const s=this.value,i=this.value=this.getValue();s!==i&&this.subs.notify(i,s)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.unsubscribe(this)}}function bs(t){let e=Jn.get(t);return void 0===e&&(e=new ms(t)),e}Vn(ms),Vn(vs);const ws=(t,e)=>t-e,ys=Symbol.for("__au_set_obs__"),ks=Set[ys]??Ve(Set,ys,new WeakMap),Cs=Set.prototype,Ss=Cs.add,As=Cs.clear,xs=Cs.delete,$s=["add","clear","delete"],Ts={add:function(t){const e=ks.get(this);if(void 0===e)return Ss.call(this,t),this;const n=this.size;return Ss.call(this,t),this.size===n||(e.indexMap[n]=-2,e.notify()),this},clear:function(){const t=ks.get(this);if(void 0===t)return As.call(this);if(this.size>0){const e=t.indexMap;let n=0;for(const t of this.keys())e[n]>-1&&(e.deletedIndices.push(e[n]),e.deletedItems.push(t)),n++;As.call(this),e.length=0,t.notify()}},delete:function(t){const e=ks.get(this);if(void 0===e)return xs.call(this,t);if(0===this.size)return!1;let n=0;const s=e.indexMap;for(const i of this.keys()){if(i===t){s[n]>-1&&(s.deletedIndices.push(s[n]),s.deletedItems.push(i)),s.splice(n,1);const r=xs.call(this,t);return!0===r&&e.notify(),r}n++}return!1}},Is={writable:!0,enumerable:!1,configurable:!0};for(const t of $s)Pe(Ts[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Rs=!1;const Os="__au_set_on__";class Es{constructor(t){this.type=1,Rs||(Rs=!0,function(){if(!ze(Os,Set)){Ke(Os,!0,Set);for(const t of $s)!0!==Cs[t].observing&&Pe(Cs,t,{...Is,value:Ts[t]})}}()),this.collection=t,this.indexMap=Fn(t.size),this.lenObs=void 0,ks.set(t,this)}notify(){this.subs;const t=this.indexMap;const e=this.collection,n=e.size;this.indexMap=Fn(n),this.subs.notifyCollection(e,t)}getLengthObserver(){return this.lenObs??(this.lenObs=new Gn(this))}}function Ps(t){let e=ks.get(t);return void 0===e&&(e=new Es(t)),e}Vn(Es);const Ms=Symbol.for("__au_map_obs__"),Ns=Map[Ms]??Ve(Map,Ms,new WeakMap),js=Map.prototype,Ls=js.set,Bs=js.clear,Us=js.delete,Fs=["set","clear","delete"],Vs={set:function(t,e){const n=Ns.get(this);if(void 0===n)return Ls.call(this,t,e),this;const s=this.get(t),i=this.size;if(Ls.call(this,t,e),this.size===i){let e=0;for(const i of this.entries()){if(i[0]===t)return i[1]!==s&&(n.indexMap.deletedIndices.push(n.indexMap[e]),n.indexMap.deletedItems.push(i),n.indexMap[e]=-2,n.notify()),this;e++}return this}return n.indexMap[i]=-2,n.notify(),this},clear:function(){const t=Ns.get(this);if(void 0===t)return Bs.call(this);if(this.size>0){const e=t.indexMap;let n=0;for(const t of this.keys())e[n]>-1&&(e.deletedIndices.push(e[n]),e.deletedItems.push(t)),n++;Bs.call(this),e.length=0,t.notify()}},delete:function(t){const e=Ns.get(this);if(void 0===e)return Us.call(this,t);if(0===this.size)return!1;let n=0;const s=e.indexMap;for(const i of this.keys()){if(i===t){s[n]>-1&&(s.deletedIndices.push(s[n]),s.deletedItems.push(i)),s.splice(n,1);const r=Us.call(this,t);return!0===r&&e.notify(),r}++n}return!1}},Ds={writable:!0,enumerable:!1,configurable:!0};for(const t of Fs)Pe(Vs[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Ws=!1;const qs="__au_map_on__";class _s{constructor(t){this.type=1,Ws||(Ws=!0,function(){if(!ze(qs,Map)){Ke(qs,!0,Map);for(const t of Fs)!0!==js[t].observing&&Pe(js,t,{...Ds,value:Vs[t]})}}()),this.collection=t,this.indexMap=Fn(t.size),this.lenObs=void 0,Ns.set(t,this)}notify(){const t=this.subs,e=this.indexMap;const n=this.collection,s=n.size;this.indexMap=Fn(s),t.notifyCollection(n,e)}getLengthObserver(){return this.lenObs??(this.lenObs=new Gn(this))}}function Hs(t){let e=Ns.get(t);return void 0===e&&(e=new _s(t)),e}function zs(){return Ve(this,"obs",new Ys(this))}function Ks(t,e){this.obs.add(this.oL.getObserver(t,e))}function Gs(t){let e;if(Le(t))e=bs(t);else if(Be(t))e=Ps(t);else{if(!Ue(t))throw Sn(210,t);e=Hs(t)}this.obs.add(e)}function Qs(t){this.obs.add(t)}function Xs(){throw Sn(99,"handleChange")}function Zs(){throw Sn(99,"handleCollectionChange")}Vn(_s);class Ys{constructor(t){this.version=0,this.count=0,this.o=new Map,this.b=t}add(t){this.o.has(t)||(t.subscribe(this.b),++this.count),this.o.set(t,this.version)}clear(){this.o.forEach(ti,this),this.count=this.o.size}clearAll(){this.o.forEach(Js,this),this.o.clear(),this.count=0}}function Js(t,e){e.unsubscribe(this.b)}function ti(t,e){this.version!==t&&(e.unsubscribe(this.b),this.o.delete(e))}function ei(t){const e=t.prototype;return De(e,"observe",Ks),De(e,"observeCollection",Gs),De(e,"subscribeTo",Qs),Pe(e,"obs",{get:zs}),De(e,"handleChange",Xs),De(e,"handleCollectionChange",Zs),t}function ni(t){return null==t?ei:ei(t)}const si=_e("IExpressionParser",(t=>t.singleton(ii)));class ii{constructor(){this.i=He(),this.u=He(),this.h=He()}parse(t,e){let n;switch(e){case 32:return new Qe(t);case 1:return n=this.h[t],void 0===n&&(n=this.h[t]=this.$parse(t,e)),n;case 2:return n=this.u[t],void 0===n&&(n=this.u[t]=this.$parse(t,e)),n;default:if(0===t.length){if((24&e)>0)return ln.$empty;throw Ki()}return n=this.i[t],void 0===n&&(n=this.i[t]=this.$parse(t,e)),n}}$parse(t,e){return pi=t,gi=0,mi=t.length,vi=0,bi=0,wi=6291456,yi="",di=xi(0),ki=!0,Ci=!1,Si=-1,Ti(61,void 0===e?16:e)}}function ri(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}const oi=ln.$false,ai=ln.$true,ci=ln.$null,hi=ln.$undefined,li=tn.$this,ui=tn.$parent;var fi;!function(t){t[t.None=0]="None",t[t.Interpolation=1]="Interpolation",t[t.IsIterator=2]="IsIterator",t[t.IsChainable=4]="IsChainable",t[t.IsFunction=8]="IsFunction",t[t.IsProperty=16]="IsProperty",t[t.IsCustom=32]="IsCustom"}(fi||(fi={}));let di,pi="",gi=0,mi=0,vi=0,bi=0,wi=6291456,yi="",ki=!0,Ci=!1,Si=-1;const Ai=String.fromCharCode,xi=t=>pi.charCodeAt(t),$i=()=>pi.slice(bi,gi);function Ti(t,e){if(32===e)return new Qe(pi);if(0===gi){if(1&e)return function(){const t=[],e=[],n=mi;let s="";for(;gi<n;){switch(di){case 36:if(123===xi(gi+1)){t.push(s),s="",gi+=2,di=xi(gi),Ni();const n=Ti(61,1);e.push(n);continue}s+="$";break;case 92:s+=Ai(ri(ji()));break;default:s+=Ai(di)}ji()}return e.length?(t.push(s),new wn(t,e)):null}();if(Ni(),4194304&wi)throw Di()}ki=513>t,Ci=!1;let n,s=!1,i=0;if(131072&wi){const t=fr[63&wi];Ni(),n=new hn(t,Ti(514,e)),ki=!1}else{t:switch(wi){case 12294:i=vi,ki=!1;do{switch(Ni(),++i,wi){case 65545:if(Ni(),0==(12288&wi))throw qi();break;case 10:case 11:throw qi();case 2162700:if(Ci=!0,Ni(),0==(12288&wi)){n=0===i?li:1===i?ui:new tn(i),s=!0;break t}break;default:if(2097152&wi){n=0===i?li:1===i?ui:new tn(i);break t}throw _i()}}while(12294===wi);case 4096:{const t=yi;if(n=2&e?new vn(t):new en(t,i),ki=!Ci,Ni(),Fi(50)){if(524296===wi)throw lr();const e=Ci,s=vi;++vi;const i=Ti(62,0);Ci=e,vi=s,ki=!1,n=new Cn([new vn(t)],i)}break}case 10:throw ur();case 11:throw Wi();case 12292:switch(ki=!1,Ni(),vi){case 0:n=li;break;case 1:n=ui;break;default:n=new tn(vi)}break;case 2688007:n=function(t){Ni();const e=gi,n=bi,s=wi,i=di,r=yi,o=ki,a=Ci,c=[];let h=1,l=!1;e:for(;;){if(11===wi){if(Ni(),4096!==wi)throw qi();if(c.push(new vn(yi)),Ni(),6291471===wi)throw hr();if(7340046!==wi)throw Wi();if(Ni(),50!==wi)throw Wi();Ni();const t=Ci,e=vi;++vi;const n=Ti(62,0);return Ci=t,vi=e,ki=!1,new Cn(c,n,!0)}switch(wi){case 4096:c.push(new vn(yi)),Ni();break;case 7340046:Ni();break e;case 524296:case 2688016:Ni(),h=4;break;case 6291471:h=2,l=!0;break e;case 2688007:h=2;break e;default:Ni(),h=2}switch(wi){case 6291471:if(Ni(),l=!0,1===h)break;break e;case 7340046:Ni();break e;case 4194349:1===h&&(h=3);break e;case 50:if(l)throw or();Ni(),h=2;break e;default:1===h&&(h=2);break e}}if(50===wi){if(1===h){if(Ni(),524296===wi)throw lr();const t=Ci,e=vi;++vi;const n=Ti(62,0);return Ci=t,vi=e,ki=!1,new Cn(c,n)}throw or()}if(1===h&&0===c.length)throw er();if(l)switch(h){case 2:throw or();case 3:throw ar();case 4:throw cr()}gi=e,bi=n,wi=s,di=i,yi=r,ki=o,Ci=a;const u=Ci,f=Ti(62,t);if(Ci=u,Vi(7340046),50===wi)switch(h){case 2:throw or();case 3:throw ar();case 4:throw cr()}return f}(e);break;case 2688016:n=pi.search(/\s+of\s+/)>gi?function(){const t=[],e=new yn(24,t,void 0,void 0);let n="",s=!0,i=0;for(;s;)switch(Ni(),wi){case 7340051:s=!1,r();break;case 6291471:r();break;case 4096:n=$i();break;default:throw sr()}return Vi(7340051),e;function r(){""!==n?(t.push(new kn(new nn(li,n),new sn(li,new ln(i++)),void 0)),n=""):i++}}():function(t){const e=Ci;Ni();const n=new Array;for(;7340051!==wi;)if(Fi(6291471)){if(n.push(hi),7340051===wi)break}else{if(n.push(Ti(62,-3&t)),!Fi(6291471))break;if(7340051===wi)break}return Ci=e,Vi(7340051),2&t?new gn(n):(ki=!1,new un(n))}(e);break;case 524296:n=function(t){const e=Ci,n=new Array,s=new Array;for(Ni();7340045!==wi;){if(n.push(yi),49152&wi)Ni(),Vi(6291476),s.push(Ti(62,-3&t));else{if(!(12288&wi))throw Ji();{const e=di,n=wi,i=gi;Ni(),Fi(6291476)?s.push(Ti(62,-3&t)):(di=e,wi=n,gi=i,s.push(Ti(515,-3&t)))}}7340045!==wi&&Vi(6291471)}return Ci=e,Vi(7340045),2&t?new mn(n,s):(ki=!1,new fn(n,s))}(e);break;case 2163759:n=new dn([yi]),ki=!1,Ni();break;case 2163760:n=Pi(e,n,!1);break;case 16384:case 32768:n=new ln(yi),ki=!1,Ni();break;case 8194:case 8195:case 8193:case 8192:n=fr[63&wi],ki=!1,Ni();break;default:throw gi>=mi?Hi():zi()}if(2&e)return function(t){if(0==(23&t.$kind))throw Yi();if(4204593!==wi)throw Yi();Ni();const e=t,n=Ti(61,4);return new bn(e,n,Si)}(n);if(514<t)return n;if(10===wi||11===wi)throw qi();if(0===n.$kind)switch(wi){case 2162700:if(Ci=!0,ki=!1,Ni(),0==(13312&wi))throw ir();if(12288&wi)n=new en(yi,n.ancestor),Ni();else if(2688007===wi)n=new an(n,Ii(),!0);else{if(2688016!==wi)throw rr();n=Ri(n,!0)}break;case 65545:if(ki=!Ci,Ni(),0==(12288&wi))throw qi();n=new en(yi,n.ancestor),Ni();break;case 10:case 11:throw qi();case 2688007:n=new an(n,Ii(),s);break;case 2688016:n=Ri(n,s);break;case 2163759:n=Mi(n);break;case 2163760:n=Pi(e,n,!0)}for(;(65536&wi)>0;)switch(wi){case 2162700:n=Oi(n);break;case 65545:if(Ni(),0==(12288&wi))throw qi();n=Ei(n,!1);break;case 10:case 11:throw qi();case 2688007:n=1===n.$kind?new rn(n.name,Ii(),n.ancestor,!1):10===n.$kind?new on(n.object,n.name,Ii(),n.optional,!1):new an(n,Ii(),!1);break;case 2688016:n=Ri(n,!1);break;case 2163759:if(Ci)throw rr();n=Mi(n);break;case 2163760:if(Ci)throw rr();n=Pi(e,n,!0)}}if(10===wi||11===wi)throw qi();if(513<t)return n;for(;(262144&wi)>0;){const s=wi;if((960&s)<=t)break;Ni(),n=new cn(fr[63&s],n,Ti(960&s,e)),ki=!1}if(63<t)return n;if(Fi(6291478)){const t=Ti(62,e);Vi(6291476),n=new Je(n,t,Ti(62,e)),ki=!1}if(62<t)return n;if(Fi(4194349)){if(!ki)throw Gi();n=new Ye(n,Ti(62,e))}if(61<t)return n;for(;Fi(6291480);){if(6291456===wi)throw Qi();const t=yi;Ni();const s=new Array;for(;Fi(6291476);)s.push(Ti(62,e));n=new Ze(n,t,s)}for(;Fi(6291479);){if(6291456===wi)throw Xi();const t=yi;Ni();const s=new Array;for(;Fi(6291476);)s.push(Ti(62,e));n=new Xe(n,t,s)}if(6291456!==wi){if((1&e)>0&&7340045===wi)return n;if((4&e)>0&&6291477===wi){if(gi===mi)throw zi();return Si=gi-1,n}if("of"===$i())throw Zi();throw zi()}return n}function Ii(){const t=Ci;Ni();const e=[];for(;7340046!==wi&&(e.push(Ti(62,0)),Fi(6291471)););return Vi(7340046),ki=!1,Ci=t,e}function Ri(t,e){const n=Ci;return Ni(),t=new sn(t,Ti(62,0),e),Vi(7340051),ki=!n,Ci=n,t}function Oi(t){if(Ci=!0,ki=!1,Ni(),0==(13312&wi))throw ir();if(12288&wi)return Ei(t,!0);if(2688007===wi)return 1===t.$kind?new rn(t.name,Ii(),t.ancestor,!0):10===t.$kind?new on(t.object,t.name,Ii(),t.optional,!0):new an(t,Ii(),!0);if(2688016===wi)return Ri(t,!0);throw rr()}function Ei(t,e){const n=yi;switch(wi){case 2162700:{Ci=!0,ki=!1;const s=gi,i=bi,r=wi,o=di,a=yi,c=ki,h=Ci;if(Ni(),0==(13312&wi))throw ir();return 2688007===wi?new on(t,n,Ii(),e,!0):(gi=s,bi=i,wi=r,di=o,yi=a,ki=c,Ci=h,new nn(t,n,e))}case 2688007:return ki=!1,new on(t,n,Ii(),e,!1);default:return ki=!Ci,Ni(),new nn(t,n,e)}}function Pi(t,e,n){const s=Ci,i=[yi];Vi(2163760);const r=[Ti(62,t)];for(;2163759!==(wi=Ui());)i.push(yi),Vi(2163760),r.push(Ti(62,t));return i.push(yi),ki=!1,Ci=s,n?(Ni(),new pn(i,i,e,r)):(Ni(),new dn(i,r))}function Mi(t){ki=!1;const e=[yi];return Ni(),new pn(e,e,t)}function Ni(){for(;gi<mi;)if(bi=gi,null!=(wi=wr[di]()))return;wi=6291456}function ji(){return di=xi(++gi)}function Li(t){let e=di;if(!1===t){do{e=ji()}while(e<=57&&e>=48);if(46!==e)return yi=parseInt($i(),10),32768;if(e=ji(),gi>=mi)return yi=parseInt($i().slice(0,-1),10),32768}if(e<=57&&e>=48)do{e=ji()}while(e<=57&&e>=48);else di=xi(--gi);return yi=parseFloat($i()),32768}function Bi(){let t=!0,e="";for(;96!==ji();)if(36===di){if(gi+1<mi&&123===xi(gi+1)){gi++,t=!1;break}e+="$"}else if(92===di)e+=Ai(ri(ji()));else{if(gi>=mi)throw tr();e+=Ai(di)}return ji(),yi=e,t?2163759:2163760}const Ui=()=>{if(gi>=mi)throw tr();return gi--,Bi()},Fi=t=>wi===t&&(Ni(),!0),Vi=t=>{if(wi!==t)throw er();Ni()},Di=()=>Sn(151,pi),Wi=()=>Sn(152,pi),qi=()=>Sn(153,pi),_i=()=>Sn(154,pi),Hi=()=>Sn(155,pi),zi=()=>Sn(156,$i(),gi,pi),Ki=()=>Sn(157),Gi=()=>Sn(158,pi),Qi=()=>Sn(159,pi),Xi=()=>Sn(160,pi),Zi=()=>Sn(161,pi),Yi=()=>Sn(163,pi),Ji=()=>Sn(164,pi),tr=()=>Sn(166,pi),er=t=>Sn(167,pi),nr=()=>{throw Sn(168,pi)};nr.notMapped=!0;const sr=()=>Sn(170,pi),ir=()=>Sn(171,pi),rr=()=>Sn(172,pi),or=()=>Sn(173,pi),ar=()=>Sn(174,pi),cr=()=>Sn(175,pi),hr=()=>Sn(176,pi),lr=()=>Sn(178,pi),ur=()=>Sn(179,pi),fr=[oi,ai,ci,hi,"$this",null,"$parent","(","{",".","..","...","?.","}",")",",","[","]",":",";","?","'",'"',"&","|","??","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",2163759,2163760,"of","=>"],dr=We(Object.create(null),{true:8193,null:8194,false:8192,undefined:8195,$this:12292,$parent:12294,in:6562212,instanceof:6562213,typeof:139304,void:139305,of:4204593}),pr=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],gr=[48,58],mr=(t,e,n,s)=>{const i=n.length;for(let r=0;r<i;r+=2){const i=n[r];let o=n[r+1];if(o=o>0?o:i+1,t&&t.fill(s,i,o),e)for(let t=i;t<o;t++)e.add(t)}},vr=t=>()=>(ji(),t);mr(null,new Set,[36,0,48,58,65,91,95,0,97,123],!0);const br=new Uint8Array(65535);mr(br,null,pr,1),mr(br,null,gr,1);const wr=new Array(65535);wr.fill(nr,0,65535),mr(wr,null,[0,33,127,161],(()=>(ji(),null))),mr(wr,null,pr,(function(){for(;br[ji()];);const t=dr[yi=$i()];return void 0===t?4096:t})),mr(wr,null,gr,(()=>Li(!1))),wr[34]=wr[39]=()=>function(){const t=di;ji();let e=0;const n=new Array;let s=gi;for(;di!==t;)if(92===di)n.push(pi.slice(s,gi)),ji(),e=ri(di),ji(),n.push(Ai(e)),s=gi;else{if(gi>=mi)throw Sn(165,pi);ji()}const i=pi.slice(s,gi);ji(),n.push(i);const r=n.join("");return yi=r,16384}(),wr[96]=()=>Bi(),wr[33]=()=>61!==ji()?131118:61!==ji()?6553949:(ji(),6553951),wr[61]=()=>62===ji()?(ji(),50):61!==di?4194349:61!==ji()?6553948:(ji(),6553950),wr[38]=()=>38!==ji()?6291479:(ji(),6553883),wr[124]=()=>124!==ji()?6291480:(ji(),6553818),wr[63]=()=>{if(46===ji()){const t=xi(gi+1);return t<=48||t>=57?(ji(),2162700):6291478}return 63!==di?6291478:(ji(),6553753)},wr[46]=()=>ji()<=57&&di>=48?Li(!0):46===di?46!==ji()?10:(ji(),11):65545,wr[60]=()=>61!==ji()?6554016:(ji(),6554018),wr[62]=()=>61!==ji()?6554017:(ji(),6554019),wr[37]=vr(6554155),wr[40]=vr(2688007),wr[41]=vr(7340046),wr[42]=vr(6554154),wr[43]=vr(2490854),wr[44]=vr(6291471),wr[45]=vr(2490855),wr[47]=vr(6554156),wr[58]=vr(6291476),wr[59]=vr(6291477),wr[91]=vr(2688016),wr[93]=vr(7340051),wr[123]=vr(524296),wr[125]=vr(7340045);let yr=null;const kr=[];let Cr=!1;function Sr(){return yr}function Ar(t){if(null==t)throw Sn(206);if(null==yr)return yr=t,kr[0]=yr,void(Cr=!0);if(yr===t)throw Sn(207);kr.push(t),yr=t,Cr=!0}function xr(t){if(null==t)throw Sn(208);if(yr!==t)throw Sn(209);kr.pop(),yr=kr.length>0?kr[kr.length-1]:null,Cr=null!=yr}const $r=Object.freeze({get current(){return yr},get connecting(){return Cr},enter:Ar,exit:xr,pause:function(){Cr=!1},resume:function(){Cr=!0}}),Tr=Reflect.get,Ir=Object.prototype.toString,Rr=new WeakMap,Or="__au_nw__";function Er(t){switch(Ir.call(t)){case"[object Object]":return!0!==t.constructor[Or];case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const Pr="__raw__";function Mr(t){return Er(t)?Nr(t):t}function Nr(t){return Rr.get(t)??function(t){const e=Le(t)?Fr:Ue(t)||Be(t)?co:Ur,n=new Proxy(t,e);return Rr.set(t,n),Rr.set(n,n),n}(t)}function jr(t){return t[Pr]??t}function Lr(t){return Er(t)&&t[Pr]||t}function Br(t,e){return"constructor"===e||"__proto__"===e||"$observers"===e||e===Symbol.toPrimitive||e===Symbol.toStringTag||!0===t.constructor[`__au_nw_${qe(e)}__`]}const Ur={get(t,e,n){if(e===Pr)return t;const s=Sr();return!Cr||Br(t,e)||null==s?Tr(t,e,n):(s.observe(t,e),Mr(Tr(t,e,n)))}},Fr={get(t,e,n){if(e===Pr)return t;if(!Cr||Br(t,e)||null==yr)return Tr(t,e,n);switch(e){case"length":return yr.observe(t,"length"),t.length;case"map":return Vr;case"includes":return qr;case"indexOf":return _r;case"lastIndexOf":return Hr;case"every":return Dr;case"filter":return Wr;case"find":return Kr;case"findIndex":return zr;case"flat":return Gr;case"flatMap":return Qr;case"join":return Xr;case"push":return Yr;case"pop":return Zr;case"reduce":return oo;case"reduceRight":return ao;case"reverse":return no;case"shift":return Jr;case"unshift":return to;case"slice":return ro;case"splice":return eo;case"some":return so;case"sort":return io;case"keys":return vo;case"values":case Symbol.iterator:return bo;case"entries":return wo}return yr.observe(t,e),Mr(Tr(t,e,n))},ownKeys:t=>(Sr()?.observe(t,"length"),Reflect.ownKeys(t))};function Vr(t,e){const n=jr(this),s=n.map(((n,s)=>Lr(t.call(e,Mr(n),s,this))));return yo(yr,n),Mr(s)}function Dr(t,e){const n=jr(this),s=n.every(((n,s)=>t.call(e,Mr(n),s,this)));return yo(yr,n),s}function Wr(t,e){const n=jr(this),s=n.filter(((n,s)=>Lr(t.call(e,Mr(n),s,this))));return yo(yr,n),Mr(s)}function qr(t){const e=jr(this),n=e.includes(Lr(t));return yo(yr,e),n}function _r(t){const e=jr(this),n=e.indexOf(Lr(t));return yo(yr,e),n}function Hr(t){const e=jr(this),n=e.lastIndexOf(Lr(t));return yo(yr,e),n}function zr(t,e){const n=jr(this),s=n.findIndex(((n,s)=>Lr(t.call(e,Mr(n),s,this))));return yo(yr,n),s}function Kr(t,e){const n=jr(this),s=n.find(((e,n)=>t(Mr(e),n,this)),e);return yo(yr,n),Mr(s)}function Gr(){const t=jr(this);return yo(yr,t),Mr(t.flat())}function Qr(t,e){const n=jr(this);return yo(yr,n),Nr(n.flatMap(((n,s)=>Mr(t.call(e,Mr(n),s,this)))))}function Xr(t){const e=jr(this);return yo(yr,e),e.join(t)}function Zr(){return Mr(jr(this).pop())}function Yr(...t){return jr(this).push(...t)}function Jr(){return Mr(jr(this).shift())}function to(...t){return jr(this).unshift(...t)}function eo(...t){return Mr(jr(this).splice(...t))}function no(...t){const e=jr(this),n=e.reverse();return yo(yr,e),Mr(n)}function so(t,e){const n=jr(this),s=n.some(((n,s)=>Lr(t.call(e,Mr(n),s,this))));return yo(yr,n),s}function io(t){const e=jr(this),n=e.sort(t);return yo(yr,e),Mr(n)}function ro(t,e){const n=jr(this);return yo(yr,n),Nr(n.slice(t,e))}function oo(t,e){const n=jr(this),s=n.reduce(((e,n,s)=>t(e,Mr(n),s,this)),e);return yo(yr,n),Mr(s)}function ao(t,e){const n=jr(this),s=n.reduceRight(((e,n,s)=>t(e,Mr(n),s,this)),e);return yo(yr,n),Mr(s)}const co={get(t,e,n){if(e===Pr)return t;const s=Sr();if(!Cr||Br(t,e)||null==s)return Tr(t,e,n);switch(e){case"size":return s.observe(t,"size"),t.size;case"clear":return go;case"delete":return mo;case"forEach":return ho;case"add":if(Be(t))return po;break;case"get":if(Ue(t))return uo;break;case"set":if(Ue(t))return fo;break;case"has":return lo;case"keys":return vo;case"values":return bo;case"entries":return wo;case Symbol.iterator:return Ue(t)?wo:bo}return Mr(Tr(t,e,n))}};function ho(t,e){const n=jr(this);return yo(yr,n),n.forEach(((n,s)=>{t.call(e,Mr(n),Mr(s),this)}))}function lo(t){const e=jr(this);return yo(yr,e),e.has(Lr(t))}function uo(t){const e=jr(this);return yo(yr,e),Mr(e.get(Lr(t)))}function fo(t,e){return Mr(jr(this).set(Lr(t),Lr(e)))}function po(t){return Mr(jr(this).add(Lr(t)))}function go(){return Mr(jr(this).clear())}function mo(t){return Mr(jr(this).delete(Lr(t)))}function vo(){const t=jr(this);yo(yr,t);const e=t.keys();return{next(){const t=e.next(),n=t.value,s=t.done;return s?{value:void 0,done:s}:{value:Mr(n),done:s}},[Symbol.iterator](){return this}}}function bo(){const t=jr(this);yo(yr,t);const e=t.values();return{next(){const t=e.next(),n=t.value,s=t.done;return s?{value:void 0,done:s}:{value:Mr(n),done:s}},[Symbol.iterator](){return this}}}function wo(){const t=jr(this);yo(yr,t);const e=t.entries();return{next(){const t=e.next(),n=t.value,s=t.done;return s?{value:void 0,done:s}:{value:[Mr(n[0]),Mr(n[1])],done:s}},[Symbol.iterator](){return this}}}const yo=(t,e)=>t?.observeCollection(e),ko=Object.freeze({getProxy:Nr,getRaw:jr,wrap:Mr,unwrap:Lr,rawKey:Pr});class Co{constructor(t,e,n,s,i){this.type=1,this.v=void 0,this.ir=!1,this.D=!1,this.cb=void 0,this.A=void 0,this.C=void 0,this.o=t,this.O=i?Mr(t):t,this.$get=e,this.$set=n,this.oL=s}init(t){this.v=t,this.D=!1}getValue(){return 0===this.subs.count?this.$get.call(this.o,this.o,this):(this.D&&(this.compute(),this.D=!1),this.v)}setValue(t){if(!Ne(this.$set))throw Sn(221);void 0!==this.A&&(t=this.A.call(null,t,this.C)),Fe(t,this.v)||(this.ir=!0,this.$set.call(this.o,t),this.ir=!1,this.run())}useCoercer(t,e){return this.A=t,this.C=e,!0}useCallback(t){return this.cb=t,!0}handleChange(){this.D=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this.D=!0,this.subs.count>0&&this.run()}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.compute(),this.D=!1)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.D=!0,this.obs.clearAll())}run(){if(this.ir)return;const t=this.v,e=this.compute();this.D=!1,Fe(e,t)||(this.cb?.(e,t),this.subs.notify(this.v,t))}compute(){this.ir=!0,this.obs.version++;try{return Ar(this),this.v=Lr(this.$get.call(this.O,this.O,this))}finally{this.obs.clear(),this.ir=!1,xr(this)}}}ni(Co),Vn(Co);const So=_e("IDirtyChecker",void 0),Ao={timeoutsPerCheck:25,disabled:!1,throw:!1,resetToDefault(){this.timeoutsPerCheck=6,this.disabled=!1,this.throw=!1}};class xo{static register(t){t.register(ie.singleton(this,this),ie.aliasTo(this,So))}constructor(t){this.p=t,this.tracked=[],this.T=null,this.P=0,this.check=()=>{if(Ao.disabled)return;if(++this.P<Ao.timeoutsPerCheck)return;this.P=0;const t=this.tracked,e=t.length;let n,s=0;for(;s<e;++s)n=t[s],n.isDirty()&&n.flush()},Vn($o)}createProperty(t,e){if(Ao.throw)throw Me(`AUR0222:${qe(e)}`);return new $o(this,t,e)}addProperty(t){this.tracked.push(t),1===this.tracked.length&&(this.T=this.p.taskQueue.queueTask(this.check,{persistent:!0}))}removeProperty(t){this.tracked.splice(this.tracked.indexOf(t),1),0===this.tracked.length&&(this.T.cancel(),this.T=null)}}xo.inject=[he];class $o{constructor(t,e,n){this.obj=e,this.key=n,this.type=0,this.ov=void 0,this.I=t}getValue(){return this.obj[this.key]}setValue(t){throw Me(`Trying to set value for property ${qe(this.key)} in dirty checker`)}isDirty(){return this.ov!==this.obj[this.key]}flush(){const t=this.ov,e=this.getValue();this.ov=e,this.subs.notify(e,t)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.ov=this.obj[this.key],this.I.addProperty(this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.I.removeProperty(this)}}class To{get doNotCache(){return!0}constructor(t,e){this.type=0,this.o=t,this.k=e}getValue(){return this.o[this.k]}setValue(){}subscribe(){}unsubscribe(){}}class Io{constructor(){this.type=0}getValue(t,e){return t[e]}setValue(t,e,n){e[n]=t}}class Ro{constructor(t,e){this.type=1,this.v=void 0,this.iO=!1,this.cb=void 0,this.A=void 0,this.C=void 0,this.o=t,this.k=e}getValue(){return this.v}setValue(t){if(void 0!==this.A&&(t=this.A.call(void 0,t,this.C)),this.iO){if(Fe(t,this.v))return;Oo=this.v,this.v=t,this.cb?.(t,Oo),this.subs.notify(t,Oo)}else this.v=this.o[this.k]=t,this.cb?.(t,Oo)}useCallback(t){return this.cb=t,this.start(),!0}useCoercer(t,e){return this.A=t,this.C=e,this.start(),!0}subscribe(t){!1===this.iO&&this.start(),this.subs.add(t)}start(){return!1===this.iO&&(this.iO=!0,this.v=this.o[this.k],Pe(this.o,this.k,{enumerable:!0,configurable:!0,get:We((()=>this.getValue()),{getObserver:()=>this}),set:t=>{this.setValue(t)}})),this}stop(){return this.iO&&(Pe(this.o,this.k,{enumerable:!0,configurable:!0,writable:!0,value:this.v}),this.iO=!1),this}}let Oo;Vn(Ro);const Eo=new Io,Po=_e("IObserverLocator",(t=>t.singleton(jo))),Mo=_e("INodeObserverLocator",(t=>t.cachedCallback((t=>new No))));class No{handles(){return!1}getObserver(){return Eo}getAccessor(){return Eo}}class jo{constructor(t,e){this.L=[],this.I=t,this.M=e}addAdapter(t){this.L.push(t)}getObserver(t,e){if(null==t)throw Sn(199,e);if(!je(t))return new To(t,Ne(e)?"":e);if(Ne(e))return new Co(t,e,void 0,this,!0);const n=Uo(t);let s=n[e];return void 0===s&&(s=this.createObserver(t,e),s.doNotCache||(n[e]=s)),s}getAccessor(t,e){const n=t.$observers?.[e];return void 0!==n?n:this.M.handles(t,e,this)?this.M.getAccessor(t,e,this):Eo}getArrayObserver(t){return bs(t)}getMapObserver(t){return Hs(t)}getSetObserver(t){return Ps(t)}createObserver(t,e){if(this.M.handles(t,e,this))return this.M.getObserver(t,e,this);switch(e){case"length":if(Le(t))return bs(t).getLengthObserver();break;case"size":if(Ue(t))return Hs(t).getLengthObserver();if(Be(t))return Ps(t).getLengthObserver();break;default:if(Le(t)&&H(e))return bs(t).getIndexObserver(Number(e))}let n=Bo(t,e);if(void 0===n){let s=Lo(t);for(;null!==s&&(n=Bo(s,e),void 0===n);)s=Lo(s)}if(void 0!==n&&!Ee.call(n,"value")){let s=this.R(t,e,n);return null==s&&(s=(n.get?.getObserver??n.set?.getObserver)?.(t,this)),null==s?n.configurable?this._(t,e,n,!0):this.I.createProperty(t,e):s}return new Ro(t,e)}_(t,e,n,s){const i=new Co(t,n.get,n.set,this,!!s);return Pe(t,e,{enumerable:n.enumerable,configurable:!0,get:We((()=>i.getValue()),{getObserver:()=>i}),set:t=>{i.setValue(t)}}),i}R(t,e,n){if(this.L.length>0)for(const s of this.L){const i=s.getObserver(t,e,n,this);if(null!=i)return i}return null}}jo.inject=[So,Mo];const Lo=Object.getPrototypeOf,Bo=Object.getOwnPropertyDescriptor,Uo=t=>{let e=t.$observers;return void 0===e&&Pe(t,"$observers",{enumerable:!1,value:e=He()}),e};ni(class{constructor(t,e){this.oL=t,this.fn=e,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}run(){if(this.stopped)throw Sn(225);if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{Ar(this),this.fn(this)}finally{this.obs.clear(),this.running=!1,xr(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,Sn(226);this.run()}else this.runCount=0}}stop(){this.stopped=!0,this.obs.clearAll()}});const Fo=_e("ISignaler",(t=>t.singleton(Vo)));class Vo{constructor(){this.signals=He()}dispatchSignal(t){const e=this.signals[t];if(void 0===e)return;let n;for(n of e.keys())n.handleChange(void 0,void 0)}addSignalListener(t,e){const n=this.signals,s=n[t];void 0===s?n[t]=new Set([e]):s.add(e)}removeSignalListener(t,e){this.signals[t]?.delete(e)}}const Do=new Map,Wo=t=>()=>{throw oa(`AUR1005:${t}`)};class qo{constructor(t,e={}){this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=t,"decodeURI decodeURIComponent encodeURI encodeURIComponent Date Reflect console".split(" ").forEach((n=>{this[n]=n in e?e[n]:t[n]})),"clearInterval clearTimeout queueMicrotask setInterval setTimeout".split(" ").forEach((n=>{this[n]=n in e?e[n]:t[n]?.bind(t)??Wo(n)})),this.performanceNow="performanceNow"in e?e.performanceNow:t.performance?.now?.bind(t.performance)??Wo("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new _o(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(t,e={}){let n=Do.get(t);return void 0===n&&Do.set(t,n=new qo(t,e)),n}static set(t,e){Do.set(t,e)}requestMacroTask(){this.macroTaskRequested=!0,-1===this.macroTaskHandle&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,!0===this.macroTaskRequested&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}class _o{get isEmpty(){return 0===this.t&&0===this.i.length&&0===this.h.length&&0===this.u.length}get T(){return 0===this.t&&this.i.every(sa)&&this.h.every(sa)&&this.u.every(sa)}constructor(t,e,n){this.platform=t,this.$request=e,this.$cancel=n,this.$=void 0,this.t=0,this.i=[],this.h=[],this.u=[],this.R=!1,this.A=void 0,this.P=[],this.M=0,this.U=0,this.q=0,this.I=()=>{this.R||(this.R=!0,this.U=this._(),this.$request())},this._=t.performanceNow,this.C=new Xo(t.console)}flush(t=this._()){if(this.R=!1,this.q=t,void 0===this.$){if(this.h.length>0&&(this.i.push(...this.h),this.h.length=0),this.u.length>0){let e=-1;for(;++e<this.u.length&&this.u[e].queueTime<=t;);this.i.push(...this.u.splice(0,e))}let e;for(;this.i.length>0;)if((e=this.i.shift()).run(),1===e.status){if(!0===e.suspend)return this.$=e,void this.I();++this.t}if(this.h.length>0&&(this.i.push(...this.h),this.h.length=0),this.u.length>0){let e=-1;for(;++e<this.u.length&&this.u[e].queueTime<=t;);this.i.push(...this.u.splice(0,e))}if((this.i.length>0||this.u.length>0||this.t>0)&&this.I(),void 0!==this.A&&this.T){const t=this.A;this.A=void 0,t.resolve()}}else this.I()}cancel(){this.R&&(this.$cancel(),this.R=!1)}async yield(){this.isEmpty||(void 0===this.A&&(this.A=na()),await this.A)}queueTask(t,e){const{delay:n,preempt:s,persistent:i,reusable:r,suspend:o}={...Yo,...e};if(s){if(n>0)throw ia();if(i)throw ra()}0===this.i.length&&this.I();const a=this._();let c;if(r){const e=this.P,h=this.M-1;h>=0?(c=e[h],e[h]=void 0,this.M=h,c.reuse(a,n,s,i,o,t)):c=new Qo(this.C,this,a,a+n,s,i,o,r,t)}else c=new Qo(this.C,this,a,a+n,s,i,o,r,t);return s?this.i[this.i.length]=c:0===n?this.h[this.h.length]=c:this.u[this.u.length]=c,c}remove(t){let e=this.i.indexOf(t);if(e>-1)this.i.splice(e,1);else if(e=this.h.indexOf(t),e>-1)this.h.splice(e,1);else{if(e=this.u.indexOf(t),!(e>-1))throw oa(`Task #${t.id} could not be found`);this.u.splice(e,1)}}N(t){this.P[this.M++]=t}j(t){t.reset(this._()),t.createdTime===t.queueTime?this.h[this.h.length]=t:this.u[this.u.length]=t}F(t){if(!0===t.suspend){if(this.$!==t)throw oa(`Async task completion mismatch: suspenderTask=${this.$?.id}, task=${t.id}`);this.$=void 0}else--this.t;if(void 0!==this.A&&this.T){const t=this.A;this.A=void 0,t.resolve()}this.isEmpty&&this.cancel()}}class Ho extends Error{constructor(t){super("Task was canceled."),this.task=t}}let zo=0;var Ko,Go;!function(t){t[t.pending=0]="pending",t[t.running=1]="running",t[t.completed=2]="completed",t[t.canceled=3]="canceled"}(Ko||(Ko={}));class Qo{get result(){const t=this.O;if(void 0===t)switch(this.W){case 0:{const t=this.O=na();return this.B=t.resolve,this.G=t.reject,t}case 1:throw oa("Trying to await task from within task will cause a deadlock.");case 2:return this.O=Promise.resolve();case 3:return this.O=Promise.reject(new Ho(this))}return t}get status(){return this.W}constructor(t,e,n,s,i,r,o,a,c){this.taskQueue=e,this.createdTime=n,this.queueTime=s,this.preempt=i,this.persistent=r,this.suspend=o,this.reusable=a,this.callback=c,this.id=++zo,this.B=void 0,this.G=void 0,this.O=void 0,this.W=0,this.C=t}run(t=this.taskQueue.platform.performanceNow()){if(0!==this.W)throw oa(`Cannot run task in ${this.W} state`);const{persistent:e,reusable:n,taskQueue:s,callback:i,B:r,G:o,createdTime:a}=this;let c;this.W=1;try{c=i(t-a),c instanceof Promise?c.then((t=>{this.persistent?s.j(this):(this.W=e?3:2,this.dispose()),s.F(this),void 0!==r&&r(t),!this.persistent&&n&&s.N(this)})).catch((t=>{if(this.persistent||this.dispose(),s.F(this),void 0===o)throw t;o(t)})):(this.persistent?s.j(this):(this.W=e?3:2,this.dispose()),void 0!==r&&r(c),!this.persistent&&n&&s.N(this))}catch(t){if(this.persistent||this.dispose(),void 0===o)throw t;o(t)}}cancel(){if(0===this.W){const t=this.taskQueue,e=this.reusable,n=this.G;return t.remove(this),t.isEmpty&&t.cancel(),this.W=3,this.dispose(),e&&t.N(this),void 0!==n&&n(new Ho(this)),!0}return!(1!==this.W||!this.persistent||(this.persistent=!1,0))}reset(t){const e=this.queueTime-this.createdTime;this.createdTime=t,this.queueTime=t+e,this.W=0,this.B=void 0,this.G=void 0,this.O=void 0}reuse(t,e,n,s,i,r){this.createdTime=t,this.queueTime=t+e,this.preempt=n,this.persistent=s,this.suspend=i,this.callback=r,this.W=0}dispose(){this.callback=void 0,this.B=void 0,this.G=void 0,this.O=void 0}}!function(t){t[t.render=0]="render",t[t.macroTask=1]="macroTask",t[t.postRender=2]="postRender"}(Go||(Go={}));class Xo{constructor(t){this.console=t,this.enabled=!1,this.depth=0}enter(t,e){this.log(`${"  ".repeat(this.depth++)}> `,t,e)}leave(t,e){this.log(`${"  ".repeat(--this.depth)}< `,t,e)}trace(t,e){this.log(`${"  ".repeat(this.depth)}- `,t,e)}log(t,e,n){if(e instanceof _o){const s=`processing=${e.i.length} pending=${e.h.length} delayed=${e.u.length} flushReq=${e.R} susTask=${!!e.$}`;this.console.log(`${t}[Q.${n}] ${s}`)}else{const s=e.id,i=Math.round(10*e.createdTime)/10,r=Math.round(10*e.queueTime)/10,o=e.preempt,a=e.reusable,c=e.persistent,h=e.suspend,l=`id=${s} created=${i} queue=${r} preempt=${o} persistent=${c} reusable=${a} status=${Zo(e.W)} suspend=${h}`;this.console.log(`${t}[T.${n}] ${l}`)}}}const Zo=t=>{switch(t){case 0:return"pending";case 1:return"running";case 3:return"canceled";case 2:return"completed"}},Yo={delay:0,preempt:!1,persistent:!1,reusable:!0,suspend:!1};let Jo,ta;const ea=(t,e)=>{Jo=t,ta=e},na=()=>{const t=new Promise(ea);return t.resolve=Jo,t.reject=ta,t},sa=t=>t.persistent,ia=()=>oa("AUR1006"),ra=()=>oa("AUR1007"),oa=t=>new Error(t),aa=new Map;class ca extends qo{constructor(t,e={}){super(t,e),this.t=!1,this.i=-1,this.h=!1,this.u=-1,"Node Element HTMLElement CustomEvent CSSStyleSheet ShadowRoot MutationObserver window document customElements".split(" ").forEach((n=>this[n]=n in e?e[n]:t[n])),"fetch requestAnimationFrame cancelAnimationFrame".split(" ").forEach((n=>this[n]=n in e?e[n]:t[n]?.bind(t)??ha(n))),this.flushDomRead=this.flushDomRead.bind(this),this.flushDomWrite=this.flushDomWrite.bind(this),this.domReadQueue=new _o(this,this.requestDomRead.bind(this),this.cancelDomRead.bind(this)),this.domWriteQueue=new _o(this,this.requestDomWrite.bind(this),this.cancelDomWrite.bind(this))}static getOrCreate(t,e={}){let n=aa.get(t);return void 0===n&&aa.set(t,n=new ca(t,e)),n}static set(t,e){aa.set(t,e)}requestDomRead(){this.t=!0,-1===this.u&&(this.u=this.requestAnimationFrame(this.flushDomWrite))}cancelDomRead(){this.t=!1,this.i>-1&&(this.clearTimeout(this.i),this.i=-1),!1===this.h&&this.u>-1&&(this.cancelAnimationFrame(this.u),this.u=-1)}flushDomRead(){this.i=-1,!0===this.t&&(this.t=!1,this.domReadQueue.flush())}requestDomWrite(){this.h=!0,-1===this.u&&(this.u=this.requestAnimationFrame(this.flushDomWrite))}cancelDomWrite(){this.h=!1,this.u>-1&&(!1===this.t||this.i>-1)&&(this.cancelAnimationFrame(this.u),this.u=-1)}flushDomWrite(){this.u=-1,!0===this.h&&(this.h=!1,this.domWriteQueue.flush()),!0===this.t&&-1===this.i&&(this.i=this.setTimeout(this.flushDomRead,0))}}const ha=t=>()=>{throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)};function la(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}const ua=E.getOwn,fa=E.hasOwn,da=E.define,{annotation:pa,resource:ga}=pt,ma=pa.keyFor,va=ga.keyFor,ba=ga.appendTo,wa=pa.appendTo,ya=pa.getKeys,ka=Object,Ca=String,Sa=ka.prototype,Aa=()=>ka.create(null),xa=Sa.hasOwnProperty,$a=ka.freeze,Ta=ka.assign,Ia=ka.getOwnPropertyNames,Ra=ka.keys,Oa=Aa(),Ea=(t,e,n)=>{if(!0===Oa[e])return!0;if(!ja(e))return!1;const s=e.slice(0,5);return Oa[e]="aria-"===s||"data-"===s||n.isStandardSvgAttribute(t,e)},Pa=t=>t instanceof Promise,Ma=t=>t instanceof Array,Na=t=>"function"==typeof t,ja=t=>"string"==typeof t,La=t=>{throw t},Ba=ka.is,Ua=Reflect.defineProperty,Fa=(t,e,n)=>(Ua(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n}),n),Va=(t,e,n)=>t.addSignalListener(e,n),Da=(t,e,n)=>t.removeSignalListener(e,n);function Wa(t,e){let n;function s(t,e){arguments.length>1&&(n.property=e),da(_a,za.create(e,t,n),t.constructor,e),wa(t.constructor,Ha.keyFrom(e))}return arguments.length>1?(n={},void s(t,e)):ja(t)?(n={},s):(n=void 0===t?{}:t,s)}function qa(t){return t.startsWith(_a)}const _a=ma("bindable"),Ha=$a({name:_a,keyFrom:t=>`${_a}:${t}`,from(t,...e){const n={},s=Array.isArray;function i(e){n[e]=za.create(e,t)}function r(e,s){n[e]=s instanceof za?s:za.create(e,t,s)}return e.forEach((function(t){s(t)?t.forEach(i):t instanceof za?n[t.property]=t:void 0!==t&&Ra(t).forEach((e=>r(e,t[e])))})),n},getAll(t){const e=_a.length+1,n=[],s=tt(t);let i,r,o,a,c=s.length,h=0;for(;--c>=0;)for(o=s[c],i=ya(o).filter(qa),r=i.length,a=0;a<r;++a)n[h++]=ua(_a,o,i[a].slice(e));return n}});class za{constructor(t,e,n,s,i,r){this.attribute=t,this.callback=e,this.mode=n,this.primary=s,this.property=i,this.set=r}static create(t,e,n={}){return new za(n.attribute??Q(t),n.callback??`${t}Changed`,n.mode??2,n.primary??!1,n.property??t,n.set??function(t,e,n={}){const s=n.type??E.get("design:type",e,t)??null;if(null==s)return ce;let i;switch(s){case Number:case Boolean:case String:case BigInt:i=s;break;default:{const t=s.coerce;i="function"==typeof t?t.bind(s):Ka.for(s)??ce;break}}return i===ce?i:function(t,e){return function(n,s){return s?.enableCoercion?(e??!s?.coerceNullish)&&null==n?n:t(n,s):n}}(i,n.nullable)}(t,e,n))}}const Ka={key:ma("coercer"),define(t,e){da(Ka.key,t[e].bind(t),t)},for:t=>ua(Ka.key,t)},Ga=t=>{function e(t,n,s){zt.inject(e)(t,n,s)}return e.$isResolver=!0,e.resolve=(e,n)=>n.has(t,!1)?n.get(t):n.root.get(t),e},Qa=zt.createInterface,Xa=ie.singleton,Za=ie.aliasTo,Ya=ie.instance;ie.callback;const Ja=ie.transient,tc=(t,e,n)=>t.registerResolver(e,n);function ec(t,e,n,s){for(let i=0,r=t.length;i<r;++i)ie.aliasTo(n,e.keyFrom(t[i])).register(s)}const nc=(t,...e)=>new Error(`AUR${Ca(t).padStart(4,"0")}:${e.map(Ca)}`);function sc(t){return function(e){return ac.define(t,e)}}class ic{constructor(t,e,n,s){this.Type=t,this.name=e,this.aliases=n,this.key=s}static create(t,e){let n,s;return ja(t)?(n=t,s={name:n}):(n=t.name,s=t),new ic(e,J(oc(e,"name"),n),Y(oc(e,"aliases"),s.aliases,e.aliases),ac.keyFrom(n))}register(t){const{Type:e,key:n,aliases:s}=this;Xa(n,e).register(t),Za(n,e).register(t),ec(s,ac,n,t)}}const rc=va("binding-behavior"),oc=(t,e)=>ua(ma(e),t),ac=$a({name:rc,keyFrom:t=>`${rc}:${t}`,isType:t=>Na(t)&&fa(rc,t),define(t,e){const n=ic.create(t,e);return da(rc,n,n.Type),da(rc,n,n),ba(e,rc),n.Type},getDefinition(t){const e=ua(rc,t);if(void 0===e)throw nc(151,t);return e},annotate(t,e,n){da(ma(e),n,t)},getAnnotation:oc}),cc=new Map;class hc{bind(t,e){cc.set(e,e.mode),e.mode=this.mode}unbind(t,e){e.mode=cc.get(e),cc.delete(e)}}class lc extends hc{get mode(){return 1}}class uc extends hc{get mode(){return 2}}class fc extends hc{get mode(){return 4}}class dc extends hc{get mode(){return 6}}sc("oneTime")(lc),sc("toView")(uc),sc("fromView")(fc),sc("twoWay")(dc);const pc=new WeakMap;class gc{constructor(){this.p=Tt(he)}bind(t,e,n,s){const i={type:"debounce",delay:n??200,now:this.p.performanceNow,queue:this.p.taskQueue,signals:ja(s)?[s]:s??oe},r=e.limit?.(i);null==r||pc.set(e,r)}unbind(t,e){pc.get(e)?.dispose(),pc.delete(e)}}sc("debounce")(gc);class mc{constructor(){this.i=new Map,this.u=Tt(Fo)}bind(t,e,...n){if(!("handleChange"in e))throw nc(817);if(0===n.length)throw nc(818);let s;for(s of(this.i.set(e,n),n))Va(this.u,s,e)}unbind(t,e){const n=this.i.get(e);let s;for(s of(this.i.delete(e),n))Da(this.u,s,e)}}sc("signal")(mc);const vc=new WeakMap;class bc{constructor(){({performanceNow:this.C,taskQueue:this.A}=Tt(he))}bind(t,e,n,s){const i={type:"throttle",delay:n??200,now:this.C,queue:this.A,signals:ja(s)?[s]:s??oe},r=e.limit?.(i);null==r||vc.set(e,r)}unbind(t,e){vc.get(e)?.dispose(),vc.delete(e)}}sc("throttle")(bc);const wc=Qa("IAppTask");class yc{constructor(t,e,n){this.c=void 0,this.slot=t,this.k=e,this.cb=n}register(t){return this.c=t.register(Ya(wc,this))}run(){const t=this.k,e=this.cb;return null===t?e():e(this.c.get(t))}}const kc=$a({creating:Cc("creating"),hydrating:Cc("hydrating"),hydrated:Cc("hydrated"),activating:Cc("activating"),activated:Cc("activated"),deactivating:Cc("deactivating"),deactivated:Cc("deactivated")});function Cc(t){return function(e,n){return Na(n)?new yc(t,e,n):new yc(t,null,e)}}const Sc=he;class Ac{}function xc(t,e){return t.$au?.[e]??null}function $c(t,e,n){var s;((s=t).$au??(s.$au=new Ac))[e]=n}const Tc=Qa("INode"),Ic=Qa("IEventTarget",(t=>t.cachedCallback((t=>t.has(Ju,!0)?t.get(Ju).host:t.get(Sc).document)))),Rc=Qa("IRenderLocation"),Oc=Qa("CssModules"),Ec=new WeakMap;function Pc(t){if(Ec.has(t))return Ec.get(t);let e=0,n=t.nextSibling;for(;null!==n;){if(8===n.nodeType)switch(n.textContent){case"au-start":++e;break;case"au-end":if(0==e--)return n}n=n.nextSibling}if(null===t.parentNode&&11===t.nodeType){const e=dh(t);if(void 0===e)return null;if(2===e.mountTarget)return Pc(e.host)}return t.parentNode}function Mc(t){if(Nc(t))return t;const e=t.ownerDocument.createComment("au-end"),n=e.$start=t.ownerDocument.createComment("au-start"),s=t.parentNode;return null!==s&&(s.replaceChild(e,t),s.insertBefore(n,e)),e}function Nc(t){return"au-end"===t.textContent}class jc{get firstChild(){return this.B}get lastChild(){return this._}constructor(t,e){this.platform=t,this.next=void 0,this.R=!1,this.T=!1,this.ref=null;const n=(this.f=e).querySelectorAll("au-m");let s,i,r=0,o=n.length,a=this.t=Array(o);for(;o>r;)i=n[r],s=i.nextSibling,i.remove(),8===s.nodeType&&(i=s,(s=s.nextSibling).$start=i),a[r]=s,++r;const c=e.childNodes,h=this.childNodes=Array(o=c.length);for(r=0;o>r;)h[r]=c[r],++r;this.B=e.firstChild,this._=e.lastChild}findTargets(){return this.t}insertBefore(t){if(this.T&&this.ref)this.addToLinked();else{const e=t.parentNode;if(this.R){let n,s=this.B;const i=this._;for(;null!=s&&(n=s.nextSibling,e.insertBefore(s,t),s!==i);)s=n}else this.R=!0,t.parentNode.insertBefore(this.f,t)}}appendTo(t,e=!1){if(this.R){let e,n=this.B;const s=this._;for(;null!=n&&(e=n.nextSibling,t.appendChild(n),n!==s);)n=e}else this.R=!0,e||t.appendChild(this.f)}remove(){if(this.R){this.R=!1;const t=this.f,e=this._;let n,s=this.B;for(;null!==s&&(n=s.nextSibling,t.appendChild(s),s!==e);)s=n}}addToLinked(){const t=this.ref,e=t.parentNode;if(this.R){let n,s=this.B;const i=this._;for(;null!=s&&(n=s.nextSibling,e.insertBefore(s,t),s!==i);)s=n}else this.R=!0,e.insertBefore(this.f,t)}unlink(){this.T=!1,this.next=void 0,this.ref=void 0}link(t){this.T=!0,Nc(t)?this.ref=t:(this.next=t,this.I())}I(){void 0!==this.next?this.ref=this.next.firstChild:this.ref=void 0}}const Lc=Qa("IWindow",(t=>t.callback((t=>t.get(Sc).window)))),Bc=Qa("ILocation",(t=>t.callback((t=>t.get(Lc).location)))),Uc=Qa("IHistory",(t=>t.callback((t=>t.get(Lc).history)))),Fc=(t,e,n)=>(tc(t,e.HTMLElement,tc(t,e.Element,tc(t,Tc,new re("ElementResolver",n)))),t);function Vc(t){return function(e){return Kc(t,e)}}function Dc(t){return function(e){return Kc(ja(t)?{isTemplateController:!0,name:t}:{isTemplateController:!0,...t},e)}}class Wc{get type(){return 2}constructor(t,e,n,s,i,r,o,a,c,h){this.Type=t,this.name=e,this.aliases=n,this.key=s,this.defaultBindingMode=i,this.isTemplateController=r,this.bindables=o,this.noMultiBindings=a,this.watches=c,this.dependencies=h}static create(t,e){let n,s;return ja(t)?(n=t,s={name:n}):(n=t.name,s=t),new Wc(e,J(Hc(e,"name"),n),Y(Hc(e,"aliases"),s.aliases,e.aliases),_c(n),J(Hc(e,"defaultBindingMode"),s.defaultBindingMode,e.defaultBindingMode,2),J(Hc(e,"isTemplateController"),s.isTemplateController,e.isTemplateController,!1),Ha.from(e,...Ha.getAll(e),Hc(e,"bindables"),e.bindables,s.bindables),J(Hc(e,"noMultiBindings"),s.noMultiBindings,e.noMultiBindings,!1),Y(Yc.getAnnotation(e),e.watches),Y(Hc(e,"dependencies"),s.dependencies,e.dependencies))}register(t){const{Type:e,key:n,aliases:s}=this;Ja(n,e).register(t),Za(n,e).register(t),ec(s,Qc,n,t)}toString(){return`au:ca:${this.name}`}}const qc=va("custom-attribute"),_c=t=>`${qc}:${t}`,Hc=(t,e)=>ua(ma(e),t),zc=(t,e)=>xc(t,_c(e))??void 0,Kc=(t,e)=>{const n=Wc.create(t,e);return da(qc,n,n.Type),da(qc,n,n),ba(e,qc),n.Type},Gc=t=>{const e=ua(qc,t);if(void 0===e)throw nc(759,t);return e},Qc=$a({name:qc,keyFrom:_c,isType:t=>Na(t)&&fa(qc,t),for:zc,define:Kc,getDefinition:Gc,annotate(t,e,n){da(ma(e),n,t)},getAnnotation:Hc}),Xc=oe,Zc=ma("watch"),Yc=$a({name:Zc,add(t,e){let n=ua(Zc,t);null==n&&da(Zc,n=[],t),n.push(e)},getAnnotation:t=>ua(Zc,t)??Xc});function Jc(t){return function(e){return uh(t,e)}}const th=new WeakMap;class eh{get type(){return 1}constructor(t,e,n,s,i,r,o,a,c,h,l,u,f,d,p,g,m,v,b,w){this.Type=t,this.name=e,this.aliases=n,this.key=s,this.cache=i,this.capture=r,this.template=o,this.instructions=a,this.dependencies=c,this.injectable=h,this.needsCompile=l,this.surrogates=u,this.bindables=f,this.containerless=d,this.isStrictBinding=p,this.shadowOptions=g,this.hasSlots=m,this.enhance=v,this.watches=b,this.processContent=w}static create(t,e=null){if(null===e){const n=t;if(ja(n))throw nc(761,t);const s=bt("name",n,lh);return e=Na(n.Type)?n.Type:mh(G(s)),new eh(e,s,Y(n.aliases),bt("key",n,(()=>hh(s))),bt("cache",n,sh),bt("capture",n,rh),bt("template",n,ih),Y(n.instructions),Y(n.dependencies),bt("injectable",n,ih),bt("needsCompile",n,oh),Y(n.surrogates),Ha.from(e,n.bindables),bt("containerless",n,rh),bt("isStrictBinding",n,rh),bt("shadowOptions",n,ih),bt("hasSlots",n,rh),bt("enhance",n,rh),bt("watches",n,ah),vt("processContent",e,ih))}if(ja(t))return new eh(e,t,Y(ph(e,"aliases"),e.aliases),hh(t),vt("cache",e,sh),vt("capture",e,rh),vt("template",e,ih),Y(ph(e,"instructions"),e.instructions),Y(ph(e,"dependencies"),e.dependencies),vt("injectable",e,ih),vt("needsCompile",e,oh),Y(ph(e,"surrogates"),e.surrogates),Ha.from(e,...Ha.getAll(e),ph(e,"bindables"),e.bindables),vt("containerless",e,rh),vt("isStrictBinding",e,rh),vt("shadowOptions",e,ih),vt("hasSlots",e,rh),vt("enhance",e,rh),Y(Yc.getAnnotation(e),e.watches),vt("processContent",e,ih));const n=bt("name",t,lh);return new eh(e,n,Y(ph(e,"aliases"),t.aliases,e.aliases),hh(n),mt("cache",t,e,sh),mt("capture",t,e,rh),mt("template",t,e,ih),Y(ph(e,"instructions"),t.instructions,e.instructions),Y(ph(e,"dependencies"),t.dependencies,e.dependencies),mt("injectable",t,e,ih),mt("needsCompile",t,e,oh),Y(ph(e,"surrogates"),t.surrogates,e.surrogates),Ha.from(e,...Ha.getAll(e),ph(e,"bindables"),e.bindables,t.bindables),mt("containerless",t,e,rh),mt("isStrictBinding",t,e,rh),mt("shadowOptions",t,e,ih),mt("hasSlots",t,e,rh),mt("enhance",t,e,rh),Y(t.watches,Yc.getAnnotation(e),e.watches),mt("processContent",t,e,ih))}static getOrCreate(t){if(t instanceof eh)return t;if(th.has(t))return th.get(t);const e=eh.create(t);return th.set(t,e),da(ch,e,e.Type),e}register(t){const{Type:e,key:n,aliases:s}=this;t.has(n,!1)||(Ja(n,e).register(t),Za(n,e).register(t),ec(s,vh,n,t))}toString(){return`au:ce:${this.name}`}}const nh={name:void 0,searchParents:!1,optional:!1},sh=()=>0,ih=()=>null,rh=()=>!1,oh=()=>!0,ah=()=>oe,ch=va("custom-element"),hh=t=>`${ch}:${t}`,lh=(()=>{let t=0;return()=>"unnamed-"+ ++t})(),uh=(t,e)=>{const n=eh.create(t,e);return da(ch,n,n.Type),da(ch,n,n),ba(n.Type,ch),n.Type},fh=t=>Na(t)&&fa(ch,t),dh=(t,e=nh)=>{if(void 0===e.name&&!0!==e.searchParents){const n=xc(t,ch);if(null===n){if(!0===e.optional)return null;throw nc(762,t)}return n}if(void 0!==e.name){if(!0!==e.searchParents){const n=xc(t,ch);if(null===n)throw nc(763,t);return n.is(e.name)?n:void 0}let n=t,s=!1;for(;null!==n;){const t=xc(n,ch);if(null!==t&&(s=!0,t.is(e.name)))return t;n=Pc(n)}if(s)return;throw nc(764,t)}let n=t;for(;null!==n;){const t=xc(n,ch);if(null!==t)return t;n=Pc(n)}throw nc(765,t)},ph=(t,e)=>ua(ma(e),t),gh=t=>{const e=ua(ch,t);if(void 0===e)throw nc(760,t);return e},mh=function(){const t={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(n,s=e){const i=class{};return t.value=n,Ua(i,"name",t),s!==e&&Ta(i.prototype,s),i}}(),vh=$a({name:ch,keyFrom:hh,isType:fh,for:dh,define:uh,getDefinition:gh,annotate:(t,e,n)=>{da(ma(e),n,t)},getAnnotation:ph,generateName:lh,createInjectable:()=>{const t=function(e,n,s){return zt.getOrCreateAnnotationParamTypes(e)[s]=t,e};return t.register=function(e){return{resolve:(e,n)=>n.has(t,!0)?n.get(t):null}},t},generateType:mh}),bh=(t,e,n,s)=>{t.addEventListener(e,n,s)},wh=(t,e,n,s)=>{t.removeEventListener(e,n,s)},yh=t=>{let e;const n=t.prototype;Fa(n,"subscribe",(function(t){if(this.subs.add(t)&&1===this.subs.count){for(e of this.cf.events)bh(this.P,e,this);this.L=!0,this.M?.()}})),Fa(n,"unsubscribe",(function(t){if(this.subs.remove(t)&&0===this.subs.count){for(e of this.cf.events)wh(this.P,e,this);this.L=!1,this.q?.()}})),Fa(n,"useConfig",(function(t){if(this.cf=t,this.L){for(e of this.cf.events)wh(this.P,e,this);for(e of this.cf.events)bh(this.P,e,this)}}))},kh=t=>{Fa(t.prototype,"subscribe",ce),Fa(t.prototype,"unsubscribe",ce)};class Ch{get doNotCache(){return!0}constructor(t){this.obj=t,this.type=6,this.v="",this.F={},this.H=0}getValue(){return this.v}setValue(t){t!==this.v&&(this.v=t,this.O())}O(){const t=this.F,e=++this.H,n=this.obj.classList,s=Sh(this.v),i=s.length;let r,o=0;if(i>0)for(;o<i;o++)r=s[o],0!==r.length&&(t[r]=this.H,n.add(r));if(1!==e)for(r in t)t[r]!==e&&n.remove(r)}}function Sh(t){if(ja(t))return Ah(t);if("object"!=typeof t)return oe;if(t instanceof Array){const e=t.length;if(e>0){const n=[];let s=0;for(;e>s;++s)n.push(...Sh(t[s]));return n}return oe}const e=[];let n;for(n in t)Boolean(t[n])&&(n.includes(" ")?e.push(...Ah(n)):e.push(n));return e}function Ah(t){const e=t.match(/\S+/g);return null===e?oe:e}kh(Ch);const xh=Qa("IShadowDOMStyles"),$h=Qa("IShadowDOMGlobalStyles",(t=>t.instance({applyTo:ce})));function Th(t){return function(e){return Eh.define(t,e)}}class Ih{constructor(t,e,n,s){this.Type=t,this.name=e,this.aliases=n,this.key=s}static create(t,e){let n,s;return ja(t)?(n=t,s={name:n}):(n=t.name,s=t),new Ih(e,J(Oh(e,"name"),n),Y(Oh(e,"aliases"),s.aliases,e.aliases),Eh.keyFrom(n))}register(t){const{Type:e,key:n,aliases:s}=this;ie.singleton(n,e).register(t),ie.aliasTo(n,e).register(t),ec(s,Eh,n,t)}}const Rh=va("value-converter"),Oh=(t,e)=>ua(ma(e),t),Eh=$a({name:Rh,keyFrom:t=>`${Rh}:${t}`,isType:t=>Na(t)&&fa(Rh,t),define(t,e){const n=Ih.create(t,e);return da(Rh,n,n.Type),da(Rh,n,n),ba(e,Rh),n.Type},getDefinition(t){const e=ua(Rh,t);if(void 0===e)throw nc(152,t);return e},annotate(t,e,n){da(ma(e),n,t)},getAnnotation:Oh});class Ph{constructor(t,e){this.v=void 0,this.b=t,this.N=e}flush(){this.b.updateSource(this.v)}handleChange(t,e){const n=this.b;t!==In(n.ast,n.s,n,null)&&(this.v=t,this.N.add(this))}}const Mh=t=>{Fa(t.prototype,"useScope",(function(t){this.s=t}))},Nh=(t,e=!0)=>n=>{const s=n.prototype;null!=t&&Ua(s,"strict",{enumerable:!0,get:function(){return t}}),Ua(s,"strictFnCall",{enumerable:!0,get:function(){return e}}),Fa(s,"get",(function(t){return this.l.get(t)})),Fa(s,"getSignaler",(function(){return this.l.root.get(Fo)})),Fa(s,"getConverter",(function(t){const e=Eh.keyFrom(t);let n=jh.get(this);return null==n&&jh.set(this,n=new Lh),n[e]??(n[e]=this.l.get(Ga(e)))})),Fa(s,"getBehavior",(function(t){const e=ac.keyFrom(t);let n=jh.get(this);return null==n&&jh.set(this,n=new Lh),n[e]??(n[e]=this.l.get(Ga(e)))}))},jh=new WeakMap;class Lh{}const Bh=Qa("IFlushQueue",(t=>t.singleton(Uh)));class Uh{constructor(){this.$=!1,this.W=new Set}get count(){return this.W.size}add(t){if(this.W.add(t),!this.$){this.$=!0;try{this.W.forEach(Fh)}finally{this.$=!1}}}clear(){this.W.clear(),this.$=!1}}function Fh(t,e,n){n.delete(t),t.flush()}const Vh=new WeakSet,Dh=(t,e)=>{Fa(t.prototype,"limit",(function(t){if(Vh.has(this))throw nc(9996);Vh.add(this);const n=e(this,t),s=t.signals,i=s.length>0?this.get(Fo):null,r=this[n],o=(...t)=>r.call(this,...t),a="debounce"===t.type?Wh(t,o,this):qh(t,o,this),c=i?{handleChange:a.flush}:null;return this[n]=a,i&&s.forEach((t=>Va(i,t,c))),{dispose:()=>{i&&s.forEach((t=>Da(i,t,c))),Vh.delete(this),a.dispose(),delete this[n]}}}))},Wh=(t,e,n)=>{let s,i,r,o=!1;const a=t.queue,c=()=>e(r),h=e=>{r=e,n.isBound?(i=s,s=a.queueTask(c,{delay:t.delay,reusable:!1}),i?.cancel()):c()},l=h.dispose=()=>{i?.cancel(),s?.cancel(),i=s=void 0};return h.flush=()=>{o=0===s?.status,l(),o&&c()},h},qh=(t,e,n)=>{let s,i,r,o=0,a=0,c=!1;const h=t.queue,l=()=>t.now(),u=()=>e(r),f=e=>{r=e,n.isBound?(a=l()-o,i=s,a>t.delay?(o=l(),u()):s=h.queueTask((()=>{o=l(),u()}),{delay:t.delay-a,reusable:!1}),i?.cancel()):u()},d=f.dispose=()=>{i?.cancel(),s?.cancel(),i=s=void 0};return f.flush=()=>{c=0===s?.status,d(),c&&u()},f},{enter:_h,exit:Hh}=$r,{wrap:zh,unwrap:Kh}=ko;class Gh{get value(){return this.v}constructor(t,e,n,s,i){this.obj=t,this.$get=n,this.useProxy=i,this.isBound=!1,this.running=!1,this.v=void 0,this.cb=s,this.oL=e}handleChange(){this.run()}handleCollectionChange(){this.run()}bind(){this.isBound||(this.compute(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll())}run(){if(!this.isBound||this.running)return;const t=this.obj,e=this.v,n=this.compute();Ba(n,e)||this.cb.call(t,n,e,t)}compute(){this.running=!0,this.obs.version++;try{return _h(this),this.v=Kh(this.$get.call(void 0,this.useProxy?zh(this.obj):this.obj,this))}finally{this.obs.clear(),this.running=!1,Hh(this)}}}class Qh{get value(){return this.v}constructor(t,e,n,s,i){this.scope=t,this.l=e,this.oL=n,this.isBound=!1,this.boundFn=!1,this.obj=t.bindingContext,this.j=s,this.cb=i}handleChange(t){const e=this.j,n=this.obj,s=this.v;1===e.$kind&&1===this.obs.count||(this.obs.version++,t=In(e,this.scope,this,this),this.obs.clear()),Ba(t,s)||(this.v=t,this.cb.call(n,t,s,n))}bind(){this.isBound||(this.obs.version++,this.v=In(this.j,this.scope,this,this),this.obs.clear(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),this.v=void 0)}}ni(Gh),ni(Qh),Nh(!0)(Qh);const Xh=Qa("ILifecycleHooks");class Zh{constructor(t,e){this.definition=t,this.instance=e}}class Yh{constructor(t,e){this.Type=t,this.propertyNames=e}static create(t,e){const n=new Set;let s=e.prototype;for(;s!==Sa;){for(const t of Ia(s))"constructor"===t||t.startsWith("_")||n.add(t);s=Object.getPrototypeOf(s)}return new Yh(e,n)}register(t){Xa(Xh,this.Type).register(t)}}const Jh=new WeakMap,tl=ma("lifecycle-hooks"),el=$a({name:tl,define(t,e){const n=Yh.create(t,e);return da(tl,n,e),ba(e,tl),n.Type},resolve(t){let e=Jh.get(t);if(void 0===e){Jh.set(t,e=new nl);const n=t.root,s=n.id===t.id?t.getAll(Xh):t.has(Xh,!1)?n.getAll(Xh).concat(t.getAll(Xh)):n.getAll(Xh);let i,r,o,a,c;for(i of s)for(a of(r=ua(tl,i.constructor),o=new Zh(r,i),r.propertyNames))c=e[a],void 0===c?e[a]=[o]:c.push(o)}return e}});class nl{}const sl={reusable:!1,preempt:!0};class il{constructor(t,e,n,s,i,r,o,a,c){this.targetAttribute=o,this.targetProperty=a,this.mode=c,this.isBound=!1,this.s=void 0,this.U=null,this.v=void 0,this.boundFn=!1,this.l=e,this.ast=i,this.G=t,this.target=r,this.oL=n,this.A=s}updateTarget(t){const e=this.target,n=this.targetAttribute,s=this.targetProperty;switch(n){case"class":e.classList.toggle(s,!!t);break;case"style":{let n="",i=Ca(t);ja(i)&&i.includes("!important")&&(n="important",i=i.replace("!important","")),e.style.setProperty(s,i,n);break}default:null==t?e.removeAttribute(n):e.setAttribute(n,Ca(t))}}handleChange(){if(!this.isBound)return;let t;this.obs.version++;const e=In(this.ast,this.s,this,(2&this.mode)>0?this:null);this.obs.clear(),e!==this.v&&(this.v=e,1!==this.G.state?(t=this.U,this.U=this.A.queueTask((()=>{this.U=null,this.updateTarget(e)}),sl),t?.cancel()):this.updateTarget(e))}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,On(this.ast,t,this),3&this.mode&&this.updateTarget(this.v=In(this.ast,t,this,(2&this.mode)>0?this:null)),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,En(this.ast,this.s,this),this.s=void 0,this.v=void 0,this.U?.cancel(),this.U=null,this.obs.clearAll())}}Mh(il),Dh(il,(()=>"updateTarget")),ni(il),Nh(!0)(il);const rl={reusable:!1,preempt:!0};class ol{constructor(t,e,n,s,i,r,o,a){this.ast=i,this.target=r,this.targetProperty=o,this.mode=a,this.isBound=!1,this.s=void 0,this.U=null,this.G=t,this.oL=n,this.A=s,this.X=n.getAccessor(r,o);const c=i.expressions,h=this.partBindings=Array(c.length),l=c.length;let u=0;for(;l>u;++u)h[u]=new al(c[u],r,o,e,n,this)}K(){this.updateTarget()}updateTarget(){const t=this.partBindings,e=this.ast.parts,n=t.length;let s="",i=0;if(1===n)s=e[0]+t[0].v+e[1];else for(s=e[0];n>i;++i)s+=t[i].v+e[i+1];const r=this.X;let o;1!==this.G.state&&(4&r.type)>0?(o=this.U,this.U=this.A.queueTask((()=>{this.U=null,r.setValue(s,this.target,this.targetProperty)}),rl),o?.cancel(),o=null):r.setValue(s,this.target,this.targetProperty)}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t;const e=this.partBindings,n=e.length;let s=0;for(;n>s;++s)e[s].bind(t);this.updateTarget(),this.isBound=!0}unbind(){if(!this.isBound)return;this.isBound=!1,this.s=void 0;const t=this.partBindings,e=t.length;let n=0;for(;e>n;++n)t[n].unbind();this.U?.cancel(),this.U=null}}class al{constructor(t,e,n,s,i,r){this.ast=t,this.target=e,this.targetProperty=n,this.owner=r,this.mode=2,this.task=null,this.isBound=!1,this.v="",this.boundFn=!1,this.l=s,this.oL=i}updateTarget(){this.owner.K()}handleChange(){if(!this.isBound)return;this.obs.version++;const t=In(this.ast,this.s,this,(2&this.mode)>0?this:null);this.obs.clear(),t!=this.v&&(this.v=t,Ma(t)&&this.observeCollection(t),this.updateTarget())}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,On(this.ast,t,this),this.v=In(this.ast,this.s,this,(2&this.mode)>0?this:null),Ma(this.v)&&this.observeCollection(this.v),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,En(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}}Mh(al),Dh(al,(()=>"updateTarget")),ni(al),Nh(!0)(al);class cl{constructor(t,e,n,s,i,r,o,a){this.p=i,this.ast=r,this.target=o,this.strict=a,this.isBound=!1,this.mode=2,this.U=null,this.v="",this.Y=!1,this.boundFn=!1,this.l=e,this.G=t,this.oL=n,this.A=s}updateTarget(t){const e=this.target,n=this.v;this.v=t,this.Y&&(n.parentNode?.removeChild(n),this.Y=!1),t instanceof this.p.Node&&(e.parentNode?.insertBefore(t,e),t="",this.Y=!0),e.textContent=Ca(t)}handleChange(){if(!this.isBound)return;this.obs.version++;const t=In(this.ast,this.s,this,(2&this.mode)>0?this:null);if(this.obs.clear(),t===this.v)return this.U?.cancel(),void(this.U=null);1!==this.G.state?this.Z(t):this.updateTarget(t)}handleCollectionChange(){if(!this.isBound)return;this.obs.version++;const t=this.v=In(this.ast,this.s,this,(2&this.mode)>0?this:null);this.obs.clear(),Ma(t)&&this.observeCollection(t),1!==this.G.state?this.Z(t):this.updateTarget(t)}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,On(this.ast,t,this);const e=this.v=In(this.ast,this.s,this,(2&this.mode)>0?this:null);Ma(e)&&this.observeCollection(e),this.updateTarget(e),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,En(this.ast,this.s,this),this.Y&&this.v.parentNode?.removeChild(this.v),this.s=void 0,this.obs.clearAll(),this.U?.cancel(),this.U=null)}Z(t){const e=this.U;this.U=this.A.queueTask((()=>{this.U=null,this.updateTarget(t)}),rl),e?.cancel()}}Mh(cl),Dh(cl,(()=>"updateTarget")),ni()(cl),Nh(void 0,!1)(cl);class hl{constructor(t,e,n,s,i=!1){this.ast=n,this.targetProperty=s,this.isBound=!1,this.s=void 0,this.target=null,this.boundFn=!1,this.l=t,this.oL=e,this.J=i}updateTarget(){this.target[this.targetProperty]=this.v}handleChange(){this.isBound&&(this.obs.version++,this.v=In(this.ast,this.s,this,this),this.obs.clear(),this.updateTarget())}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,this.target=this.J?t.bindingContext:t.overrideContext,On(this.ast,t,this),this.v=In(this.ast,this.s,this,this),this.updateTarget(),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,En(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}}Mh(hl),Dh(hl,(()=>"updateTarget")),ni(hl),Nh(!0)(hl);class ll{constructor(t,e,n,s,i,r,o,a){this.ast=i,this.target=r,this.targetProperty=o,this.mode=a,this.isBound=!1,this.s=void 0,this.X=void 0,this.U=null,this.tt=null,this.boundFn=!1,this.l=e,this.G=t,this.A=s,this.oL=n}updateTarget(t){this.X.setValue(t,this.target,this.targetProperty)}updateSource(t){Rn(this.ast,this.s,this,t)}handleChange(){if(!this.isBound)return;this.obs.version++;const t=In(this.ast,this.s,this,(2&this.mode)>0?this:null);this.obs.clear(),1!==this.G.state&&(4&this.X.type)>0?(ul=this.U,this.U=this.A.queueTask((()=>{this.updateTarget(t),this.U=null}),fl),ul?.cancel(),ul=null):this.updateTarget(t)}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,On(this.ast,t,this);const e=this.oL,n=this.mode;let s=this.X;s||(s=4&n?e.getObserver(this.target,this.targetProperty):e.getAccessor(this.target,this.targetProperty),this.X=s);const i=(2&n)>0;3&n&&this.updateTarget(In(this.ast,this.s,this,i?this:null)),4&n&&(s.subscribe(this.tt??(this.tt=new Ph(this,this.l.get(Bh)))),i||this.updateSource(s.getValue(this.target,this.targetProperty))),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,En(this.ast,this.s,this),this.s=void 0,this.tt&&(this.X.unsubscribe(this.tt),this.tt=null),this.U?.cancel(),this.U=null,this.obs.clearAll())}useTargetObserver(t){this.X?.unsubscribe(this),(this.X=t).subscribe(this)}useTargetSubscriber(t){if(null!=this.tt)throw nc(9995);this.tt=t}}Mh(ll),Dh(ll,(t=>4&t.mode?"updateSource":"updateTarget")),ni(ll),Nh(!0,!1)(ll);let ul=null;const fl={reusable:!1,preempt:!0};class dl{constructor(t,e,n){this.ast=e,this.target=n,this.isBound=!1,this.s=void 0,this.l=t}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,On(this.ast,t,this),Rn(this.ast,this.s,this,this.target),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,In(this.ast,this.s,this,null)===this.target&&Rn(this.ast,this.s,this,null),En(this.ast,this.s,this),this.s=void 0)}}Nh(!1)(dl);class pl{constructor(t,e=!1){this.prevent=t,this.capture=e}}class gl{constructor(t,e,n,s,i){this.ast=e,this.target=n,this.targetEvent=s,this.isBound=!1,this.self=!1,this.boundFn=!0,this.l=t,this.et=i}callSource(t){const e=this.s.overrideContext;e.$event=t;let n=In(this.ast,this.s,this,null);return delete e.$event,Na(n)&&(n=n(t)),!0!==n&&this.et.prevent&&t.preventDefault(),n}handleEvent(t){this.self&&this.target!==t.composedPath()[0]||this.callSource(t)}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,On(this.ast,t,this),this.target.addEventListener(this.targetEvent,this,this.et),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,En(this.ast,this.s,this),this.s=void 0,this.target.removeEventListener(this.targetEvent,this,this.et))}}Mh(gl),Dh(gl,(()=>"callSource")),Nh(!0,!0)(gl);const ml=Qa("IViewFactory");class vl{constructor(t,e){this.isCaching=!1,this.it=null,this.st=-1,this.name=e.name,this.container=t,this.def=e}setCacheSize(t,e){t&&("*"===t?t=vl.maxCacheSize:ja(t)&&(t=parseInt(t,10)),-1!==this.st&&e||(this.st=t)),this.st>0?this.it=[]:this.it=null,this.isCaching=this.st>0}canReturnToCache(t){return null!=this.it&&this.it.length<this.st}tryReturnToCache(t){return!!this.canReturnToCache(t)&&(this.it.push(t),!0)}create(t){const e=this.it;let n;return null!=e&&e.length>0?(n=e.pop(),n):(n=Iu.$view(this,t),n)}}vl.maxCacheSize=65535;const bl=Qa("IAuSlotsInfo");class wl{constructor(t){this.projectedSlots=t}}const yl=Qa("IAuSlotWatcher");var kl;!function(t){t.hydrateElement="ra",t.hydrateAttribute="rb",t.hydrateTemplateController="rc",t.hydrateLetElement="rd",t.setProperty="re",t.interpolation="rf",t.propertyBinding="rg",t.letBinding="ri",t.refBinding="rj",t.iteratorBinding="rk",t.multiAttr="rl",t.textBinding="ha",t.listenerBinding="hb",t.attributeBinding="hc",t.stylePropertyBinding="hd",t.setAttribute="he",t.setClassAttribute="hf",t.setStyleAttribute="hg",t.spreadBinding="hs",t.spreadElementProp="hp"}(kl||(kl={}));const Cl=Qa("Instruction");class Sl{constructor(t,e){this.from=t,this.to=e,this.type="rf"}}class Al{constructor(t,e,n){this.from=t,this.to=e,this.mode=n,this.type="rg"}}class xl{constructor(t,e,n){this.forOf=t,this.to=e,this.props=n,this.type="rk"}}class $l{constructor(t,e){this.from=t,this.to=e,this.type="rj"}}class Tl{constructor(t,e){this.value=t,this.to=e,this.type="re"}}class Il{constructor(t,e,n){this.value=t,this.to=e,this.command=n,this.type="rl"}}class Rl{constructor(t,e,n,s,i,r){this.res=t,this.alias=e,this.props=n,this.projections=s,this.containerless=i,this.captures=r,this.type="ra",this.auSlot=null}}class Ol{constructor(t,e,n){this.res=t,this.alias=e,this.props=n,this.type="rb"}}class El{constructor(t,e,n,s){this.def=t,this.res=e,this.alias=n,this.props=s,this.type="rc"}}class Pl{constructor(t,e){this.instructions=t,this.toBindingContext=e,this.type="rd"}}class Ml{constructor(t,e){this.from=t,this.to=e,this.type="ri"}}class Nl{constructor(t,e){this.from=t,this.strict=e,this.type="ha"}}class jl{constructor(t,e,n,s){this.from=t,this.to=e,this.preventDefault=n,this.capture=s,this.type="hb"}}class Ll{constructor(t,e){this.value=t,this.to=e,this.type="he"}}class Bl{constructor(t){this.value=t,this.type="hf"}}class Ul{constructor(t){this.value=t,this.type="hg"}}class Fl{constructor(t,e,n){this.attr=t,this.from=e,this.to=n,this.type="hc"}}class Vl{constructor(){this.type="hs"}}class Dl{constructor(t){this.instructions=t,this.type="hp"}}const Wl=Qa("ITemplateCompiler"),ql=Qa("IRenderer");function _l(t){return function(e){return e.register=function(t){Xa(ql,this).register(t)},Ua(e.prototype,"target",{configurable:!0,get:function(){return t}}),e}}function Hl(t,e,n){return ja(e)?t.parse(e,n):e}function zl(t){return null!=t.viewModel?t.viewModel:t}let Kl=class{render(t,e,n){const s=zl(e);void 0!==s.$observers?.[n.to]?s.$observers[n.to].setValue(n.value):s[n.to]=n.value}};Kl=la([_l("re")],Kl);let Gl=class{constructor(){this.r=Tt(Cu)}render(t,e,n,s,i,r){let o,a,c,h;const l=n.res,u=n.projections,f=t.container;if("string"==typeof l){if(o=f.find(vh,l),null==o)throw nc(752,n,t)}else o=l;const d=n.containerless||o.containerless?Mc(e):null,p=function(t,e,n,s,i,r){const o=e.container.createChild();return Fc(o,t,n),tc(o,Bu,new re(fu,e)),tc(o,Cl,new re(du,s)),tc(o,Rc,null==i?wu:new bu(i)),tc(o,ml,yu),tc(o,bl,null==r?ku:new re(gu,r)),o}(s,t,e,n,d,null==u?void 0:new wl(Ra(u)));a=o.Type,c=p.invoke(a),tc(p,a,new re(o.key,c)),h=Iu.$el(p,c,e,n,o,d),$c(e,o.key,h);const g=this.r.renderers,m=n.props,v=m.length;let b,w=0;for(;v>w;)b=m[w],g[b.type].render(t,h,b,s,i,r),++w;t.addChild(h)}};Gl=la([_l("ra")],Gl);let Ql=class{constructor(){this.r=Tt(Cu)}render(t,e,n,s,i,r){let o,a=t.container;if("string"==typeof n.res){if(o=a.find(Qc,n.res),null==o)throw nc(753,n,t)}else o=n.res;const c=vu(s,o,t,e,n,void 0,void 0),h=Iu.$attr(c.ctn,c.vm,e,o);$c(e,o.key,h);const l=this.r.renderers,u=n.props,f=u.length;let d,p=0;for(;f>p;)d=u[p],l[d.type].render(t,h,d,s,i,r),++p;t.addChild(h)}};Ql=la([_l("rb")],Ql);let Xl=class{constructor(){this.r=Tt(Cu)}render(t,e,n,s,i,r){let o,a=t.container;if("string"==typeof n.res){if(o=a.find(Qc,n.res),null==o)throw nc(754,n,t)}else o=n.res;const c=this.r.getViewFactory(n.def,a),h=Mc(e),l=vu(s,o,t,e,n,c,h),u=Iu.$attr(l.ctn,l.vm,e,o);$c(h,o.key,u),l.vm.link?.(t,u,e,n);const f=this.r.renderers,d=n.props,p=d.length;let g,m=0;for(;p>m;)g=d[m],f[g.type].render(t,u,g,s,i,r),++m;t.addChild(u)}};Xl=la([_l("rc")],Xl);let Zl=class{render(t,e,n,s,i,r){e.remove();const o=n.instructions,a=n.toBindingContext,c=t.container,h=o.length;let l,u,f=0;for(;h>f;)l=o[f],u=Hl(i,l.from,16),t.addBinding(new hl(c,r,u,l.to,a)),++f}};Zl=la([_l("rd")],Zl);let Yl=class{render(t,e,n,s,i){t.addBinding(new dl(t.container,Hl(i,n.from,16),function(t,e){if("element"===e)return t;switch(e){case"controller":return dh(t);case"view":throw nc(750);case"view-model":return dh(t).viewModel;default:{const n=zc(t,e);if(void 0!==n)return n.viewModel;const s=dh(t,{name:e});if(void 0===s)throw nc(751,e);return s.viewModel}}}(e,n.to)))}};Yl=la([_l("rj")],Yl);let Jl=class{render(t,e,n,s,i,r){t.addBinding(new ol(t,t.container,r,s.domWriteQueue,Hl(i,n.from,1),zl(e),n.to,2))}};Jl=la([_l("rf")],Jl);let tu=class{render(t,e,n,s,i,r){t.addBinding(new ll(t,t.container,r,s.domWriteQueue,Hl(i,n.from,16),zl(e),n.to,n.mode))}};tu=la([_l("rg")],tu);let eu=class{render(t,e,n,s,i,r){t.addBinding(new ll(t,t.container,r,s.domWriteQueue,Hl(i,n.forOf,2),zl(e),n.to,2))}};eu=la([_l("rk")],eu);let nu=class{render(t,e,n,s,i,r){t.addBinding(new cl(t,t.container,r,s.domWriteQueue,s,Hl(i,n.from,16),e,n.strict))}};nu=la([_l("ha")],nu);let su=class{render(t,e,n,s,i){t.addBinding(new gl(t.container,Hl(i,n.from,8),e,n.to,new pl(n.preventDefault,n.capture)))}};su=la([_l("hb")],su);let iu=class{render(t,e,n){e.setAttribute(n.to,n.value)}};iu=la([_l("he")],iu);let ru=class{render(t,e,n){!function(t,e){const n=e.length;let s=0;for(let i=0;i<n;++i)32===e.charCodeAt(i)?(i!==s&&t.add(e.slice(s,i)),s=i+1):i+1===n&&t.add(e.slice(s))}(e.classList,n.value)}};ru=la([_l("hf")],ru);let ou=class{render(t,e,n){e.style.cssText+=n.value}};ou=la([_l("hg")],ou);let au=class{render(t,e,n,s,i,r){t.addBinding(new ll(t,t.container,r,s.domWriteQueue,Hl(i,n.from,16),e.style,n.to,2))}};au=la([_l("hd")],au);let cu=class{render(t,e,n,s,i,r){const o=t.container,a=o.has(Oc,!1)?o.get(Oc):null;t.addBinding(new il(t,o,r,s.domWriteQueue,Hl(i,n.from,16),e,n.attr,null==a?n.to:n.to.split(/\s/g).map((t=>a[t]??t)).join(" "),2))}};cu=la([_l("hc")],cu);let hu=class{constructor(){this.ht=Tt(Wl),this.r=Tt(Cu)}render(t,e,n,s,i,r){const o=t.container.get(Uu),a=this.r.renderers,c=t=>{let e=t,n=o;for(;null!=n&&e>0;)n=n.parent,--e;if(null==n)throw nc(9999);return n},h=n=>{const o=c(n),l=uu(o),u=this.ht.compileSpread(o.controller.definition,o.instruction?.captures??oe,o.controller.container,e);let f;for(f of u)switch(f.type){case"hs":h(n+1);break;case"hp":a[f.instructions.type].render(l,dh(e),f.instructions,s,i,r);break;default:a[f.type].render(l,e,f,s,i,r)}t.addBinding(l)};h(0)}};hu=la([_l("hs")],hu);class lu{get container(){return this.locator}get definition(){return this.$controller.definition}get isStrictBinding(){return this.$controller.isStrictBinding}get state(){return this.$controller.state}constructor(t,e){this.ct=t,this.ut=e,this.isBound=!1,this.$controller=e.controller,this.locator=this.$controller.container}get(t){return this.locator.get(t)}bind(t){if(this.isBound)return;this.isBound=!0;const e=this.scope=this.ut.controller.scope.parent??void 0;if(null==e)throw nc(9999);this.ct.forEach((t=>t.bind(e)))}unbind(){this.ct.forEach((t=>t.unbind())),this.isBound=!1}addBinding(t){this.ct.push(t)}addChild(t){if(1!==t.vmKind)throw nc(9998);this.$controller.addChild(t)}}const uu=t=>new lu([],t),fu="IController",du="IInstruction",pu="IRenderLocation",gu="ISlotsInfo";class mu{get $isResolver(){return!0}constructor(t){this.f=t}resolve(){const t=this.f;if(null===t)throw nc(755);if(!ja(t.name)||0===t.name.length)throw nc(756);return t}}function vu(t,e,n,s,i,r,o,a){const c=n instanceof Iu?n:n.$controller,h=c.container.createChild();return Fc(h,t,s),tc(h,Bu,new re(fu,c)),tc(h,Cl,new re(du,i)),tc(h,Rc,null==o?wu:new re(pu,o)),tc(h,ml,null==r?yu:new mu(r)),tc(h,bl,null==a?ku:new re(gu,a)),{vm:h.invoke(e.Type),ctn:h}}class bu{get name(){return"IRenderLocation"}get $isResolver(){return!0}constructor(t){this.l=t}resolve(){return this.l}}const wu=new bu(null),yu=new mu(null),ku=new re(gu,new wl(oe)),Cu=Qa("IRendering",(t=>t.singleton(Su)));class Su{get renderers(){return this.ft??(this.ft=this.dt.getAll(ql,!1).reduce(((t,e)=>(t[e.target]=e,t)),Aa()))}constructor(){this.gt=new WeakMap,this.vt=new WeakMap;const t=this.dt=Tt(Kt).root;this.p=t.get(Sc),this.ep=t.get(si),this.oL=t.get(Po),this.bt=new jc(this.p,this.p.document.createDocumentFragment())}compile(t,e,n){if(!1!==t.needsCompile){const s=this.gt,i=e.get(Wl);let r=s.get(t);return null==r?s.set(t,r=i.compile(t,e,n)):e.register(...r.dependencies),r}return t}getViewFactory(t,e){return new vl(e,eh.getOrCreate(t))}createNodes(t){if(!0===t.enhance)return new jc(this.p,this.xt(t.template));let e,n=!1;const s=this.vt,i=this.p,r=i.document;if(s.has(t))e=s.get(t);else{const o=t.template;let a;null===o?e=null:o instanceof i.Node?"TEMPLATE"===o.nodeName?(e=o.content,n=!0):(e=r.createDocumentFragment()).appendChild(o.cloneNode(!0)):(a=r.createElement("template"),ja(o)&&(a.innerHTML=o),e=a.content,n=!0),this.xt(e),s.set(t,e)}return null==e?this.bt:new jc(this.p,n?r.importNode(e,!0):r.adoptNode(e.cloneNode(!0)))}render(t,e,n,s){const i=n.instructions,r=this.renderers,o=e.length;let a,c,h,l=0,u=0,f=i.length;if(o!==f)throw nc(757,o,f);if(o>0)for(;o>l;){for(a=i[l],h=e[l],u=0,f=a.length;f>u;)c=a[u],r[c.type].render(t,h,c,this.p,this.ep,this.oL),++u;++l}if(null!=s&&(a=n.surrogates,(f=a.length)>0))for(u=0;f>u;)c=a[u],r[c.type].render(t,s,c,this.p,this.ep,this.oL),++u}wt(){return this.p.document.createElement("au-m")}xt(t){if(null==t)return null;let e=t,n=e.firstChild,s=null;for(;null!=n;)if(8===n.nodeType&&"au*"===n.nodeValue&&(s=n.nextSibling,e.removeChild(n),e.insertBefore(this.wt(),s),n=8===s.nodeType?s.nextSibling:s),s=n?.firstChild,null==s)if(s=n?.nextSibling,null==s)for(n=e.nextSibling,e=e.parentNode;null==n&&null!=e;)n=e.nextSibling,e=e.parentNode;else n=s;else e=n,n=s;return t}}var Au;!function(t){t[t.none=0]="none",t[t.host=1]="host",t[t.shadowRoot=2]="shadowRoot",t[t.location=3]="location"}(Au||(Au={}));const xu={optional:!0},$u=(t=>Ta((function t(e,n,s){zt.inject(t)(e,n,s)}),{$isResolver:!0,resolve:(e,n)=>n.has(t,!1)?n.get(t):n.root.has(t,!1)?n.root.get(t):void 0}))(Ln),Tu=new WeakMap;class Iu{get lifecycleHooks(){return this.yt}get isActive(){return(3&this.state)>0&&0==(4&this.state)}get name(){if(null===this.parent)switch(this.vmKind){case 1:return`[${this.definition.name}]`;case 0:return this.definition.name;case 2:return this.viewFactory.name}switch(this.vmKind){case 1:return`${this.parent.name}>[${this.definition.name}]`;case 0:return`${this.parent.name}>${this.definition.name}`;case 2:return this.viewFactory.name===this.parent.definition?.name?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}get viewModel(){return this.kt}set viewModel(t){this.kt=t,this.Ct=null==t||2===this.vmKind?Mu.none:new Mu(t)}constructor(t,e,n,s,i,r,o){this.container=t,this.vmKind=e,this.definition=n,this.viewFactory=s,this.host=r,this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.isStrictBinding=!1,this.scope=null,this.isBound=!1,this.At=!1,this.hostController=null,this.mountTarget=0,this.shadowRoot=null,this.nodes=null,this.location=null,this.yt=null,this.state=0,this.Bt=!1,this.$initiator=null,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this.St=0,this._t=0,this.Rt=0,this.kt=i,this.Ct=2===e?Mu.none:new Mu(i),this.location=o,this.r=t.root.get(Cu),this.coercion=2===e?void 0:t.get($u)}static getCached(t){return Tu.get(t)}static getCachedOrThrow(t){const e=Iu.getCached(t);if(void 0===e)throw nc(500,t);return e}static $el(t,e,n,s,i=undefined,r=null){if(Tu.has(e))return Tu.get(e);i=i??gh(e.constructor);const o=new Iu(t,0,i,null,e,n,r),a=t.get(te(Uu));return i.dependencies.length>0&&t.register(...i.dependencies),tc(t,Uu,new re("IHydrationContext",new Fu(o,s,a))),Tu.set(e,o),null!=s&&!1===s.hydrate||o.hE(s,a),o}static $attr(t,e,n,s){if(Tu.has(e))return Tu.get(e);s=s??Gc(e.constructor);const i=new Iu(t,1,s,null,e,n,null);return s.dependencies.length>0&&t.register(...s.dependencies),Tu.set(e,i),i.Tt(),i}static $view(t,e=undefined){const n=new Iu(t.container,2,null,t,null,null,null);return n.parent=e??null,n.It(),n}hE(t,e){const n=this.container,s=this.kt;let i=this.definition;if(this.scope=xn.create(s,null,!0),i.watches.length>0&&Pu(this,n,i,s),Ru(this,i,s),this.Ct.Et){const t=s.define(this,e,i);void 0!==t&&t!==i&&(i=eh.getOrCreate(t))}this.yt=el.resolve(n),i.register(n),null!==i.injectable&&tc(n,i.injectable,new re("definition.injectable",s)),null!=t&&!1===t.hydrate||(this.hS(t),this.hC())}hS(t){null!=this.yt.hydrating&&this.yt.hydrating.forEach(Wu,this),this.Ct.Pt&&this.kt.hydrating(this);const e=this.Lt=this.r.compile(this.definition,this.container,t),{shadowOptions:n,isStrictBinding:s,hasSlots:i,containerless:r}=e;let o=this.location;if(this.isStrictBinding=s,null!==(this.hostController=dh(this.host,xu))&&(this.host=this.container.root.get(Sc).document.createElement(this.definition.name),r&&null==o&&(o=this.location=Mc(this.host))),$c(this.host,ch,this),$c(this.host,this.definition.key,this),null!==n||i){if(null!=o)throw nc(501);$c(this.shadowRoot=this.host.attachShadow(n??Nu),ch,this),$c(this.shadowRoot,this.definition.key,this),this.mountTarget=2}else null!=o?($c(o,ch,this),$c(o,this.definition.key,this),this.mountTarget=3):this.mountTarget=1;this.kt.$controller=this,this.nodes=this.r.createNodes(e),void 0!==this.yt.hydrated&&this.yt.hydrated.forEach(qu,this),this.Ct.Dt&&this.kt.hydrated(this)}hC(){this.r.render(this,this.nodes.findTargets(),this.Lt,this.host),void 0!==this.yt.created&&this.yt.created.forEach(Du,this),this.Ct.Mt&&this.kt.created(this)}Tt(){const t=this.definition,e=this.kt;t.watches.length>0&&Pu(this,this.container,t,e),Ru(this,t,e),e.$controller=this,this.yt=el.resolve(this.container),void 0!==this.yt.created&&this.yt.created.forEach(Du,this),this.Ct.Mt&&this.kt.created(this)}It(){this.Lt=this.r.compile(this.viewFactory.def,this.container,null),this.isStrictBinding=this.Lt.isStrictBinding,this.r.render(this,(this.nodes=this.r.createNodes(this.Lt)).findTargets(),this.Lt,void 0)}activate(t,e,n){switch(this.state){case 0:case 8:if(null!==e&&!e.isActive)return;this.state=1;break;case 2:return;case 32:throw nc(502,this.name);default:throw nc(503,this.name,function(t){const e=[];return 1==(1&t)&&e.push("activating"),2==(2&t)&&e.push("activated"),4==(4&t)&&e.push("deactivating"),8==(8&t)&&e.push("deactivated"),16==(16&t)&&e.push("released"),32==(32&t)&&e.push("disposed"),0===e.length?"none":e.join("|")}(this.state))}switch(this.parent=e,this.vmKind){case 0:this.scope.parent=n??null;break;case 1:this.scope=n??null;break;case 2:if(null==n)throw nc(504,this.name);this.hasLockedScope||(this.scope=n)}let s;return this.isStrictBinding,this.$initiator=t,this.qt(),2!==this.vmKind&&null!=this.yt.binding&&(s=it(...this.yt.binding.map(_u,this))),this.Ct.Ft&&(s=it(s,this.kt.binding(this.$initiator,this.parent))),Pa(s)?(this.Ht(),s.then((()=>{this.At=!0,1!==this.state?this.Ot():this.bind()})).catch((t=>{this.Vt(t)})),this.$promise):(this.At=!0,this.bind(),this.$promise)}bind(){let t,e=0,n=0;if(null!==this.bindings)for(e=0,n=this.bindings.length;n>e;)this.bindings[e].bind(this.scope),++e;if(2!==this.vmKind&&null!=this.yt.bound&&(t=it(...this.yt.bound.map(Hu,this))),this.Ct.Nt&&(t=it(t,this.kt.bound(this.$initiator,this.parent))),Pa(t))return this.Ht(),void t.then((()=>{this.isBound=!0,1!==this.state?this.Ot():this.$t()})).catch((t=>{this.Vt(t)}));this.isBound=!0,this.$t()}Wt(...t){switch(this.mountTarget){case 1:this.host.append(...t);break;case 2:this.shadowRoot.append(...t);break;case 3:{let e=0;for(;e<t.length;++e)this.location.parentNode.insertBefore(t[e],this.location);break}}}$t(){if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.hostController.Wt(this.host);break;case 3:this.hostController.Wt(this.location.$start,this.location)}switch(this.mountTarget){case 1:this.nodes.appendTo(this.host,null!=this.definition&&this.definition.enhance);break;case 2:{const t=this.container;(t.has(xh,!1)?t.get(xh):t.get($h)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case 3:this.nodes.insertBefore(this.location)}let t,e=0;if(2!==this.vmKind&&null!=this.yt.attaching&&(t=it(...this.yt.attaching.map(zu,this))),this.Ct.jt&&(t=it(t,this.kt.attaching(this.$initiator,this.parent))),Pa(t)&&(this.Ht(),this.qt(),t.then((()=>{this.Ot()})).catch((t=>{this.Vt(t)}))),null!==this.children)for(;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.scope);this.Ot()}deactivate(t,e){let n;switch(-17&this.state){case 2:this.state=4;break;case 1:this.state=4,n=this.$promise?.catch(ce);break;case 0:case 8:case 32:case 40:return;default:throw nc(505,this.name,this.state)}this.$initiator=t,t===this&&this.zt();let s,i=0;if(null!==this.children)for(i=0;i<this.children.length;++i)this.children[i].deactivate(t,this);return st(n,(()=>{if(this.isBound&&(2!==this.vmKind&&null!=this.yt.detaching&&(s=it(...this.yt.detaching.map(Gu,this))),this.Ct.Ut&&(s=it(s,this.kt.detaching(this.$initiator,this.parent)))),Pa(s)&&(this.Ht(),t.zt(),s.then((()=>{t.Gt()})).catch((e=>{t.Vt(e)}))),null===t.head?t.head=this:t.tail.next=this,t.tail=this,t===this)return this.Gt(),this.$promise}))}removeNodes(){switch(this.vmKind){case 0:case 2:this.nodes.remove(),this.nodes.unlink()}if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.host.remove();break;case 3:this.location.$start.remove(),this.location.remove()}}unbind(){let t=0;if(null!==this.bindings)for(;t<this.bindings.length;++t)this.bindings[t].unbind();switch(this.parent=null,this.vmKind){case 1:this.scope=null;break;case 2:this.hasLockedScope||(this.scope=null),16!=(16&this.state)||this.viewFactory.tryReturnToCache(this)||this.$initiator!==this||this.dispose();break;case 0:this.scope.parent=null}this.state=8,this.$initiator=null,this.Xt()}Ht(){void 0===this.$promise&&(this.$promise=new Promise(((t,e)=>{this.$resolve=t,this.$reject=e})),this.$initiator!==this&&this.parent.Ht())}Xt(){void 0!==this.$promise&&(Xu=this.$resolve,this.$resolve=this.$reject=this.$promise=void 0,Xu(),Xu=void 0)}Vt(t){void 0!==this.$promise&&(Zu=this.$reject,this.$resolve=this.$reject=this.$promise=void 0,Zu(t),Zu=void 0),this.$initiator!==this&&this.parent.Vt(t)}qt(){++this.St,this.$initiator!==this&&this.parent.qt()}Ot(){if(1!==this.state)return--this.St,this.Xt(),void(this.$initiator!==this&&this.parent.Ot());if(0==--this.St){if(2!==this.vmKind&&null!=this.yt.attached&&(Yu=it(...this.yt.attached.map(Ku,this))),this.Ct.Qt&&(Yu=it(Yu,this.kt.attached(this.$initiator))),Pa(Yu))return this.Ht(),Yu.then((()=>{this.state=2,this.Xt(),this.$initiator!==this&&this.parent.Ot()})).catch((t=>{this.Vt(t)})),void(Yu=void 0);Yu=void 0,this.state=2,this.Xt()}this.$initiator!==this&&this.parent.Ot()}zt(){++this._t}Gt(){if(0==--this._t){this.Kt(),this.removeNodes();let t,e=this.$initiator.head;for(;null!==e;)e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),e.At&&(2!==e.vmKind&&null!=e.yt.unbinding&&(t=it(...e.yt.unbinding.map(Qu,e))),e.Ct.Yt&&(e.debug&&e.logger.trace("unbinding()"),t=it(t,e.viewModel.unbinding(e.$initiator,e.parent)))),Pa(t)&&(this.Ht(),this.Kt(),t.then((()=>{this.Zt()})).catch((t=>{this.Vt(t)}))),t=void 0,e=e.next;this.Zt()}}Kt(){++this.Rt}Zt(){if(0==--this.Rt){let t=this.$initiator.head,e=null;for(;null!==t;)t!==this&&(t.At=!1,t.isBound=!1,t.unbind()),e=t.next,t.next=null,t=e;this.head=this.tail=null,this.At=!1,this.isBound=!1,this.unbind()}}addBinding(t){null===this.bindings?this.bindings=[t]:this.bindings[this.bindings.length]=t}addChild(t){null===this.children?this.children=[t]:this.children[this.children.length]=t}is(t){switch(this.vmKind){case 1:return Gc(this.kt.constructor).name===t;case 0:return gh(this.kt.constructor).name===t;case 2:return this.viewFactory.name===t}}lockScope(t){this.scope=t,this.hasLockedScope=!0}setHost(t){return 0===this.vmKind&&($c(t,ch,this),$c(t,this.definition.key,this)),this.host=t,this.mountTarget=1,this}setShadowRoot(t){return 0===this.vmKind&&($c(t,ch,this),$c(t,this.definition.key,this)),this.shadowRoot=t,this.mountTarget=2,this}setLocation(t){return 0===this.vmKind&&($c(t,ch,this),$c(t,this.definition.key,this)),this.location=t,this.mountTarget=3,this}release(){this.state|=16}dispose(){32!=(32&this.state)&&(this.state|=32,this.Ct.Jt&&this.kt.dispose(),null!==this.children&&(this.children.forEach(Vu),this.children=null),this.hostController=null,this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,null!==this.kt&&(Tu.delete(this.kt),this.kt=null),this.kt=null,this.host=null,this.shadowRoot=null,this.container.disposeResolvers())}accept(t){if(!0===t(this))return!0;if(this.Ct.te&&!0===this.kt.accept(t))return!0;if(null!==this.children){const{children:e}=this;for(let n=0,s=e.length;n<s;++n)if(!0===e[n].accept(t))return!0}}}function Ru(t,e,n){const s=e.bindables,i=Ia(s),r=i.length,o=t.container.get(Po);if(r>0)for(let e=0;e<r;++e){const r=i[e],a=s[r],c=a.callback,h=o.getObserver(n,r);if(a.set!==ce&&!0!==h.useCoercer?.(a.set,t.coercion))throw nc(507,r);if(null!=n[c]||null!=n.propertyChanged){const e=(e,s)=>{t.isBound&&(n[c]?.(e,s),n.propertyChanged?.(r,e,s))};if(!0!==h.useCallback?.(e))throw nc(508,r)}}}const Ou=new Map,Eu=t=>{let e=Ou.get(t);return null==e&&(e=new en(t,0),Ou.set(t,e)),e};function Pu(t,e,n,s){const i=e.get(Po),r=e.get(si),o=n.watches,a=0===t.vmKind?t.scope:xn.create(s,null,!0),c=o.length;let h,l,u,f=0;for(;c>f;++f){if(({expression:h,callback:l}=o[f]),l=Na(l)?l:Reflect.get(s,l),!Na(l))throw nc(506,l);Na(h)?t.addBinding(new Gh(s,i,h,l,!0)):(u=ja(h)?r.parse(h,16):Eu(h),t.addBinding(new Qh(a,e,i,u,l)))}}class Mu{constructor(t){this.Et="define"in t,this.Pt="hydrating"in t,this.Dt="hydrated"in t,this.Mt="created"in t,this.Ft="binding"in t,this.Nt="bound"in t,this.jt="attaching"in t,this.Qt="attached"in t,this.Ut="detaching"in t,this.Yt="unbinding"in t,this.Jt="dispose"in t,this.te="accept"in t}}Mu.none=new Mu({});const Nu={mode:"open"};var ju,Lu;!function(t){t[t.customElement=0]="customElement",t[t.customAttribute=1]="customAttribute",t[t.synthetic=2]="synthetic"}(ju||(ju={})),function(t){t[t.none=0]="none",t[t.activating=1]="activating",t[t.activated=2]="activated",t[t.deactivating=4]="deactivating",t[t.deactivated=8]="deactivated",t[t.released=16]="released",t[t.disposed=32]="disposed"}(Lu||(Lu={}));const Bu=Qa("IController"),Uu=Qa("IHydrationContext");class Fu{constructor(t,e,n){this.instruction=e,this.parent=n,this.controller=t}}function Vu(t){t.dispose()}function Du(t){t.instance.created(this.kt,this)}function Wu(t){t.instance.hydrating(this.kt,this)}function qu(t){t.instance.hydrated(this.kt,this)}function _u(t){return t.instance.binding(this.kt,this.$initiator,this.parent)}function Hu(t){return t.instance.bound(this.kt,this.$initiator,this.parent)}function zu(t){return t.instance.attaching(this.kt,this.$initiator,this.parent)}function Ku(t){return t.instance.attached(this.kt,this.$initiator)}function Gu(t){return t.instance.detaching(this.kt,this.$initiator,this.parent)}function Qu(t){return t.instance.unbinding(this.kt,this.$initiator,this.parent)}let Xu,Zu,Yu;const Ju=Qa("IAppRoot");class tf{constructor(t,e,n,s){this.config=t,this.platform=e,this.container=n,this.ee=void 0,this.host=t.host,s.prepare(this),Fc(n,e,t.host),this.ee=st(this.ie("creating"),(()=>{const e=t.component,s=n.createChild();let i;i=fh(e)?this.container.get(e):t.component;const r={hydrate:!1,projections:null},o=this.controller=Iu.$el(s,i,this.host,r);return o.hE(r,null),st(this.ie("hydrating"),(()=>(o.hS(null),st(this.ie("hydrated"),(()=>{o.hC(),this.ee=void 0})))))}))}activate(){return st(this.ee,(()=>st(this.ie("activating"),(()=>st(this.controller.activate(this.controller,null,void 0),(()=>this.ie("activated")))))))}deactivate(){return st(this.ie("deactivating"),(()=>st(this.controller.deactivate(this.controller,null),(()=>this.ie("deactivated")))))}ie(t){return it(...this.container.getAll(wc).reduce(((e,n)=>(n.slot===t&&e.push(n.run()),e)),[]))}dispose(){this.controller?.dispose()}}const ef=Qa("IAurelia");class nf{get isRunning(){return this.ir}get isStarting(){return this.se}get isStopping(){return this.ne}get root(){if(null==this.re){if(null==this.next)throw nc(767);return this.next}return this.re}constructor(t=zt.createContainer()){if(this.container=t,this.ir=!1,this.se=!1,this.ne=!1,this.re=void 0,this.next=void 0,this.oe=void 0,this.le=void 0,t.has(ef,!0)||t.has(nf,!0))throw nc(768);tc(t,ef,new re("IAurelia",this)),tc(t,nf,new re("Aurelia",this)),tc(t,Ju,this.he=new re("IAppRoot"))}register(...t){return this.container.register(...t),this}app(t){return this.next=new tf(t,this.ae(t.host),this.container,this.he),this}enhance(t,e){const n=t.container??this.container.createChild(),s=t.host,i=this.ae(s),r=t.component;let o;Na(r)?(Fc(n,i,s),o=n.invoke(r)):o=r,tc(n,Ic,new re("IEventTarget",s)),e=e??null;const a=Iu.$el(n,o,s,null,eh.create({name:lh(),template:s,enhance:!0}));return st(a.activate(a,e),(()=>a))}async waitForIdle(){const t=this.root.platform;await t.domWriteQueue.yield(),await t.domReadQueue.yield(),await t.taskQueue.yield()}ae(t){let e;if(this.container.has(Sc,!1))e=this.container.get(Sc);else{if(null===t.ownerDocument.defaultView)throw nc(769);e=new ca(t.ownerDocument.defaultView),this.container.register(Ya(Sc,e))}return e}start(t=this.next){if(null==t)throw nc(770);return Pa(this.oe)?this.oe:this.oe=st(this.stop(),(()=>(Reflect.set(t.host,"$aurelia",this),this.he.prepare(this.re=t),this.se=!0,st(t.activate(),(()=>{this.ir=!0,this.se=!1,this.oe=void 0,this.ce(t,"au-started",t.host)})))))}stop(t=!1){if(Pa(this.le))return this.le;if(!0===this.ir){const e=this.re;return this.ir=!1,this.ne=!0,this.le=st(e.deactivate(),(()=>{Reflect.deleteProperty(e.host,"$aurelia"),t&&e.dispose(),this.re=void 0,this.he.dispose(),this.ne=!1,this.ce(e,"au-stopped",e.host)}))}}dispose(){if(this.ir||this.ne)throw nc(771);this.container.dispose()}ce(t,e,n){const s=new t.platform.window.CustomEvent(e,{detail:this,bubbles:!0,cancelable:!0});n.dispatchEvent(s)}}class sf{constructor(t,e,n,s){if(this.chars=t,this.repeat=e,this.isSymbol=n,this.isInverted=s,s)switch(t.length){case 0:this.has=this.ue;break;case 1:this.has=this.fe;break;default:this.has=this.de}else switch(t.length){case 0:this.has=this.me;break;case 1:this.has=this.ge;break;default:this.has=this.pe}}equals(t){return this.chars===t.chars&&this.repeat===t.repeat&&this.isSymbol===t.isSymbol&&this.isInverted===t.isInverted}pe(t){return this.chars.includes(t)}ge(t){return this.chars===t}me(t){return!1}de(t){return!this.chars.includes(t)}fe(t){return this.chars!==t}ue(t){return!0}}class rf{constructor(){this.parts=oe,this.ve="",this.be={},this.xe={}}get pattern(){const t=this.ve;return""===t?null:t}set pattern(t){null==t?(this.ve="",this.parts=oe):(this.ve=t,this.parts=this.xe[t])}append(t,e){const n=this.be;void 0===n[t]?n[t]=e:n[t]+=e}next(t){const e=this.be;let n;void 0!==e[t]&&(n=this.xe,void 0===n[t]?n[t]=[e[t]]:n[t].push(e[t]),e[t]=void 0)}}class of{get ve(){return this.we?this.ye[0]:null}constructor(t,...e){this.charSpec=t,this.ke=[],this.Ce=null,this.we=!1,this.ye=e}findChild(t){const e=this.ke,n=e.length;let s=null,i=0;for(;i<n;++i)if(s=e[i],t.equals(s.charSpec))return s;return null}append(t,e){const n=this.ye;n.includes(e)||n.push(e);let s=this.findChild(t);return null==s&&(s=new of(t,e),this.ke.push(s),t.repeat&&s.ke.push(s)),s}findMatches(t,e){const n=[],s=this.ke,i=s.length;let r=0,o=null,a=0,c=0;for(;a<i;++a)if(o=s[a],o.charSpec.has(t))if(n.push(o),r=o.ye.length,c=0,o.charSpec.isSymbol)for(;c<r;++c)e.next(o.ye[c]);else for(;c<r;++c)e.append(o.ye[c],t);return n}}class af{constructor(t){this.text=t;const e=this.Ae=t.length,n=this.Be=[];let s=0;for(;e>s;++s)n.push(new sf(t[s],!1,!1,!1))}eachChar(t){const e=this.Ae,n=this.Be;let s=0;for(;e>s;++s)t(n[s])}}class cf{constructor(t){this.text="PART",this.Se=new sf(t,!0,!1,!0)}eachChar(t){t(this.Se)}}class hf{constructor(t){this.text=t,this.Se=new sf(t,!1,!0,!1)}eachChar(t){t(this.Se)}}class lf{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const uf=Qa("ISyntaxInterpreter",(t=>t.singleton(ff)));class ff{constructor(){this._e=new of(null),this.Re=[this._e]}add(t){t=t.slice(0).sort(((t,e)=>t.pattern>e.pattern?1:-1));const e=t.length;let n,s,i,r,o,a,c,h,l=0;for(;e>l;){for(n=this._e,s=t[l],i=s.pattern,r=new lf,o=this.Te(s,r),a=o.length,c=t=>n=n.append(t,i),h=0;a>h;++h)o[h].eachChar(c);n.Ce=r,n.we=!0,++l}}interpret(t){const e=new rf,n=t.length;let s,i=this.Re,r=0;for(;r<n&&(i=this.Ie(i,t.charAt(r),e),0!==i.length);++r);return i=i.filter(df),i.length>0&&(i.sort(pf),s=i[0],s.charSpec.isSymbol||e.next(s.ve),e.pattern=s.ve),e}Ie(t,e,n){const s=[];let i=null;const r=t.length;let o=0;for(;o<r;++o)i=t[o],s.push(...i.findMatches(e,n));return s}Te(t,e){const n=[],s=t.pattern,i=s.length,r=t.symbols;let o=0,a=0,c="";for(;o<i;)c=s.charAt(o),0!==r.length&&r.includes(c)?o!==a?(n.push(new af(s.slice(a,o))),++e.statics,a=o):(n.push(new hf(s.slice(a,o+1))),++e.symbols,a=++o):o===a&&"P"===c&&"PART"===s.slice(o,o+4)?(a=o+=4,n.push(new cf(r)),++e.dynamics):++o;return a!==o&&(n.push(new af(s.slice(a,o))),++e.statics),n}}function df(t){return t.we}function pf(t,e){const n=t.Ce,s=e.Ce;return n.statics!==s.statics?s.statics-n.statics:n.dynamics!==s.dynamics?s.dynamics-n.dynamics:n.symbols!==s.symbols?s.symbols-n.symbols:0}class gf{constructor(t,e,n,s){this.rawName=t,this.rawValue=e,this.target=n,this.command=s}}const mf=Qa("IAttributePattern"),vf=Qa("IAttributeParser",(t=>t.singleton(bf)));class bf{constructor(t,e){this.it={},this.Ee=t;const n=this.ye={},s=e.reduce(((t,e)=>{const s=Sf(e.constructor);return s.forEach((t=>n[t.pattern]=e)),t.concat(s)}),oe);t.add(s)}parse(t,e){let n=this.it[t];null==n&&(n=this.it[t]=this.Ee.interpret(t));const s=n.pattern;return null==s?new gf(t,e,t,null):this.ye[s][s](t,e,n.parts)}}function wf(...t){return function(e){return Af.define(t,e)}}bf.inject=[uf,Jt(mf)];class yf{constructor(t){this.Type=t,this.name=void 0}register(t){Xa(mf,this.Type).register(t)}}const kf=va("attribute-pattern"),Cf="attribute-pattern-definitions",Sf=t=>pt.annotation.get(t,Cf),Af=$a({name:kf,definitionAnnotationKey:Cf,define(t,e){const n=new yf(e);return da(kf,n,e),ba(e,kf),pt.annotation.set(e,Cf,t),wa(e,Cf),e},getPatternDefinitions:Sf});let xf=class{"PART.PART"(t,e,n){return new gf(t,e,n[0],n[1])}"PART.PART.PART"(t,e,n){return new gf(t,e,`${n[0]}.${n[1]}`,n[2])}};xf=la([wf({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})],xf);let $f=class{ref(t,e,n){return new gf(t,e,"element","ref")}"PART.ref"(t,e,n){return new gf(t,e,n[0],"ref")}};$f=la([wf({pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."})],$f);let Tf=class{":PART"(t,e,n){return new gf(t,e,n[0],"bind")}};Tf=la([wf({pattern:":PART",symbols:":"})],Tf);let If=class{"@PART"(t,e,n){return new gf(t,e,n[0],"trigger")}};If=la([wf({pattern:"@PART",symbols:"@"})],If);let Rf=class{"...$attrs"(t,e,n){return new gf(t,e,"","...$attrs")}};var Of;function Ef(t){return function(e){return Lf.define(t,e)}}Rf=la([wf({pattern:"...$attrs",symbols:""})],Rf),function(t){t[t.None=0]="None",t[t.IgnoreAttr=1]="IgnoreAttr"}(Of||(Of={}));class Pf{constructor(t,e,n,s,i){this.Type=t,this.name=e,this.aliases=n,this.key=s,this.type=i}static create(t,e){let n,s;return ja(t)?(n=t,s={name:n}):(n=t.name,s=t),new Pf(e,J(jf(e,"name"),n),Y(jf(e,"aliases"),s.aliases,e.aliases),Nf(n),J(jf(e,"type"),s.type,e.type,null))}register(t){const{Type:e,key:n,aliases:s}=this;Xa(n,e).register(t),Za(n,e).register(t),ec(s,Lf,n,t)}}const Mf=va("binding-command"),Nf=t=>`${Mf}:${t}`,jf=(t,e)=>ua(ma(e),t),Lf=$a({name:Mf,keyFrom:Nf,define(t,e){const n=Pf.create(t,e);return da(Mf,n,n.Type),da(Mf,n,n),ba(e,Mf),n.Type},getAnnotation:jf});let Bf=class{get type(){return 0}build(t,e,n){let s=t.attr.target,i=t.attr.rawValue;return null==t.bindable?s=n.map(t.node,s)??K(s):(""===i&&1===t.def.type&&(i=K(s)),s=t.bindable.property),new Al(e.parse(i,16),s,1)}};Bf=la([Ef("one-time")],Bf);let Uf=class{get type(){return 0}build(t,e,n){let s=t.attr.target,i=t.attr.rawValue;return null==t.bindable?s=n.map(t.node,s)??K(s):(""===i&&1===t.def.type&&(i=K(s)),s=t.bindable.property),new Al(e.parse(i,16),s,2)}};Uf=la([Ef("to-view")],Uf);let Ff=class{get type(){return 0}build(t,e,n){const s=t.attr;let i=s.target,r=s.rawValue;return null==t.bindable?i=n.map(t.node,i)??K(i):(""===r&&1===t.def.type&&(r=K(i)),i=t.bindable.property),new Al(e.parse(r,16),i,4)}};Ff=la([Ef("from-view")],Ff);let Vf=class{get type(){return 0}build(t,e,n){const s=t.attr;let i=s.target,r=s.rawValue;return null==t.bindable?i=n.map(t.node,i)??K(i):(""===r&&1===t.def.type&&(r=K(i)),i=t.bindable.property),new Al(e.parse(r,16),i,6)}};Vf=la([Ef("two-way")],Vf);let Df=class{get type(){return 0}build(t,e,n){const s=t.attr,i=t.bindable;let r,o,a=s.target,c=s.rawValue;return null==i?(o=n.isTwoWay(t.node,a)?6:2,a=n.map(t.node,a)??K(a)):(""===c&&1===t.def.type&&(c=K(a)),r=t.def.defaultBindingMode,o=8===i.mode||null==i.mode?null==r||8===r?2:r:i.mode,a=i.property),new Al(e.parse(c,16),a,o)}};Df=la([Ef("bind")],Df);let Wf=class{get type(){return 0}static get inject(){return[vf]}constructor(t){this.Pe=t}build(t,e){const n=null===t.bindable?K(t.attr.target):t.bindable.property,s=e.parse(t.attr.rawValue,2);let i=oe;if(s.semiIdx>-1){const e=t.attr.rawValue.slice(s.semiIdx+1),n=e.indexOf(":");if(n>-1){const t=e.slice(0,n).trim(),s=e.slice(n+1).trim(),r=this.Pe.parse(t,s);i=[new Il(s,r.target,r.command)]}}return new xl(s,n,i)}};Wf=la([Ef("for")],Wf);let qf=class{get type(){return 1}build(t,e){return new jl(e.parse(t.attr.rawValue,8),t.attr.target,!0,!1)}};qf=la([Ef("trigger")],qf);let _f=class{get type(){return 1}build(t,e){return new jl(e.parse(t.attr.rawValue,8),t.attr.target,!1,!0)}};_f=la([Ef("capture")],_f);let Hf=class{get type(){return 1}build(t,e){return new Fl(t.attr.target,e.parse(t.attr.rawValue,16),t.attr.target)}};Hf=la([Ef("attr")],Hf);let zf=class{get type(){return 1}build(t,e){return new Fl("style",e.parse(t.attr.rawValue,16),t.attr.target)}};zf=la([Ef("style")],zf);let Kf=class{get type(){return 1}build(t,e){return new Fl("class",e.parse(t.attr.rawValue,16),t.attr.target)}};Kf=la([Ef("class")],Kf);let Gf=class{get type(){return 1}build(t,e){return new $l(e.parse(t.attr.rawValue,16),t.attr.target)}};Gf=la([Ef("ref")],Gf);let Qf=class{get type(){return 1}build(t){return new Vl}};Qf=la([Ef("...$attrs")],Qf);const Xf=Qa("ISVGAnalyzer",(t=>t.singleton(Zf)));class Zf{isStandardSvgAttribute(t,e){return!1}}const Yf=Qa("IAttrMapper",(t=>t.singleton(Jf)));class Jf{constructor(){this.fns=[],this.qe=Aa(),this.Fe=Aa(),this.svg=Tt(Xf),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}useMapping(t){var e;let n,s,i,r;for(i in t)for(r in n=t[i],s=(e=this.qe)[i]??(e[i]=Aa()),n){if(void 0!==s[r])throw td(r,i);s[r]=n[r]}}useGlobalMapping(t){const e=this.Fe;for(const n in t){if(void 0!==e[n])throw td(n,"*");e[n]=t[n]}}useTwoWay(t){this.fns.push(t)}isTwoWay(t,e){return function(t,e){switch(t.nodeName){case"INPUT":switch(t.type){case"checkbox":case"radio":return"checked"===e;default:return"value"===e||"files"===e||"value-as-number"===e||"value-as-date"===e}case"TEXTAREA":case"SELECT":return"value"===e;default:switch(e){case"textcontent":case"innerhtml":return t.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}(t,e)||this.fns.length>0&&this.fns.some((n=>n(t,e)))}map(t,e){return this.qe[t.nodeName]?.[e]??this.Fe[e]??(Ea(t,e,this.svg)?e:null)}}function td(t,e){return nc(719,t,e)}var ed;!function(t){t[t.oneTime=1]="oneTime",t[t.toView=2]="toView",t[t.fromView=4]="fromView",t[t.twoWay=6]="twoWay",t[t.default=8]="default"}(ed||(ed={}));const nd=Aa();class sd{static forNs(t){return nd[t]??(nd[t]=new sd(t))}constructor(t){this.ns=t,this.type=6}getValue(t,e){return t.getAttributeNS(this.ns,e)}setValue(t,e,n){null==t?e.removeAttributeNS(this.ns,n):e.setAttributeNS(this.ns,n,t)}}kh(sd);class id{constructor(){this.type=6}getValue(t,e){return t.getAttribute(e)}setValue(t,e,n){null==t?e.removeAttribute(n):e.setAttribute(n,t)}}kh(id);const rd=new id,od=(t,e)=>t.document.createComment(e),ad=(t,e,n)=>t.insertBefore(e,n),cd=(t,e,n)=>{if(null===t)return;const s=n.length;let i=0;for(;s>i;)t.insertBefore(n[i],e),++i},hd=(t,e)=>t.content.appendChild(e),ld=(t,e)=>{const n=e.length;let s=0;for(;n>s;)t.content.appendChild(e[s]),++s},ud=(t,e)=>new t.ownerDocument.defaultView.MutationObserver(e),fd={childList:!0,subtree:!0,characterData:!0};function dd(t,e){return t===e}class pd{constructor(t,e,n,s){this.type=7,this.v=void 0,this.ov=void 0,this.He=!1,this.Oe=void 0,this.Ve=void 0,this.iO=!1,this.L=!1,this.P=t,this.oL=s,this.cf=n}getValue(){return this.iO?this.v:this.P.multiple?function(t){const e=[];if(0===t.length)return e;const n=t.length;let s,i=0;for(;n>i;)s=t[i],s.selected&&(e[e.length]=xa.call(s,"model")?s.model:s.value),++i;return e}(this.P.options):this.P.value}setValue(t){this.ov=this.v,this.v=t,this.He=t!==this.ov,this.Ne(t instanceof Array?t:null),this.O()}O(){this.He&&(this.He=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){const t=this.v,e=this.P,n=Ma(t),s=e.matcher??dd,i=e.options;let r=i.length;for(;r-- >0;){const e=i[r],o=xa.call(e,"model")?e.model:e.value;e.selected=n?-1!==t.findIndex((t=>!!s(o,t))):!!s(o,t)}}syncValue(){const t=this.P,e=t.options,n=e.length,s=this.v;let i=0;if(t.multiple){if(!(s instanceof Array))return!0;let r;const o=t.matcher||dd,a=[];for(;i<n;)r=e[i],r.selected&&a.push(xa.call(r,"model")?r.model:r.value),++i;let c;for(i=0;i<s.length;)c=s[i],-1===a.findIndex((t=>!!o(c,t)))?s.splice(i,1):++i;for(i=0;i<a.length;)c=a[i],-1===s.findIndex((t=>!!o(c,t)))&&s.push(c),++i;return!1}let r,o=null;for(;i<n;){if(r=e[i],r.selected){o=xa.call(r,"model")?r.model:r.value;break}++i}return this.ov=this.v,this.v=o,!0}M(){(this.Ve=ud(this.P,this.$e.bind(this))).observe(this.P,fd),this.Ne(this.v instanceof Array?this.v:null),this.iO=!0}q(){this.Ve.disconnect(),this.Oe?.unsubscribe(this),this.Ve=this.Oe=void 0,this.iO=!1}Ne(t){if(this.Oe?.unsubscribe(this),this.Oe=void 0,null!=t){if(!this.P.multiple)throw new Error("AUR0654");(this.Oe=this.oL.getArrayObserver(t)).subscribe(this)}}handleEvent(){this.syncValue()&&this.We()}$e(t){this.syncOptions(),this.syncValue()&&this.We()}We(){gd=this.ov,this.ov=this.v,this.subs.notify(this.v,gd)}}let gd,md;yh(pd),Vn(pd);class vd{constructor(t){this.obj=t,this.type=6,this.v="",this.ov="",this.styles={},this.version=0,this.He=!1}getValue(){return this.obj.style.cssText}setValue(t){this.v=t,this.He=t!==this.ov,this.O()}je(t){const e=[],n=/url\([^)]+$/;let s,i,r,o,a=0,c="";for(;a<t.length;)s=t.indexOf(";",a),-1===s&&(s=t.length),c+=t.substring(a,s),a=s+1,n.test(c)?c+=";":(i=c.indexOf(":"),r=c.substring(0,i).trim(),o=c.substring(i+1).trim(),e.push([r,o]),c="");return e}ze(t){let e,n;const s=[];for(n in t)if(e=t[n],null!=e)if(ja(e)){if(n.startsWith("--")){s.push([n,e]);continue}s.push([Q(n),e])}else s.push(...this.Ue(e));return s}Ge(t){const e=t.length;if(e>0){const n=[];let s=0;for(;e>s;++s)n.push(...this.Ue(t[s]));return n}return oe}Ue(t){return ja(t)?this.je(t):t instanceof Array?this.Ge(t):t instanceof Object?this.ze(t):oe}O(){if(this.He){this.He=!1;const t=this.v,e=this.styles,n=this.Ue(t);let s,i,r,o,a=this.version;this.ov=t;let c=0;const h=n.length;for(;c<h;++c)i=n[c],r=i[0],o=i[1],this.setProperty(r,o),e[r]=a;if(this.styles=e,this.version+=1,0===a)return;for(s in a-=1,e)xa.call(e,s)&&e[s]===a&&this.obj.style.removeProperty(s)}}setProperty(t,e){let n="";null!=e&&Na(e.indexOf)&&e.includes("!important")&&(n="important",e=e.replace("!important","")),this.obj.style.setProperty(t,e,n)}bind(){this.v=this.ov=this.obj.style.cssText}}kh(vd);class bd{constructor(t,e,n){this.type=7,this.v="",this.ov="",this.He=!1,this.L=!1,this.P=t,this.k=e,this.cf=n}getValue(){return this.v}setValue(t){Ba(t,this.v)||(this.ov=this.v,this.v=t,this.He=!0,this.cf.readonly||this.O())}O(){this.He&&(this.He=!1,this.P[this.k]=this.v??this.cf.default,this.We())}handleEvent(){this.ov=this.v,this.v=this.P[this.k],this.ov!==this.v&&(this.He=!1,this.We())}M(){this.v=this.ov=this.P[this.k]}We(){md=this.ov,this.ov=this.v,this.subs.notify(this.v,md)}}yh(bd),Vn(bd);const wd="http://www.w3.org/1999/xlink",yd="http://www.w3.org/XML/1998/namespace",kd="http://www.w3.org/2000/xmlns/",Cd=Ta(Aa(),{"xlink:actuate":["actuate",wd],"xlink:arcrole":["arcrole",wd],"xlink:href":["href",wd],"xlink:role":["role",wd],"xlink:show":["show",wd],"xlink:title":["title",wd],"xlink:type":["type",wd],"xml:lang":["lang",yd],"xml:space":["space",yd],xmlns:["xmlns",kd],"xmlns:xlink":["xlink",kd]}),Sd=new Io;Sd.type=6;class Ad{constructor(){this.allowDirtyCheck=!0,this.Xe=Aa(),this.Qe=Aa(),this.Ke=Aa(),this.Ye=Aa(),this.Ze=Tt(Gt),this.p=Tt(Sc),this.Je=Tt(So),this.svg=Tt(Xf);const t=["change","input"],e={events:t,default:""};this.useConfig({INPUT:{value:e,valueAsNumber:{events:t,default:0},checked:{type:Td,events:t},files:{events:t,readonly:!0}},SELECT:{value:{type:pd,events:["change"],default:""}},TEXTAREA:{value:e}});const n={events:["change","input","blur","keyup","paste"],default:""},s={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:s,scrollLeft:s,textContent:n,innerHTML:n}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}static register(t){Za(Mo,Ad).register(t),Xa(Mo,Ad).register(t)}handles(t,e){return t instanceof this.p.Node}useConfig(t,e,n){const s=this.Xe;let i;if(ja(t))i=s[t]??(s[t]=Aa()),null==i[e]?i[e]=n:xd(t,e);else for(const n in t){i=s[n]??(s[n]=Aa());const r=t[n];for(e in r)null==i[e]?i[e]=r[e]:xd(n,e)}}useConfigGlobal(t,e){const n=this.Qe;if("object"==typeof t)for(const e in t)null==n[e]?n[e]=t[e]:xd("*",e);else null==n[t]?n[t]=e:xd("*",t)}getAccessor(t,e,n){if(e in this.Ye||e in(this.Ke[t.tagName]??ae))return this.getObserver(t,e,n);switch(e){case"src":case"href":case"role":case"minLength":case"maxLength":case"placeholder":case"size":case"pattern":case"title":return rd;default:{const n=Cd[e];return void 0!==n?sd.forNs(n[1]):Ea(t,e,this.svg)?rd:Sd}}}overrideAccessor(t,e){var n,s;let i;if(ja(t))i=(n=this.Ke)[t]??(n[t]=Aa()),i[e]=!0;else for(const e in t)for(const n of t[e])i=(s=this.Ke)[e]??(s[e]=Aa()),i[n]=!0}overrideAccessorGlobal(...t){for(const e of t)this.Ye[e]=!0}getNodeObserverConfig(t,e){return this.Xe[t.tagName]?.[e]??this.Qe[e]}getNodeObserver(t,e,n){const s=this.Xe[t.tagName]?.[e]??this.Qe[e];let i;return null!=s?(i=new(s.type??bd)(t,e,s,n,this.Ze),i.doNotCache||(Uo(t)[e]=i),i):null}getObserver(t,e,n){switch(e){case"class":return new Ch(t);case"css":case"style":return new vd(t)}const s=this.getNodeObserver(t,e,n);if(null!=s)return s;const i=Cd[e];if(void 0!==i)return sd.forNs(i[1]);if(Ea(t,e,this.svg))return rd;if(e in t.constructor.prototype){if(this.allowDirtyCheck)return this.Je.createProperty(t,e);throw nc(652,e)}return new Ro(t,e)}}function xd(t,e){throw nc(653,t,e)}function $d(t,e){return t===e}Ad.inject=[Gt,Sc,So,Xf];class Td{constructor(t,e,n,s){this.type=7,this.v=void 0,this.ov=void 0,this.ti=void 0,this.ei=void 0,this.L=!1,this.P=t,this.oL=s,this.cf=n}getValue(){return this.v}setValue(t){const e=this.v;t!==e&&(this.v=t,this.ov=e,this.ii(),this.si(),this.We())}handleCollectionChange(){this.si()}handleChange(t,e){this.si()}si(){const t=this.v,e=this.P,n=xa.call(e,"model")?e.model:e.value,s="radio"===e.type,i=void 0!==e.matcher?e.matcher:$d;if(s)e.checked=!!i(t,n);else if(!0===t)e.checked=!0;else{let s=!1;if(Ma(t))s=-1!==t.findIndex((t=>!!i(t,n)));else if(t instanceof Set){for(const e of t)if(i(e,n)){s=!0;break}}else if(t instanceof Map)for(const e of t){const t=e[0],r=e[1];if(i(t,n)&&!0===r){s=!0;break}}e.checked=s}}handleEvent(){let t=this.ov=this.v;const e=this.P,n=xa.call(e,"model")?e.model:e.value,s=e.checked,i=void 0!==e.matcher?e.matcher:$d;if("checkbox"===e.type){if(Ma(t)){const e=t.findIndex((t=>!!i(t,n)));return void(s&&-1===e?t.push(n):s||-1===e||t.splice(e,1))}if(t instanceof Set){const e={};let r=e;for(const e of t)if(!0===i(e,n)){r=e;break}return void(s&&r===e?t.add(n):s||r===e||t.delete(r))}if(t instanceof Map){let e;for(const s of t){const t=s[0];if(!0===i(t,n)){e=t;break}}return void t.set(e,s)}t=s}else{if(!s)return;t=n}this.v=t,this.We()}M(){this.ii()}q(){this.ti?.unsubscribe(this),this.ei?.unsubscribe(this),this.ti=this.ei=void 0}We(){Id=this.ov,this.ov=this.v,this.subs.notify(this.v,Id)}ii(){const t=this.P;(this.ei??(this.ei=t.$observers?.model??t.$observers?.value))?.subscribe(this),this.ti?.unsubscribe(this),this.ti=void 0,"checkbox"===t.type&&(this.ti=function(t,e){return t instanceof Array?e.getArrayObserver(t):t instanceof Map?e.getMapObserver(t):t instanceof Set?e.getSetObserver(t):void 0}(this.v,this.oL))?.subscribe(this)}}let Id;yh(Td),Vn(Td);class Rd{bind(t,e){if(!(e instanceof ll))throw nc(9994,e);e.useTargetObserver(rd)}}sc("attr")(Rd);class Od{bind(t,e){if(!(e instanceof gl))throw nc(801);e.self=!0}unbind(t,e){e.self=!1}}sc("self")(Od);class Ed{constructor(){this.oL=Tt(Po),this.ni=Tt(Mo)}bind(t,e,...n){if(!(this.ni instanceof Ad))throw nc(9993);if(0===n.length)throw nc(802);if(!(e instanceof ll&&4&e.mode))throw nc(803);const s=this.ni.getNodeObserverConfig(e.target,e.targetProperty);if(null==s)throw nc(9992,e);const i=this.ni.getNodeObserver(e.target,e.targetProperty,this.oL);i.useConfig({readonly:s.readonly,default:s.default,events:n}),e.useTargetObserver(i)}}sc("updateTrigger")(Ed);class Pd{constructor(){this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this.ri=!1,this.oi=0,this.li=Tt(ml),this.l=Tt(Rc)}attaching(t,e){let n;const s=this.$controller,i=this.oi++,r=()=>!this.ri&&this.oi===i+1;return st(this.pending,(()=>{r()&&(this.pending=void 0,n=this.value?this.view=this.ifView=this.cache&&null!=this.ifView?this.ifView:this.li.create():this.view=this.elseView=this.cache&&null!=this.elseView?this.elseView:this.elseFactory?.create(),null!=n&&(n.setLocation(this.l),this.pending=st(n.activate(t,s,s.scope),(()=>{r()&&(this.pending=void 0)}))))}))}detaching(t,e){return this.ri=!0,st(this.pending,(()=>{this.ri=!1,this.pending=void 0,this.view?.deactivate(t,this.$controller)}))}valueChanged(t,e){if(!this.$controller.isActive)return;if((t=!!t)==(e=!!e))return;const n=this.view,s=this.$controller,i=this.oi++,r=()=>!this.ri&&this.oi===i+1;let o;return st(this.pending,(()=>this.pending=st(n?.deactivate(n,s),(()=>{if(r()&&(o=this.view=t?this.ifView=this.cache&&null!=this.ifView?this.ifView:this.li.create():this.elseView=this.cache&&null!=this.elseView?this.elseView:this.elseFactory?.create(),null!=o))return o.setLocation(this.l),st(o.activate(o,s,s.scope),(()=>{r()&&(this.pending=void 0)}))}))))}dispose(){this.ifView?.dispose(),this.elseView?.dispose(),this.ifView=this.elseView=this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}}la([Wa],Pd.prototype,"value",void 0),la([Wa({set:t=>""===t||!!t&&"false"!==t})],Pd.prototype,"cache",void 0),Dc("if")(Pd);class Md{constructor(){this.f=Tt(ml)}link(t,e,n,s){const i=t.children,r=i[i.length-1];if(r instanceof Pd)r.elseFactory=this.f;else{if(!(r.viewModel instanceof Pd))throw nc(810);r.viewModel.elseFactory=this.f}}}function Nd(t){t.dispose()}Dc({name:"else"})(Md);const jd=[18,17];class Ld{constructor(t,e,n,s,i){this.views=[],this.key=null,this.hi=new Map,this.ai=new Map,this.ui=void 0,this.fi=!1,this.di=!1,this.mi=null,this.gi=void 0,this.pi=!1;const r=t.props[0].props[0];if(void 0!==r){const{to:t,value:n,command:s}=r;if("key"!==t)throw nc(776,t);if(null===s)this.key=n;else{if("bind"!==s)throw nc(775,s);this.key=e.parse(n,16)}}this.l=n,this.vi=s,this.f=i}binding(t,e){const n=this.vi.bindings,s=n.length;let i,r,o=0;for(;s>o;++o)if(i=n[o],i.target===this&&"items"===i.targetProperty){r=this.forOf=i.ast,this.bi=i;let t=r.iterable;for(;null!=t&&jd.includes(t.$kind);)t=t.expression,this.fi=!0;this.mi=t;break}this.xi();const a=r.declaration;(this.pi=24===a.$kind||25===a.$kind)||(this.local=In(a,this.$controller.scope,i,null))}attaching(t,e){return this.wi(),this.yi(t)}detaching(t,e){return this.xi(),this.ki(t)}unbinding(t,e){this.ai.clear(),this.hi.clear()}itemsChanged(){this.$controller.isActive&&(this.xi(),this.wi(),this.Ci(this.items,void 0))}handleCollectionChange(t,e){const n=this.$controller;if(n.isActive){if(this.fi){if(this.di)return;return this.di=!0,this.items=In(this.forOf.iterable,n.scope,this.bi,null),void(this.di=!1)}this.wi(),this.Ci(t,e)}}Ci(t,e){const n=this.views,s=n.length,i=this.key,r=null!==i;if(r||void 0===e){const t=this.local,o=this.gi,a=o.length,c=this.forOf,h=c.declaration,l=this.bi,u=this.pi;e=Fn(a);let f=0;if(0===s)for(;f<a;++f)e[f]=-2;else if(0===a)if(u)for(f=0;f<s;++f)e.deletedIndices.push(f),e.deletedItems.push(In(h,n[f].scope,l,null));else for(f=0;f<s;++f)e.deletedIndices.push(f),e.deletedItems.push(n[f].scope.bindingContext[t]);else{const d=Array(s);if(u)for(f=0;f<s;++f)d[f]=In(h,n[f].scope,l,null);else for(f=0;f<s;++f)d[f]=n[f].scope.bindingContext[t];let p,g,m,v,b=0;const w=s-1,y=a-1,k=new Map,C=new Map,S=this.hi,A=this.ai,x=this.$controller.scope;f=0;t:{for(;;){if(r?(p=d[f],g=o[f],m=Gd(S,i,p,Qd(A,p,c,x,l,t,u),l),v=Gd(S,i,g,Qd(A,g,c,x,l,t,u),l)):(p=m=Xd(d[f],f),g=v=Xd(o[f],f)),m!==v){S.set(p,m),S.set(g,v);break}if(++f,f>w||f>y)break t}if(w===y)for(b=y;;){if(r?(p=d[b],g=o[b],m=Gd(S,i,p,Qd(A,p,c,x,l,t,u),l),v=Gd(S,i,g,Qd(A,g,c,x,l,t,u),l)):(p=m=Xd(d[f],f),g=v=Xd(o[f],f)),m!==v){S.set(p,m),S.set(g,v);break}if(--b,f>b)break t}}const $=f,T=f;for(f=T;f<=y;++f)S.has(g=r?o[f]:Xd(o[f],f))?v=S.get(g):(v=r?Gd(S,i,g,Qd(A,g,c,x,l,t,u),l):g,S.set(g,v)),C.set(v,f);for(f=$;f<=w;++f)m=S.has(p=r?d[f]:Xd(d[f],f))?S.get(p):r?Gd(S,i,p,n[f].scope,l):p,k.set(m,f),C.has(m)?e[C.get(m)]=f:(e.deletedIndices.push(f),e.deletedItems.push(p));for(f=T;f<=y;++f)k.has(S.get(r?o[f]:Xd(o[f],f)))||(e[f]=-2);k.clear(),C.clear()}}if(void 0===e){const t=st(this.ki(null),(()=>this.yi(null)));Pa(t)&&t.catch(La)}else{const t=function(t){let e=0,n=0,s=0;const i=function(t){const e=t.slice();return e.deletedIndices=t.deletedIndices.slice(),e.deletedItems=t.deletedItems.slice(),e.isIndexMap=!0,e}(t);i.deletedIndices.length>1&&i.deletedIndices.sort(ws);const r=i.length;for(;s<r;++s){for(;i.deletedIndices[n]<=s-e;)++n,--e;-2===i[s]?++e:i[s]+=e}return i}(e);if(t.deletedIndices.length>0){const e=st(this.Ai(t),(()=>this.Bi(s,t)));Pa(e)&&e.catch(La)}else this.Bi(s,t)}}xi(){const t=this.$controller.scope;let e,n=this.Si,s=this.fi;s&&(n=this.Si=In(this.mi,t,this.bi,null)??null,s=this.fi=!Ba(this.items,n));const i=this.ui;this.$controller.isActive?(e=this.ui=(t=>{let e;return Le(t)?e=bs(t):Ue(t)?e=Hs(t):Be(t)&&(e=Ps(t)),e})(s?n:this.items),i!==e&&(i?.unsubscribe(this),e?.subscribe(this))):(i?.unsubscribe(this),this.ui=void 0)}wi(){const{items:t}=this;if(Ma(t))return void(this.gi=t);const e=[];qd(t,((t,n)=>{e[n]=t})),this.gi=e}yi(t){let e,n,s,i;const{$controller:r,f:o,local:a,l:c,items:h,ai:l,bi:u,forOf:f,pi:d}=this,p=r.scope,g=Wd(h),m=this.views=Array(g);if(qd(h,((h,v)=>{s=m[v]=o.create().setLocation(c),s.nodes.unlink(),i=Qd(l,h,f,p,u,a,d),Vd(i.overrideContext,v,g),n=s.activate(t??s,r,i),Pa(n)&&(e??(e=[])).push(n)})),void 0!==e)return 1===e.length?e[0]:Promise.all(e)}ki(t){let e,n,s,i=0;const{views:r,$controller:o}=this,a=r.length;for(;a>i;++i)s=r[i],s.release(),n=s.deactivate(t??s,o),Pa(n)&&(e??(e=[])).push(n);if(void 0!==e)return 1===e.length?e[0]:Promise.all(e)}Ai(t){let e,n,s;const{$controller:i,views:r}=this,o=t.deletedIndices,a=o.length;let c=0;for(;a>c;++c)s=r[o[c]],s.release(),n=s.deactivate(s,i),Pa(n)&&(e??(e=[])).push(n);c=0;let h=0;for(;a>c;++c)h=o[c]-c,r.splice(h,1);if(void 0!==e)return 1===e.length?e[0]:Promise.all(e)}Bi(t,e){let n,s,i,r,o=0;const{$controller:a,f:c,local:h,gi:l,l:u,views:f,pi:d,bi:p,ai:g,forOf:m}=this,v=e.length;for(;v>o;++o)-2===e[o]&&(i=c.create(),f.splice(o,0,i));if(f.length!==v)throw nc(814,[f.length,v]);const b=a.scope,w=e.length;!function(t,e){const n=t.slice(),s=e.length;let i=0,r=0;for(;i<s;)r=e[i],-2!==r&&(t[i]=n[r]),++i}(f,e);const y=function(t){const e=t.length;e>Bd&&(Bd=e,Ud=new Int32Array(e),Fd=new Int32Array(e));let n=0,s=0,i=0,r=0,o=0,a=0,c=0,h=0;for(;r<e;r++)if(s=t[r],-2!==s){if(o=Ud[n],i=t[o],-2!==i&&i<s){Fd[r]=o,Ud[++n]=r;continue}for(a=0,c=n;a<c;)h=a+c>>1,i=t[Ud[h]],-2!==i&&i<s?a=h+1:c=h;i=t[Ud[a]],(s<i||-2===i)&&(a>0&&(Fd[r]=Ud[a-1]),Ud[a]=r)}r=++n;const l=new Int32Array(r);for(s=Ud[n-1];n-- >0;)l[n]=s,s=Fd[s];for(;r-- >0;)Ud[r]=0;return l}(e),k=y.length,C=m.declaration;let S,A=k-1;for(o=w-1;o>=0;--o)i=f[o],S=f[o+1],i.nodes.link(S?.nodes??u),-2===e[o]?(r=Qd(g,l[o],m,b,p,h,d),Vd(r.overrideContext,o,w),i.setLocation(u),s=i.activate(i,a,r),Pa(s)&&(n??(n=[])).push(s)):A<0||1===k||o!==y[A]?(d?Rn(C,i.scope,p,l[o]):i.scope.bindingContext[h]=l[o],Vd(i.scope.overrideContext,o,w),i.nodes.insertBefore(i.location)):(d?Rn(C,i.scope,p,l[o]):i.scope.bindingContext[h]=l[o],t!==w&&Vd(i.scope.overrideContext,o,w),--A);if(void 0!==n)return 1===n.length?n[0]:Promise.all(n)}dispose(){this.views.forEach(Nd),this.views=void 0}accept(t){const{views:e}=this;if(void 0!==e)for(let n=0,s=e.length;n<s;++n)if(!0===e[n].accept(t))return!0}}Ld.inject=[Cl,si,Rc,Bu,ml],la([Wa],Ld.prototype,"items",void 0),Dc("repeat")(Ld);let Bd=16,Ud=new Int32Array(Bd),Fd=new Int32Array(Bd);const Vd=(t,e,n)=>{const s=0===e,i=e===n-1,r=e%2==0;t.$index=e,t.$first=s,t.$last=i,t.$middle=!s&&!i,t.$even=r,t.$odd=!r,t.$length=n},Dd=Sa.toString,Wd=t=>{switch(Dd.call(t)){case"[object Array]":return t.length;case"[object Map]":case"[object Set]":return t.size;case"[object Number]":return t;case"[object Null]":case"[object Undefined]":return 0;default:throw nc(778,t)}},qd=(t,e)=>{switch(Dd.call(t)){case"[object Array]":return _d(t,e);case"[object Map]":return Hd(t,e);case"[object Set]":return zd(t,e);case"[object Number]":return Kd(t,e);case"[object Null]":case"[object Undefined]":return;default:nc(777,t)}},_d=(t,e)=>{const n=t.length;let s=0;for(;s<n;++s)e(t[s],s,t)},Hd=(t,e)=>{let n,s=-0;for(n of t.entries())e(n,s++,t)},zd=(t,e)=>{let n,s=0;for(n of t.keys())e(n,s++,t)},Kd=(t,e)=>{let n=0;for(;n<t;++n)e(n,n,t)},Gd=(t,e,n,s,i)=>{let r=t.get(n);return void 0===r&&(r="string"==typeof e?n[e]:In(e,s,i,null),t.set(n,r)),r},Qd=(t,e,n,s,i,r,o)=>{let a=t.get(e);return void 0===a&&(o?Rn(n.declaration,a=xn.fromParent(s,new An),i,e):a=xn.fromParent(s,new An(r,e)),t.set(e,a)),a},Xd=(t,e)=>{const n=typeof t;switch(n){case"object":if(null!==t)return t;case"string":case"number":case"bigint":case"undefined":case"boolean":return`${e}${n}${t}`;default:return t}};class Zd{constructor(){this.view=Tt(ml).create().setLocation(Tt(Rc))}valueChanged(t,e){const n=this.$controller,s=this.view.bindings;let i,r=0,o=0;if(n.isActive&&null!=s)for(i=xn.fromParent(n.scope,void 0===t?{}:t),o=s.length;o>r;++r)s[r].bind(i)}attaching(t,e){const{$controller:n,value:s}=this,i=xn.fromParent(n.scope,void 0===s?{}:s);return this.view.activate(t,n,i)}detaching(t,e){return this.view.deactivate(t,this.$controller)}dispose(){this.view.dispose(),this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}}la([Wa],Zd.prototype,"value",void 0),Dc("with")(Zd);let Yd=class{constructor(){this.cases=[],this.activeCases=[],this.promise=void 0,this.f=Tt(ml),this.l=Tt(Rc)}link(t,e,n,s){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e){const n=this.view,s=this.$controller;return this.queue((()=>n.activate(t,s,s.scope))),this.queue((()=>this.swap(t,this.value))),this.promise}detaching(t,e){return this.queue((()=>this.view.deactivate(t,this.$controller))),this.promise}dispose(){this.view?.dispose(),this.view=void 0}valueChanged(t,e){this.$controller.isActive&&this.queue((()=>this.swap(null,this.value)))}caseChanged(t){this.queue((()=>this._i(t)))}_i(t){const e=t.isMatch(this.value),n=this.activeCases,s=n.length;if(!e)return s>0&&n[0].id===t.id?this.Ri(null):void 0;if(s>0&&n[0].id<t.id)return;const i=[];let r=t.fallThrough;if(r){const e=this.cases,n=e.indexOf(t);for(let t=n,s=e.length;t<s&&r;t++){const n=e[t];i.push(n),r=n.fallThrough}}else i.push(t);return st(this.Ri(null,i),(()=>(this.activeCases=i,this.Ti(null))))}swap(t,e){const n=[];let s=!1;for(const t of this.cases)if((s||t.isMatch(e))&&(n.push(t),s=t.fallThrough),n.length>0&&!s)break;const i=this.defaultCase;return 0===n.length&&void 0!==i&&n.push(i),st(this.activeCases.length>0?this.Ri(t,n):void 0,(()=>{if(this.activeCases=n,0!==n.length)return this.Ti(t)}))}Ti(t){const e=this.$controller;if(!e.isActive)return;const n=this.activeCases,s=n.length;if(0===s)return;const i=e.scope;return 1===s?n[0].activate(t,i):it(...n.map((e=>e.activate(t,i))))}Ri(t,e=[]){const n=this.activeCases,s=n.length;if(0!==s){if(1===s){const s=n[0];return e.includes(s)?void 0:(n.length=0,s.deactivate(t))}return st(it(...n.reduce(((n,s)=>(e.includes(s)||n.push(s.deactivate(t)),n)),[])),(()=>{n.length=0}))}}queue(t){const e=this.promise;let n;n=this.promise=st(st(e,t),(()=>{this.promise===n&&(this.promise=void 0)}))}accept(t){return!0===this.$controller.accept(t)||!!this.activeCases.some((e=>e.accept(t)))||void 0}};la([Wa],Yd.prototype,"value",void 0),Yd=la([Dc("switch")],Yd);let Jd=0,tp=class{constructor(){this.id=++Jd,this.fallThrough=!1,this.view=void 0,this.f=Tt(ml),this.Ze=Tt(Po),this.l=Tt(Rc),this.Ii=Tt(ve).scopeTo(`${this.constructor.name}-#${this.id}`)}link(t,e,n,s){const i=t.parent,r=i?.viewModel;if(!(r instanceof Yd))throw nc(815);this.$switch=r,this.linkToSwitch(r)}detaching(t,e){return this.deactivate(t)}isMatch(t){this.Ii.debug("isMatch()");const e=this.value;return Ma(e)?(void 0===this.ui&&(this.ui=this.Ei(e)),e.includes(t)):e===t}valueChanged(t,e){Ma(t)?(this.ui?.unsubscribe(this),this.ui=this.Ei(t)):void 0!==this.ui&&this.ui.unsubscribe(this),this.$switch.caseChanged(this)}handleCollectionChange(){this.$switch.caseChanged(this)}activate(t,e){let n=this.view;if(void 0===n&&(n=this.view=this.f.create().setLocation(this.l)),!n.isActive)return n.activate(t??n,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(t??e,this.$controller)}dispose(){this.ui?.unsubscribe(this),this.view?.dispose(),this.view=void 0}linkToSwitch(t){t.cases.push(this)}Ei(t){const e=this.Ze.getArrayObserver(t);return e.subscribe(this),e}accept(t){return!0===this.$controller.accept(t)||this.view?.accept(t)}};la([Wa],tp.prototype,"value",void 0),la([Wa({set:t=>{switch(t){case"true":return!0;case"false":return!1;default:return!!t}},mode:1})],tp.prototype,"fallThrough",void 0),tp=la([Dc("case")],tp);let ep=class extends tp{linkToSwitch(t){if(void 0!==t.defaultCase)throw nc(816);t.defaultCase=this}};ep=la([Dc("default-case")],ep);let np=class{constructor(){this.preSettledTask=null,this.postSettledTask=null,this.f=Tt(ml),this.l=Tt(Rc),this.p=Tt(Sc),this.logger=Tt(ve).scopeTo("promise.resolve")}link(t,e,n,s){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e){const n=this.view,s=this.$controller;return st(n.activate(t,s,this.viewScope=xn.fromParent(s.scope,{})),(()=>this.swap(t)))}valueChanged(t,e){this.$controller.isActive&&this.swap(null)}swap(t){const e=this.value;if(!Pa(e))return;const n=this.p.domWriteQueue,s=this.fulfilled,i=this.rejected,r=this.pending,o=this.viewScope;let a;const c={reusable:!1},h=()=>{it(a=(this.preSettledTask=n.queueTask((()=>it(s?.deactivate(t),i?.deactivate(t),r?.activate(t,o))),c)).result.catch((t=>{if(!(t instanceof Ho))throw t})),e.then((h=>{if(this.value!==e)return;const l=()=>{this.postSettlePromise=(this.postSettledTask=n.queueTask((()=>it(r?.deactivate(t),i?.deactivate(t),s?.activate(t,o,h))),c)).result};1===this.preSettledTask.status?a.then(l):(this.preSettledTask.cancel(),l())}),(h=>{if(this.value!==e)return;const l=()=>{this.postSettlePromise=(this.postSettledTask=n.queueTask((()=>it(r?.deactivate(t),s?.deactivate(t),i?.activate(t,o,h))),c)).result};1===this.preSettledTask.status?a.then(l):(this.preSettledTask.cancel(),l())})))};1===this.postSettledTask?.status?this.postSettlePromise.then(h):(this.postSettledTask?.cancel(),h())}detaching(t,e){return this.preSettledTask?.cancel(),this.postSettledTask?.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(t,this.$controller)}dispose(){this.view?.dispose(),this.view=void 0}};la([Wa],np.prototype,"value",void 0),np=la([Dc("promise")],np);let sp=class{constructor(){this.view=void 0,this.f=Tt(ml),this.l=Tt(Rc)}link(t,e,n,s){op(t).pending=this}activate(t,e){let n=this.view;if(void 0===n&&(n=this.view=this.f.create().setLocation(this.l)),!n.isActive)return n.activate(n,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(e,this.$controller)}detaching(t){return this.deactivate(t)}dispose(){this.view?.dispose(),this.view=void 0}};la([Wa({mode:2})],sp.prototype,"value",void 0),sp=la([Dc("pending")],sp);let ip=class{constructor(){this.view=void 0,this.f=Tt(ml),this.l=Tt(Rc)}link(t,e,n,s){op(t).fulfilled=this}activate(t,e,n){this.value=n;let s=this.view;if(void 0===s&&(s=this.view=this.f.create().setLocation(this.l)),!s.isActive)return s.activate(s,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(e,this.$controller)}detaching(t,e){return this.deactivate(t)}dispose(){this.view?.dispose(),this.view=void 0}};la([Wa({mode:4})],ip.prototype,"value",void 0),ip=la([Dc("then")],ip);let rp=class{constructor(){this.view=void 0,this.f=Tt(ml),this.l=Tt(Rc)}link(t,e,n,s){op(t).rejected=this}activate(t,e,n){this.value=n;let s=this.view;if(void 0===s&&(s=this.view=this.f.create().setLocation(this.l)),!s.isActive)return s.activate(s,this.$controller,e)}deactivate(t){const e=this.view;if(void 0!==e&&e.isActive)return e.deactivate(e,this.$controller)}detaching(t,e){return this.deactivate(t)}dispose(){this.view?.dispose(),this.view=void 0}};function op(t){const e=t.parent,n=e?.viewModel;if(n instanceof np)return n;throw nc(813)}la([Wa({mode:4})],rp.prototype,"value",void 0),rp=la([Dc("catch")],rp);let ap=class{"promise.resolve"(t,e,n){return new gf(t,e,"promise","bind")}};ap=la([wf({pattern:"promise.resolve",symbols:""})],ap);let cp=class{then(t,e,n){return new gf(t,e,"then","from-view")}};cp=la([wf({pattern:"then",symbols:""})],cp);let hp=class{catch(t,e,n){return new gf(t,e,"catch","from-view")}};hp=la([wf({pattern:"catch",symbols:""})],hp);class lp{constructor(){this.Pi=!1,this.Li=Tt(Tc),this.p=Tt(Sc)}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this.Di():this.Pi=!0}attached(){this.Pi&&(this.Pi=!1,this.Di()),this.Li.addEventListener("focus",this),this.Li.addEventListener("blur",this)}detaching(){const t=this.Li;t.removeEventListener("focus",this),t.removeEventListener("blur",this)}handleEvent(t){"focus"===t.type?this.value=!0:this.Mi||(this.value=!1)}Di(){const t=this.Li,e=this.Mi,n=this.value;n&&!e?t.focus():!n&&e&&t.blur()}get Mi(){return this.Li===this.p.document.activeElement}}lp.inject=[Tc,Sc],la([Wa({mode:6})],lp.prototype,"value",void 0),Vc("focus")(lp);class up{constructor(){this.position="beforeend",this.strict=!1;const t=Tt(ml),e=Tt(Rc),n=Tt(Sc);this.p=n,this.qi=n.document.createElement("div"),(this.view=t.create()).setLocation(this.Fi=(t=>{const e=od(t,"au-end");return e.$start=od(t,"au-start"),e})(n)),function(t,e){if(void 0===t.platform||t instanceof t.platform.Node)Ec.set(t,e);else{const n=t.childNodes;for(let t=0,s=n.length;t<s;++t)Ec.set(n[t],e)}}(this.view.nodes,e)}attaching(t){null==this.callbackContext&&(this.callbackContext=this.$controller.scope.bindingContext);const e=this.qi=this.Hi();return this.Oi(e,this.position),this.Vi(t,e)}detaching(t){return this.Ni(t,this.qi)}targetChanged(){const{$controller:t}=this;if(!t.isActive)return;const e=this.Hi();if(this.qi===e)return;this.qi=e;const n=st(this.Ni(null,e),(()=>(this.Oi(e,this.position),this.Vi(null,e))));Pa(n)&&n.catch(La)}positionChanged(){const{$controller:t,qi:e}=this;if(!t.isActive)return;const n=st(this.Ni(null,e),(()=>(this.Oi(e,this.position),this.Vi(null,e))));Pa(n)&&n.catch(La)}Vi(t,e){const{activating:n,callbackContext:s,view:i}=this;return st(n?.call(s,e,i),(()=>this.$i(t,e)))}$i(t,e){const{$controller:n,view:s}=this;return null!==t?st(s.activate(t??s,n,n.scope),(()=>this.Wi(e))):(s.nodes.insertBefore(this.Fi),this.Wi(e))}Wi(t){const{activated:e,callbackContext:n,view:s}=this;return e?.call(n,t,s)}Ni(t,e){const{deactivating:n,callbackContext:s,view:i}=this;return st(n?.call(s,e,i),(()=>this.ji(t,e)))}ji(t,e){const{$controller:n,view:s}=this;return null!==t?st(s.deactivate(t,n),(()=>this.zi(e))):(s.nodes.remove(),this.zi(e))}zi(t){const{deactivated:e,callbackContext:n,view:s}=this;return e?.call(n,t,s)}Hi(){const t=this.p,e=t.document;let n=this.target,s=this.renderContext;if(""===n){if(this.strict)throw nc(811);return e.body}if(ja(n)){let i=e;ja(s)&&(s=e.querySelector(s)),s instanceof t.Node&&(i=s),n=i.querySelector(n)}if(n instanceof t.Node)return n;if(null==n){if(this.strict)throw nc(812);return e.body}return n}Oi(t,e){const n=this.Fi,s=n.$start,i=t.parentNode,r=[s,n];switch(e){case"beforeend":cd(t,null,r);break;case"afterbegin":cd(t,t.firstChild,r);break;case"beforebegin":cd(i,t,r);break;case"afterend":cd(i,t.nextSibling,r);break;default:throw new Error("Invalid portal insertion position")}}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(t){if(!0===this.view?.accept(t))return!0}}la([Wa({primary:!0})],up.prototype,"target",void 0),la([Wa()],up.prototype,"position",void 0),la([Wa({callback:"targetChanged"})],up.prototype,"renderContext",void 0),la([Wa()],up.prototype,"strict",void 0),la([Wa()],up.prototype,"deactivating",void 0),la([Wa()],up.prototype,"activating",void 0),la([Wa()],up.prototype,"deactivated",void 0),la([Wa()],up.prototype,"activated",void 0),la([Wa()],up.prototype,"callbackContext",void 0),Dc("portal")(up);let fp=class{constructor(){this.Ui=null,this.Gi=null,this.Qt=!1,this.expose=null,this.slotchange=null,this.Xi=new Set,this.ui=null;const t=Tt(Rc),e=Tt(Cl),n=Tt(Uu),s=Tt(Cu),i=e.auSlot,r=n.instruction?.projections?.[i.name],o=n.controller;let a,c;this.name=i.name,null==r?(a=s.getViewFactory(i.fallback,o.container),this.Qi=!1):(c=n.parent.controller.container.createChild(),tc(c,o.definition.Type,new re(void 0,o.viewModel)),a=s.getViewFactory(r,c),this.Qi=!0,this.Ki=o.container.getAll(yl,!1)?.filter((t=>"*"===t.slotName||t.slotName===i.name))??oe),this.Yi=(this.Ki??(this.Ki=oe)).length>0,this.Zi=n,this.view=a.create().setLocation(this.l=t)}get nodes(){const t=[],e=this.l;let n=e.$start.nextSibling;for(;null!=n&&n!==e;)8!==n.nodeType&&t.push(n),n=n.nextSibling;return t}subscribe(t){this.Xi.add(t)}unsubscribe(t){this.Xi.delete(t)}binding(t,e){let n;this.Ui=this.$controller.scope.parent,this.Qi&&(n=this.Zi.controller.scope.parent,(this.Gi=xn.fromParent(n,n.bindingContext)).overrideContext.$host=this.expose??this.Ui.bindingContext)}attaching(t,e){return st(this.view.activate(t,this.$controller,this.Qi?this.Gi:this.Ui),(()=>{this.Yi&&(this.Ki.forEach((t=>t.watch(this))),this.ii(),this.Ji(),this.Qt=!0)}))}detaching(t,e){return this.Qt=!1,this.ts(),this.Ki.forEach((t=>t.unwatch(this))),this.view.deactivate(t,this.$controller)}exposeChanged(t){this.Qi&&null!=this.Gi&&(this.Gi.overrideContext.$host=t)}dispose(){this.view.dispose(),this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}ii(){if(null!=this.ui)return;const t=this.l,e=t.parentElement;null!=e&&(this.ui=ud(e,(e=>{pp(t,e)&&this.Ji()}))).observe(e,{childList:!0})}ts(){this.ui?.disconnect(),this.ui=null}Ji(){const t=this.nodes,e=new Set(this.Xi);let n;for(n of(this.Qt&&this.slotchange?.call(void 0,this.name,t),e))n.handleSlotChange(this,t)}};la([Wa],fp.prototype,"expose",void 0),la([Wa],fp.prototype,"slotchange",void 0),fp=la([Jc({name:"au-slot",template:null,containerless:!0})],fp);const dp=(t,e)=>t.compareDocumentPosition(e),pp=(t,e)=>{for(const{addedNodes:n,removedNodes:s,nextSibling:i}of e){let e,r=0,o=n.length;for(;r<o;++r)if(e=n[r],4===dp(t.$start,e)&&2===dp(t,e))return!0;if(s.length>0&&null!=i&&4===dp(t.$start,i)&&2===dp(t,i))return!0}};var gp;!function(t){t[t.Element=1]="Element",t[t.Attribute=2]="Attribute"}(gp||(gp={}));class mp{constructor(){this.scopeBehavior="auto",this.es=void 0,this.c=Tt(Kt),this.parent=Tt(Bu),this.host=Tt(Tc),this.l=Tt(Rc),this.p=Tt(Sc),this.r=Tt(Cu),this.ss=Tt(Cl),this.rs=Tt(function(t){return null==t?Zt:Zt(t)}(bp))}get pending(){return this.os}get composition(){return this.es}attaching(t,e){return this.os=st(this.queue(new wp(this.template,this.component,this.model,void 0),t),(t=>{this.rs.isCurrent(t)&&(this.os=void 0)}))}detaching(t){const e=this.es,n=this.os;return this.rs.invalidate(),this.es=this.os=void 0,st(n,(()=>e?.deactivate(t)))}propertyChanged(t){"model"!==t||null==this.es?this.os=st(this.os,(()=>st(this.queue(new wp(this.template,this.component,this.model,t),void 0),(t=>{this.rs.isCurrent(t)&&(this.os=void 0)})))):this.es.update(this.model)}queue(t,e){const n=this.rs,s=this.es;return st(n.create(t),(t=>n.isCurrent(t)?st(this.compose(t),(i=>n.isCurrent(t)?st(i.activate(e),(()=>n.isCurrent(t)?(this.es=i,st(s?.deactivate(e),(()=>t))):st(i.controller.deactivate(i.controller,this.$controller),(()=>(i.controller.dispose(),t))))):(i.controller.dispose(),t))):t))}compose(t){let e,n,s;const{ls:i,cs:r,us:o}=t.change,{c:a,host:c,$controller:h,l}=this,u=this.getDef(r),f=a.createChild(),d=null==l?c.parentNode:l.parentNode;if(null!==u){if(u.containerless)throw nc(806,u);null==l?(n=c,s=()=>{}):(n=d.insertBefore(this.p.document.createElement(u.name),l),s=()=>{n.remove()}),e=this.ds(f,r,n)}else n=null==l?c:l,e=this.ds(f,r,n);const p=()=>{if(null!==u){const i=Iu.$el(f,e,n,{projections:this.ss.projections},u);return new Cp(i,(t=>i.activate(t??i,h,h.scope.parent)),(t=>st(i.deactivate(t??i,h),s)),(t=>e.activate?.(t)),t)}{const s=eh.create({name:vh.generateName(),template:i}),r=this.r.getViewFactory(s,f),o=Iu.$view(r,h),a="auto"===this.scopeBehavior?xn.fromParent(this.parent.scope,e):xn.create(e);return Nc(n)?o.setLocation(n):o.setHost(n),new Cp(o,(t=>o.activate(t??o,h,a)),(t=>o.deactivate(t??o,h)),(t=>e.activate?.(t)),t)}};return"activate"in e?st(e.activate(o),(()=>p())):p()}ds(t,e,n){if(null==e)return new vp;if("object"==typeof e)return e;const s=this.p,i=Nc(n);Fc(t,s,i?null:n),tc(t,Rc,new re("IRenderLocation",i?n:null));const r=t.invoke(e);return tc(t,e,new re("au-compose.component",r)),r}getDef(t){const e=Na(t)?t:t?.constructor;return vh.isType(e)?vh.getDefinition(e):null}}la([Wa],mp.prototype,"template",void 0),la([Wa],mp.prototype,"component",void 0),la([Wa],mp.prototype,"model",void 0),la([Wa({set:t=>{if("scoped"===t||"auto"===t)return t;throw nc(805,t)}})],mp.prototype,"scopeBehavior",void 0),Jc("au-compose")(mp);class vp{}class bp{constructor(){this.id=0}isCurrent(t){return t.id===this.id}create(t){return st(t.load(),(t=>new kp(++this.id,t)))}invalidate(){this.id++}}class wp{constructor(t,e,n,s){this.ls=t,this.cs=e,this.us=n,this.gs=s}load(){return Pa(this.ls)||Pa(this.cs)?Promise.all([this.ls,this.cs]).then((([t,e])=>new yp(t,e,this.us,this.gs))):new yp(this.ls,this.cs,this.us,this.gs)}}class yp{constructor(t,e,n,s){this.ls=t,this.cs=e,this.us=n,this.gs=s}}class kp{constructor(t,e){this.id=t,this.change=e}}class Cp{constructor(t,e,n,s,i){this.controller=t,this.start=e,this.stop=n,this.update=s,this.context=i,this.state=0}activate(t){if(0!==this.state)throw nc(807,this);return this.state=1,this.start(t)}deactivate(t){switch(this.state){case 1:return this.state=-1,this.stop(t);case-1:throw nc(808);default:this.state=-1}}}const Sp=Qa("ISanitizer",(t=>t.singleton(class{sanitize(){throw nc(99,"sanitize")}})));class Ap{constructor(){this.ps=Tt(Sp)}toView(t){return null==t?null:this.ps.sanitize(t)}}Th("sanitize")(Ap);const xp=Qa("ITemplateElementFactory",(t=>t.singleton(Tp))),$p={};class Tp{constructor(){this.p=Tt(Sc),this.ls=this.t()}t(){return this.p.document.createElement("template")}createTemplate(t){if(ja(t)){let e=$p[t];if(void 0===e){const n=this.ls;n.innerHTML=t;const s=n.content.firstElementChild;null==s||"TEMPLATE"!==s.nodeName||null!=s.nextElementSibling?(this.ls=this.t(),e=n):(n.content.removeChild(s),e=s),$p[t]=e}return e.cloneNode(!0)}if("TEMPLATE"!==t.nodeName){const e=this.t();return e.content.appendChild(t),e}return t.parentNode?.removeChild(t),t.cloneNode(!0)}}const Ip="TEMPLATE",Rp="au-start",Op="au-end",Ep=t=>"au*"===t.nodeValue;class Pp{constructor(t,e,n,s,i,r){this.hasSlot=!1,this.qs=Aa();const o=null!==s;this.c=e,this.root=null===i?this:i,this.def=t,this.ci=n,this.parent=s,this.vs=o?s.vs:e.get(xp),this.Pe=o?s.Pe:e.get(vf),this.ep=o?s.ep:e.get(si),this.m=o?s.m:e.get(Yf),this.Ii=o?s.Ii:e.get(ve),this.p=o?s.p:e.get(Sc),this.localEls=o?s.localEls:new Set,this.rows=r??[]}Ms(t){var e;((e=this.root).deps??(e.deps=[])).push(t),this.root.c.register(t)}Ds(t){return((t,e)=>t.document.createTextNode(e))(this.p,t)}Ps(t){return od(this.p,t)}wt(){return this.Ps("au*")}h(t){const e=((t,e)=>t.document.createElement(e))(this.p,t);return"template"===t&&this.p.document.adoptNode(e.content),e}t(){return this.h("template")}ys(t){return this.c.find(vh,t)}Cs(t){return this.c.find(Qc,t)}Es(t){return new Pp(this.def,this.c,this.ci,this,this.root,t)}ks(t){if(this.root!==this)return this.root.ks(t);const e=t.command;if(null===e)return null;let n=this.qs[e];if(void 0===n){if(n=this.c.create(Lf,e),null===n)throw nc(713,e);this.qs[e]=n}return n}}const Mp=t=>{const e=t.length;let n=0,s=0;for(;e>s;){if(n=t.charCodeAt(s),92===n)++s;else{if(58===n)return!0;if(36===n&&123===t.charCodeAt(s+1))return!1}++s}return!1},Np=()=>{Bp.node=Bp.attr=Bp.bindable=Bp.def=null},jp={projections:null},Lp={name:"unnamed"},Bp={node:null,attr:null,bindable:null,def:null},Up=Ta(Aa(),{id:!0,name:!0,"au-slot":!0,"as-element":!0}),Fp={checkbox:1,radio:1},Vp=new WeakMap;class Dp{static from(t,e){let n=Vp.get(t);if(null==n){const s=t.bindables,i=Aa(),r=e?void 0===t.defaultBindingMode?8:t.defaultBindingMode:8;let o,a,c,h,l=!1;for(a in s){if(o=s[a],h=o.attribute,!0===o.primary){if(l)throw nc(714,t);l=!0,c=o}else l||null!=c||(c=o);i[h]=za.create(a,t.Type,o)}null==o&&e&&(c=i.value=za.create("value",t.Type,{mode:r})),Vp.set(t,n=new Dp(i,s,c))}return n}constructor(t,e,n){this.attrs=t,this.bindables=e,this.primary=n}}const Wp=$a(["property","attribute","mode"]),qp="as-custom-element",_p=(t,e,n)=>{const s=e.getAttribute(qp);if(null===s||""===s)throw nc(715,t);if(n.has(s))throw nc(716,s,t);return n.add(s),e.removeAttribute(qp),s},Hp=t=>{switch(t.getAttribute("mode")){case"oneTime":return 1;case"toView":return 2;case"fromView":return 4;case"twoWay":return 6;default:return 8}},zp=Qa("ITemplateCompilerHooks"),Kp=new WeakMap,Gp=va("compiler-hooks");$a({name:Gp,define(t){let e=Kp.get(t);return void 0===e&&(Kp.set(t,e=new Qp(t)),da(Gp,e,t),ba(t,Gp)),t}});class Qp{get name(){return""}constructor(t){this.Type=t}register(t){t.register(Xa(zp,this.Type))}}const Xp="default",Zp="au-slot";class Yp{constructor(){this.el=Tt(Tc),this.p=Tt(Sc),this.Fs=!1,this.U=null,this.$val="",this.$prio="",this.update=()=>{this.U=null,Boolean(this.value)!==this.Hs&&(this.Hs===this.Os?(this.Hs=!this.Os,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this.Hs=this.Os,this.el.style.setProperty("display",this.$val,this.$prio),""===this.el.getAttribute("style")&&this.el.removeAttribute("style")))};const t=Tt(Cl);this.Hs=this.Os="hide"!==t.alias}binding(){this.Fs=!0,this.update()}detaching(){this.Fs=!1,this.U?.cancel(),this.U=null}valueChanged(){this.Fs&&null===this.U&&(this.U=this.p.domWriteQueue.queueTask(this.update))}}la([Wa],Yp.prototype,"value",void 0),function(...t){return function(e){const n=ma("aliases"),s=ua(n,e);void 0===s?da(n,t,e):s.push(...t)}}("hide")(Yp),Vc("show")(Yp);const Jp=[class{constructor(){this.debug=!1,this.resolveResources=!0}static register(t){t.register(Xa(this,this),Za(this,Wl))}compile(t,e,n){const s=eh.getOrCreate(t);if(null===s.template||void 0===s.template)return s;if(!1===s.needsCompile)return s;n??(n=jp);const i=new Pp(t,e,n,null,null,void 0),r=ja(s.template)||!t.enhance?i.vs.createTemplate(s.template):s.template,o=r.nodeName===Ip&&null!=r.content,a=o?r.content:r,c=e.get((t=>{function e(t,n,s){zt.inject(e)(t,n,s)}return e.$isResolver=!0,e.resolve=function(e,n){return n.root===n?n.getAll(t,!1):n.has(t,!1)?n.getAll(t,!1).concat(n.root.getAll(t,!1)):n.root.getAll(t,!1)},e})(zp)),h=c.length;let l=0;if(h>0)for(;h>l;)c[l].compiling?.(r),++l;if(r.hasAttribute(qp))throw nc(701,s);return this.bs(a,i),this.xs(a,i),eh.create({...t,name:t.name||lh(),dependencies:(t.dependencies??oe).concat(i.deps??oe),instructions:i.rows,surrogates:o?this.ws(r,i):oe,template:r,hasSlots:i.hasSlot,needsCompile:!1})}compileSpread(t,e,n,s){const i=new Pp(t,n,jp,null,null,void 0),r=[],o=i.ys(s.nodeName.toLowerCase()),a=null!==o,c=i.ep,h=e.length;let l,u,f,d,p,g,m,v,b,w,y=0,k=null,C=null;for(;h>y;++y)if(l=e[y],b=l.target,w=l.rawValue,C=i.ks(l),null!==C&&(1&C.type)>0)Bp.node=s,Bp.attr=l,Bp.bindable=null,Bp.def=null,r.push(C.build(Bp,i.ep,i.m));else if(k=i.Cs(b),null===k)if(null===C){if(m=c.parse(w,1),a&&(d=Dp.from(o,!1),p=d.attrs[b],void 0!==p)){m=c.parse(w,1),r.push(new Dl(null==m?new Tl(w,p.property):new Sl(m,p.property)));continue}if(null!=m)r.push(new Sl(m,i.m.map(s,b)??K(b)));else switch(b){case"class":r.push(new Bl(w));break;case"style":r.push(new Ul(w));break;default:r.push(new Ll(w,b))}}else{if(a&&(d=Dp.from(o,!1),p=d.attrs[b],void 0!==p)){Bp.node=s,Bp.attr=l,Bp.bindable=p,Bp.def=o,r.push(new Dl(C.build(Bp,i.ep,i.m)));continue}Bp.node=s,Bp.attr=l,Bp.bindable=null,Bp.def=null,r.push(C.build(Bp,i.ep,i.m))}else{if(k.isTemplateController)throw nc(9998,b);d=Dp.from(k,!0),v=!1===k.noMultiBindings&&null===C&&Mp(w),v?f=this.As(s,w,k,i):(g=d.primary,null===C?(m=c.parse(w,1),f=[null===m?new Tl(w,g.property):new Sl(m,g.property)]):(Bp.node=s,Bp.attr=l,Bp.bindable=g,Bp.def=k,f=[C.build(Bp,i.ep,i.m)])),(u??(u=[])).push(new Ol(this.resolveResources?k:k.name,null!=k.aliases&&k.aliases.includes(b)?b:void 0,f))}return Np(),null!=u?u.concat(r):r}ws(t,e){const n=[],s=t.attributes,i=e.ep;let r,o,a,c,h,l,u,f,d,p,g,m,v=s.length,b=0,w=null,y=null;for(;v>b;++b){if(r=s[b],o=r.name,a=r.value,c=e.Pe.parse(o,a),g=c.target,m=c.rawValue,Up[g])throw nc(702,o);if(y=e.ks(c),null!==y&&(1&y.type)>0)Bp.node=t,Bp.attr=c,Bp.bindable=null,Bp.def=null,n.push(y.build(Bp,e.ep,e.m));else if(w=e.Cs(g),null===w)if(null===y)if(d=i.parse(m,1),null!=d)t.removeAttribute(o),--b,--v,n.push(new Sl(d,e.m.map(t,g)??K(g)));else switch(o){case"class":n.push(new Bl(m));break;case"style":n.push(new Ul(m));break;default:n.push(new Ll(m,o))}else Bp.node=t,Bp.attr=c,Bp.bindable=null,Bp.def=null,n.push(y.build(Bp,e.ep,e.m));else{if(w.isTemplateController)throw nc(703,g);u=Dp.from(w,!0),p=!1===w.noMultiBindings&&null===y&&Mp(m),p?l=this.As(t,m,w,e):(f=u.primary,null===y?(d=i.parse(m,1),l=[null===d?new Tl(m,f.property):new Sl(d,f.property)]):(Bp.node=t,Bp.attr=c,Bp.bindable=f,Bp.def=w,l=[y.build(Bp,e.ep,e.m)])),t.removeAttribute(o),--b,--v,(h??(h=[])).push(new Ol(this.resolveResources?w:w.name,null!=w.aliases&&w.aliases.includes(g)?g:void 0,l))}}return Np(),null!=h?h.concat(n):n}xs(t,e){switch(t.nodeType){case 1:return"LET"===t.nodeName?this.Bs(t,e):this.Ss(t,e);case 3:return this._s(t,e);case 11:{let n=t.firstChild;for(;null!==n;)n=this.xs(n,e);break}}return t.nextSibling}Bs(t,e){const n=t.attributes,s=n.length,i=[],r=e.ep;let o,a,c,h,l,u,f,d,p=!1,g=0;for(;s>g;++g)if(o=n[g],c=o.name,h=o.value,"to-binding-context"!==c)if(a=e.Pe.parse(c,h),u=a.target,f=a.rawValue,l=e.ks(a),null===l)d=r.parse(f,1),i.push(new Ml(null===d?new ln(f):d,K(u)));else{if("bind"!==a.command)throw nc(704,a);i.push(new Ml(r.parse(f,16),K(u)))}else p=!0;return e.rows.push([new Pl(i,p)]),this.Rs(t,e).nextSibling}Ss(t,e){var n,s,i,r;const o=t.nextSibling,a=(t.getAttribute("as-element")??t.nodeName).toLowerCase(),c=e.ys(a),h=null!==c,l=h&&null!=c.shadowOptions,u=c?.capture,f=null!=u&&"boolean"!=typeof u,d=u?[]:oe,p=e.ep,g=this.debug?ce:()=>{t.removeAttribute(b),--B,--L};let m,v,b,w,y,k,C,S,A,x,$,T,I,R,O,E,P,M,N,j=t.attributes,L=j.length,B=0,U=null,F=!1,V=null,D=!0,W=!1,q=!1,_=!1;if("slot"===a){if(null==e.root.def.shadowOptions)throw nc(717,e.root.def.name);e.root.hasSlot=!0}for(h&&(D=c.processContent?.call(c.Type,t,e.p),j=t.attributes,L=j.length);L>B;++B){switch(v=j[B],b=v.name,w=v.value,b){case"as-element":case"containerless":g(),W||(W="containerless"===b);continue}if(y=e.Pe.parse(b,w),V=e.ks(y),P=y.target,M=y.rawValue,u&&(!f||f&&u(P))){if(null!=V&&1&V.type){g(),d.push(y);continue}if(q=P!==Zp&&"slot"!==P,q&&(O=Dp.from(c,!1),null==O.attrs[P]&&!e.Cs(P)?.isTemplateController)){g(),d.push(y);continue}}if(null!==V&&1&V.type)Bp.node=t,Bp.attr=y,Bp.bindable=null,Bp.def=null,(k??(k=[])).push(V.build(Bp,e.ep,e.m)),g();else if(U=e.Cs(P),null===U)if(null!==V)g(),h&&(O=Dp.from(c,!1),S=O.attrs[P],void 0!==S)?(Bp.node=t,Bp.attr=y,Bp.bindable=S,Bp.def=c,(C??(C=[])).push(V.build(Bp,e.ep,e.m))):(Bp.node=t,Bp.attr=y,Bp.bindable=null,Bp.def=null,(k??(k=[])).push(V.build(Bp,e.ep,e.m)));else{if(h&&(O=Dp.from(c,!1),S=O.attrs[P],void 0!==S)){I=p.parse(M,1),(C??(C=[])).push(null==I?new Tl(M,S.property):new Sl(I,S.property)),g();continue}I=p.parse(M,1),null!=I&&(g(),(k??(k=[])).push(new Sl(I,e.m.map(t,P)??K(P))))}else O=Dp.from(U,!0),F=!1===U.noMultiBindings&&null===V&&Mp(M),F?x=this.As(t,M,U,e):(E=O.primary,null===V?(I=p.parse(M,1),x=[null===I?new Tl(M,E.property):new Sl(I,E.property)]):(Bp.node=t,Bp.attr=y,Bp.bindable=E,Bp.def=U,x=[V.build(Bp,e.ep,e.m)])),g(),U.isTemplateController?($??($=[])).push(new El(Lp,this.resolveResources?U:U.name,void 0,x)):(A??(A=[])).push(new Ol(this.resolveResources?U:U.name,null!=U.aliases&&U.aliases.includes(P)?P:void 0,x))}if(Np(),this.Ts(t,k)&&null!=k&&k.length>1&&this.Is(t,k),h&&(R=new Rl(this.resolveResources?c:c.name,void 0,C??oe,null,W,d),a===Zp)){const n=t.getAttribute("name")||Xp,s=e.t(),i=e.Es();let r=t.firstChild,o=0;for(;null!==r;)1===r.nodeType&&r.hasAttribute(Zp)?t.removeChild(r):(hd(s,r),o++),r=t.firstChild;o>0&&this.xs(s.content,i),R.auSlot={name:n,fallback:eh.create({name:lh(),template:s,instructions:i.rows,needsCompile:!1})}}if(null==k&&null==R&&null==A||(m=oe.concat(R??oe,A??oe,k??oe),_=!0),null!=$){let i;L=$.length-1,B=L,T=$[B],Ep(t)?(i=e.t(),ld(i,[e.wt(),e.Ps(Rp),e.Ps(Op)])):(this.Ls(t,e),"TEMPLATE"===t.nodeName?i=t:(i=e.t(),hd(i,t)));const r=i,o=e.Es(null==m?[]:[m]);let u,f,d,p,g,v,b,w,y=0,k=0,C=t.firstChild,S=!1;if(!1!==D)for(;null!==C;)if(f=1===C.nodeType?C.getAttribute(Zp):null,null!==f&&C.removeAttribute(Zp),h)u=C.nextSibling,l||(S=3===C.nodeType&&""===C.textContent.trim(),S||((n=p??(p={}))[s=f||Xp]??(n[s]=[])).push(C),t.removeChild(C)),C=u;else{if(null!==f)throw f=f||Xp,nc(706,f,a);C=C.nextSibling}if(null!=p){for(f in d={},p){for(i=e.t(),g=p[f],y=0,k=g.length;k>y;++y)v=g[y],"TEMPLATE"===v.nodeName?v.attributes.length>0?hd(i,v):hd(i,v.content):hd(i,v);w=e.Es(),this.xs(i.content,w),d[f]=eh.create({name:lh(),template:i,instructions:w.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding})}R.projections=d}if(_&&(h&&(W||c.containerless)?this.Ls(t,e):this.Rs(t,e)),N=!h||!c.containerless&&!W&&!1!==D,N)if(t.nodeName===Ip)this.xs(t.content,o);else for(C=t.firstChild;null!==C;)C=this.xs(C,o);for(T.def=eh.create({name:lh(),template:r,instructions:o.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding});B-- >0;)T=$[B],i=e.t(),b=e.wt(),ld(i,[b,e.Ps(Rp),e.Ps(Op)]),T.def=eh.create({name:lh(),template:i,needsCompile:!1,instructions:[[$[B+1]]],isStrictBinding:e.root.def.isStrictBinding});e.rows.push([T])}else{null!=m&&e.rows.push(m);let n,s,o,u,f,d,p,g=t.firstChild,v=null,b=!1,w=0,y=0;if(!1!==D)for(;null!==g;)if(s=1===g.nodeType?g.getAttribute(Zp):null,null!==s&&g.removeAttribute(Zp),h)n=g.nextSibling,l||(b=3===g.nodeType&&""===g.textContent.trim(),b||((i=o??(o={}))[r=s||Xp]??(i[r]=[])).push(g),t.removeChild(g)),g=n;else{if(null!==s)throw s=s||Xp,nc(706,s,a);g=g.nextSibling}if(null!=o){for(s in v={},o){for(d=e.t(),u=o[s],w=0,y=u.length;y>w;++w)f=u[w],f.nodeName===Ip?f.attributes.length>0?hd(d,f):hd(d,f.content):hd(d,f);p=e.Es(),this.xs(d.content,p),v[s]=eh.create({name:lh(),template:d,instructions:p.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding})}R.projections=v}if(_&&(h&&(W||c.containerless)?this.Ls(t,e):this.Rs(t,e)),N=!h||!c.containerless&&!W&&!1!==D,N&&t.childNodes.length>0)for(g=t.firstChild;null!==g;)g=this.xs(g,e)}return o}_s(t,e){const n=t.parentNode,s=e.ep.parse(t.textContent,1),i=t.nextSibling;let r,o,a,c,h;if(null!==s){for(({parts:r,expressions:o}=s),(h=r[0])&&ad(n,e.Ds(h),t),a=0,c=o.length;c>a;++a)cd(n,t,[e.wt(),e.Ds(" ")]),(h=r[a+1])&&ad(n,e.Ds(h),t),e.rows.push([new Nl(o[a],e.root.def.isStrictBinding)]);n.removeChild(t)}return i}As(t,e,n,s){const i=Dp.from(n,!0),r=e.length,o=[];let a,c,h,l,u,f,d=0,p=0;for(let g=0;g<r;++g)if(p=e.charCodeAt(g),92===p)++g;else if(58===p){for(a=e.slice(d,g);e.charCodeAt(++g)<=32;);for(d=g;g<r;++g)if(p=e.charCodeAt(g),92===p)++g;else if(59===p){c=e.slice(d,g);break}if(void 0===c&&(c=e.slice(d)),l=s.Pe.parse(a,c),u=s.ks(l),f=i.attrs[l.target],null==f)throw nc(707,l.target,n.name);for(null===u?(h=s.ep.parse(c,1),o.push(null===h?new Tl(c,f.property):new Sl(h,f.property))):(Bp.node=t,Bp.attr=l,Bp.bindable=f,Bp.def=n,o.push(u.build(Bp,s.ep,s.m)));g<r&&e.charCodeAt(++g)<=32;);d=g,a=void 0,c=void 0}return Np(),o}bs(t,e){const n=e.root.def.name,s=t,i=X(s.querySelectorAll("template[as-custom-element]")),r=i.length;if(0===r)return;if(r===s.childElementCount)throw nc(708,n);const o=new Set,a=[];for(const t of i){if(t.parentNode!==s)throw nc(709,n);const i=_p(n,t,o),r=t.content,c=X(r.querySelectorAll("bindable")),h=new Set,l=new Set,u=c.reduce(((t,e)=>{if(e.parentNode!==r)throw nc(710,i);const n=e.getAttribute("property");if(null===n)throw nc(711,e,i);const s=e.getAttribute("attribute");if(null!==s&&l.has(s)||h.has(n))throw nc(712,h,s);null!==s&&l.add(s),h.add(n);const o=X(e.attributes).filter((t=>!Wp.includes(t.name)));return o.length,e.remove(),t[n]={attribute:s??void 0,mode:Hp(e)},t}),{});class f{}Ua(f,"name",{value:i}),a.push(f),e.Ms(uh({name:i,template:t,bindables:u},f)),s.removeChild(t)}const c=[...e.def.dependencies??oe,...a];for(const t of a)gh(t).dependencies.push(c.filter((e=>e!==t)))}Ts(t,e){const n=t.nodeName;return"INPUT"===n&&1===Fp[t.type]||"SELECT"===n&&(t.hasAttribute("multiple")||e?.some((t=>"rg"===t.type&&"multiple"===t.to)))}Is(t,e){switch(t.nodeName){case"INPUT":{const t=e;let n,s,i,r=0;for(let e=0;e<t.length&&r<3;e++)switch(i=t[e],i.to){case"model":case"value":case"matcher":n=e,r++;break;case"checked":s=e,r++}void 0!==s&&void 0!==n&&s<n&&([t[n],t[s]]=[t[s],t[n]]);break}case"SELECT":{const t=e;let n,s=0,i=0,r=0;for(let e=0;e<t.length&&r<2;++e){switch(n=t[e],n.to){case"multiple":i=e,r++;break;case"value":s=e,r++}2===r&&s<i&&([t[i],t[s]]=[t[s],t[i]])}}}}Rs(t,e){return ad(t.parentNode,e.Ps("au*"),t),t}Ls(t,e){if(Ep(t))return t;const n=t.parentNode,s=e.wt();return cd(n,t,[s,e.Ps(Rp),e.Ps(Op)]),n.removeChild(t),s}},xo,Ad],tg=[$f,xf,Rf],eg=[Df,Bf,Ff,Uf,Vf,Wf,Gf,qf,_f,Kf,zf,Hf,Qf],ng=[gc,lc,uc,fc,mc,bc,dc,Ap,Pd,Md,Ld,Zd,Yd,tp,ep,np,sp,ip,rp,ap,cp,hp,Rd,Od,Ed,mp,up,lp,Yp,fp],sg=[tu,eu,Yl,Jl,Kl,Gl,Ql,Xl,Zl,su,cu,iu,ru,ou,au,nu,hu],ig=rg(ce);function rg(t){return{optionsProvider:t,register(e){const n={coercingOptions:{enableCoercion:!1,coerceNullish:!1}};return t(n),e.register(Ya(Ln,n.coercingOptions),...Jp,...ng,...tg,...eg,...sg)},customize:e=>rg(e??t)}}class og{constructor(t,e,n){this.name=t,this.isOptional=e,this.isStar=n}}class ag{constructor(t,e,n){this.path=t,this.caseSensitive=e,this.handler=n}}class cg{get residualEndpoint(){return this.t}set residualEndpoint(t){if(null!==this.t)throw new Error("Residual endpoint is already set");this.t=t}constructor(t,e){this.route=t,this.params=e,this.t=null}equalsOrResidual(t){return null!=t&&this===t||this.t===t}}class hg{constructor(t,e){this.endpoint=t,this.params=e}}class lg{constructor(t,e,n,s){this.chars=t,this.states=e,this.skippedStates=n,this.result=s,this.head=e[e.length-1],this.endpoint=this.head?.endpoint}advance(t){const{chars:e,states:n,skippedStates:s,result:i}=this;let r=null,o=0;const a=n[n.length-1];function c(h,l){if(h.isMatch(t)&&(1==++o?r=h:i.add(new lg(e.concat(t),n.concat(h),null===l?s:s.concat(l),i))),null===a.segment&&h.isOptional&&null!==h.nextStates){if(h.nextStates.length>1)throw yg(`${h.nextStates.length} nextStates`);const t=h.nextStates[0];if(!t.isSeparator)throw yg("Not a separator");if(null!==t.nextStates)for(const e of t.nextStates)c(e,h)}}if(a.isDynamic&&c(a,null),null!==a.nextStates)for(const t of a.nextStates)c(t,null);null!==r&&(n.push(this.head=r),e.push(t),null!==r.endpoint&&(this.endpoint=r.endpoint)),0===o&&i.remove(this)}finalize(){!function t(e,n){const s=n.nextStates;if(null!==s)if(1===s.length&&null===s[0].segment)t(e,s[0]);else for(const n of s)if(n.isOptional&&null!==n.endpoint){if(e.push(n),null!==n.nextStates)for(const s of n.nextStates)t(e,s);break}}(this.skippedStates,this.head)}getParams(){const{states:t,chars:e,endpoint:n}=this,s={};for(const t of n.params)s[t.name]=void 0;for(let n=0,i=t.length;n<i;++n){const i=t[n];if(i.isDynamic){const t=i.segment.name;void 0===s[t]?s[t]=e[n]:s[t]+=e[n]}}return s}compareTo(t){const e=this.states,n=t.states;for(let t=0,s=0,i=Math.max(e.length,n.length);t<i;++t){let i=e[t];if(void 0===i)return 1;let r=n[s];if(void 0===r)return-1;let o=i.segment,a=r.segment;if(null===o){if(null===a){++s;continue}if(void 0===(i=e[++t]))return 1;o=i.segment}else if(null===a){if(void 0===(r=n[++s]))return-1;a=r.segment}if(o.kind<a.kind)return 1;if(o.kind>a.kind)return-1;++s}const s=this.skippedStates,i=t.skippedStates,r=s.length,o=i.length;if(r<o)return 1;if(r>o)return-1;for(let t=0;t<r;++t){const e=s[t],n=i[t];if(e.length<n.length)return 1;if(e.length>n.length)return-1}return 0}}function ug(t){return null!==t.head.endpoint}function fg(t,e){return t.compareTo(e)}class dg{get isEmpty(){return 0===this.candidates.length}constructor(t){this.candidates=[],this.candidates=[new lg([""],[t],[],this)]}getSolution(){const t=this.candidates.filter(ug);if(0===t.length)return null;for(const e of t)e.finalize();return t.sort(fg),t[0]}add(t){this.candidates.push(t)}remove(t){this.candidates.splice(this.candidates.indexOf(t),1)}advance(t){const e=this.candidates.slice();for(const n of e)n.advance(t)}}const pg="$$residue";class gg{constructor(t,e,n){switch(this.prevState=t,this.segment=e,this.value=n,this.nextStates=null,this.endpoint=null,e?.kind){case 3:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=e.optional;break;case 2:case 1:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=!1;break;case 4:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!1,this.isOptional=!1;break;case void 0:this.length=null===t?0:t.length,this.isSeparator=!0,this.isDynamic=!1,this.isOptional=!1}}append(t,e){let n,s=this.nextStates;return null===s?(n=void 0,s=this.nextStates=[]):n=null===t?s.find((t=>t.value===e)):s.find((e=>e.segment?.equals(t))),void 0===n&&s.push(n=new gg(this,t,e)),n}setEndpoint(t){if(null!==this.endpoint)throw yg(`Cannot add ambiguous route. The pattern '${t.route.path}' clashes with '${this.endpoint.route.path}'`);this.endpoint=t,this.isOptional&&(this.prevState.setEndpoint(t),this.prevState.isSeparator&&null!==this.prevState.prevState&&this.prevState.prevState.setEndpoint(t))}isMatch(t){const e=this.segment;switch(e?.kind){case 3:return!this.value.includes(t);case 2:case 1:return!0;case 4:case void 0:return this.value.includes(t)}}}function mg(t){return t.length>0}class vg{get kind(){return 4}constructor(t,e){this.value=t,this.caseSensitive=e}appendTo(t){const{value:e,value:{length:n}}=this;if(this.caseSensitive)for(let s=0;s<n;++s)t=t.append(this,e.charAt(s));else for(let s=0;s<n;++s){const n=e.charAt(s);t=t.append(this,n.toUpperCase()+n.toLowerCase())}return t}equals(t){return 4===t.kind&&t.caseSensitive===this.caseSensitive&&t.value===this.value}}class bg{get kind(){return 3}constructor(t,e){this.name=t,this.optional=e}appendTo(t){return t.append(this,"/")}equals(t){return 3===t.kind&&t.optional===this.optional&&t.name===this.name}}class wg{constructor(t,e){this.name=t,this.kind=e}appendTo(t){return t.append(this,"")}equals(t){return(2===t.kind||1===t.kind)&&t.name===this.name}}const yg=t=>new Error(t);class kg{constructor(t,e,n,s={}){this.router=t,this.name=e,this.connectedCE=n,this.options=s,this.contents=[],this.transitionAction="",this.path=null}getContent(){return this.contents[0]}getNextContent(){return this.contents.length>1?this.contents[this.contents.length-1]:null}getTimeContent(t=1/0){return this.getContent()}getNavigationContent(t){return t instanceof hm&&(t=t.navigation),t instanceof Hg?this.contents.find((e=>e.navigation===t))??null:null}get activeContent(){return this.getNextContent()??this.getContent()}get connectedScope(){return this.activeContent?.connectedScope}get scope(){return this.connectedScope.scope}get owningScope(){return this.connectedScope.owningScope}get connectedController(){return this.connectedCE?.$controller??null}get isViewport(){return this instanceof Qg}get isViewportScope(){return this instanceof Wg}get isEmpty(){return!1}get pathname(){return this.connectedScope.pathname}toString(){throw new Error("Method 'toString' needs to be implemented in all endpoints!")}setNextContent(t,e){throw new Error("Method 'setNextContent' needs to be implemented in all endpoints!")}setConnectedCE(t,e){throw new Error("Method 'setConnectedCE' needs to be implemented in all endpoints!")}transition(t){throw new Error("Method 'transition' needs to be implemented in all endpoints!")}finalizeContentChange(t,e){throw new Error("Method 'finalizeContentChange' needs to be implemented in all endpoints!")}cancelContentChange(t,e=null){throw new Error("Method 'cancelContentChange' needs to be implemented in all endpoints!")}getRoutes(){throw new Error("Method 'getRoutes' needs to be implemented in all endpoints!")}getTitle(t){throw new Error("Method 'getTitle' needs to be implemented in all endpoints!")}removeEndpoint(t,e){return this.contents.forEach((t=>t.delete())),!0}canUnload(t,e){return!0}canLoad(t,e){return!0}unload(t,e){}load(t,e){}}class Cg{constructor(t,e,n,s,i=Zg.create(""),r=Hg.create({instruction:"",fullStateInstruction:""})){this.router=t,this.endpoint=e,this.instruction=i,this.navigation=r,this.completed=!1,this.connectedScope=new nm(t,s,n,this),null!==this.router.rootScope&&(this.endpoint.connectedScope?.parent??this.router.rootScope.scope).addChild(this.connectedScope)}get isActive(){return this.endpoint.activeContent===this}delete(){this.connectedScope.parent?.removeChild(this.connectedScope)}}class Sg{constructor(t=null,e="",n=[],s="",i={}){this.match=t,this.matching=e,this.instructions=n,this.remaining=s,this.params=i}get foundConfiguration(){return null!==this.match}get foundInstructions(){return this.instructions.some((t=>!t.component.none))}get hasRemaining(){return this.instructions.some((t=>t.hasNextScopeInstructions))}}function Ag(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}function xg(t,e){return function(n,s){e(n,s,t)}}class $g{static parse(t,e,n,s){if(!e)return{instructions:[],remaining:""};if(e.startsWith(t.sibling)&&!$g.isAdd(t,e))throw new Error(`Instruction parser error: Unnecessary siblings separator ${t.sibling} in beginning of instruction part "${e}".`);const i=[];let r=1e3;for(;e.length&&r;)if(r--,e.startsWith(t.scope)){if(0===i.length)throw new Error(`Instruction parser error: Children without parent in instruction part "(${e}" is not allowed.`);s=!1;const r=(e=e.slice(t.scope.length)).startsWith(t.groupStart);r&&(e=e.slice(t.groupStart.length),n=!0);const{instructions:o,remaining:a}=$g.parse(t,e,r,!1);i[i.length-1].nextScopeInstructions=o,e=a}else if(e.startsWith(t.groupStart)){e=e.slice(t.groupStart.length);const{instructions:n,remaining:r}=$g.parse(t,e,!0,s);i.push(...n),e=r}else if(e.startsWith(t.groupEnd)){n&&(e=e.slice(t.groupEnd.length));let s=0;const r=e.length;for(;s<r;s++){if(e.slice(s,s+t.sibling.length)===t.sibling)return{instructions:i,remaining:e};if(e.slice(s,s+t.groupEnd.length)!==t.groupEnd){if(i.length>1)throw new Error(`Instruction parser error: Children below scope ${t.groupStart}${t.groupEnd} in instruction part "(${e}" is not allowed.`);e=e.slice(s);break}}if(s>=r)return{instructions:i,remaining:e}}else if(e.startsWith(t.sibling)&&!$g.isAdd(t,e)){if(!n)return{instructions:i,remaining:e};e=e.slice(t.sibling.length)}else{const{instruction:n,remaining:s}=$g.parseOne(t,e);i.push(n),e=s}return{instructions:i,remaining:e}}static isAdd(t,e){return e===t.add||e.startsWith(`${t.add}${t.viewport}`)}static parseOne(t,e){const n=[t.parameters,t.viewport,t.noScope,t.groupEnd,t.scope,t.sibling];let s,i,r,o,a,c=!0;const h=e,l=[t.add,t.clear];for(const i of l)if(e===i){s=e,e="",n.shift(),n.shift(),o=t.viewport;break}if(void 0===s)for(const i of l)if(e.startsWith(`${i}${t.viewport}`)){s=i,e=e.slice(`${i}${t.viewport}`.length),n.shift(),n.shift(),o=t.viewport;break}if(void 0===s&&(({token:o,pos:a}=$g.findNextToken(e,n)),s=-1!==a?e.slice(0,a):e,e=-1!==a?e.slice(a+o.length):"",n.shift(),o===t.parameters&&(({token:o,pos:a}=$g.findNextToken(e,[t.parametersEnd])),i=e.slice(0,a),e=e.slice(a+o.length),({token:o}=$g.findNextToken(e,n)),e=e.slice(o.length)),n.shift()),o===t.viewport&&(({token:o,pos:a}=$g.findNextToken(e,n)),r=-1!==a?e.slice(0,a):e,e=-1!==a?e.slice(a+o.length):""),n.shift(),o===t.noScope&&(c=!1),o!==t.groupEnd&&o!==t.scope&&o!==t.sibling||(e=`${o}${e}`),""===(s??""))throw new Error(`Instruction parser error: No component specified in instruction part "${e}".`);const u=Zg.create(s,r,i,c);return u.unparsed=h,{instruction:u,remaining:e}}static findNextToken(t,e){const n={};for(const s of e)t.indexOf(s)>-1&&(n[s]=t.indexOf(s));const s=Math.min(...Object.values(n));for(const t in n)if(n[t]===s)return{token:t,pos:s};return{token:"",pos:-1}}}class Tg{constructor(t="${componentTitles}${appTitleSeparator}Aurelia",e=" | ",n="top-down",s=" > ",i=!0,r="app-",o){this.appTitle=t,this.appTitleSeparator=e,this.componentTitleOrder=n,this.componentTitleSeparator=s,this.useComponentNames=i,this.componentPrefix=r,this.transformTitle=o}static create(t={}){return new Tg((t="string"==typeof t?{appTitle:t}:t).appTitle,t.appTitleSeparator,t.componentTitleOrder,t.componentTitleSeparator,t.useComponentNames,t.componentPrefix,t.transformTitle)}static for(t){return Og.for(t).title}apply(t={}){t="string"==typeof t?{appTitle:t}:t,this.appTitle=t.appTitle??this.appTitle,this.appTitleSeparator=t.appTitleSeparator??this.appTitleSeparator,this.componentTitleOrder=t.componentTitleOrder??this.componentTitleOrder,this.componentTitleSeparator=t.componentTitleSeparator??this.componentTitleSeparator,this.useComponentNames=t.useComponentNames??this.useComponentNames,this.componentPrefix=t.componentPrefix??this.componentPrefix,this.transformTitle="transformTitle"in t?t.transformTitle:this.transformTitle}}class Ig{constructor(t="@",e="+",n="/",s="(",i=")",r="!",o="(",a=")",c=",",h="=",l="+",u="-",f="."){this.viewport=t,this.sibling=e,this.scope=n,this.groupStart=s,this.groupEnd=i,this.noScope=r,this.parameters=o,this.parametersEnd=a,this.parameterSeparator=c,this.parameterKeySeparator=h,this.add=l,this.clear=u,this.action=f}static create(t={}){return new Ig(t.viewport,t.sibling,t.scope,t.groupStart,t.groupEnd,t.noScope,t.parameters,t.parametersEnd,t.parameterSeparator,t.parameterKeySeparator,t.add,t.clear,t.action)}static for(t){return Og.for(t).separators}apply(t={}){this.viewport=t.viewport??this.viewport,this.sibling=t.sibling??this.sibling,this.scope=t.scope??this.scope,this.groupStart=t.groupStart??this.groupStart,this.groupEnd=t.groupEnd??this.groupEnd,this.noScope=t.noScope??this.noScope,this.parameters=t.parameters??this.parameters,this.parametersEnd=t.parametersEnd??this.parametersEnd,this.parameterSeparator=t.parameterSeparator??this.parameterSeparator,this.parameterKeySeparator=t.parameterKeySeparator??this.parameterKeySeparator,this.add=t.add??this.add,this.clear=t.clear??this.clear,this.action=t.action??this.action}}class Rg{constructor(t="active",e="navigating"){this.loadActive=t,this.viewportNavigating=e}static create(t={}){return new Rg(t.loadActive,t.viewportNavigating)}static for(t){return Og.for(t).indicators}apply(t={}){this.loadActive=t.loadActive??this.loadActive,this.viewportNavigating=t.viewportNavigating??this.viewportNavigating}}class Og{constructor(t=Ig.create(),e=Rg.create(),n=!0,s=null,i=!0,r=0,o=!0,a=!0,c=!0,h=Tg.create(),l=["guardedUnload","swapped","completed"],u="attach-next-detach-current",f="",d="abort"){this.separators=t,this.indicators=e,this.useUrlFragmentHash=n,this.basePath=s,this.useHref=i,this.statefulHistoryLength=r,this.useDirectRouting=o,this.useConfiguredRoutes=a,this.additiveInstructionDefault=c,this.title=h,this.navigationSyncStates=l,this.swapOrder=u,this.fallback=f,this.fallbackAction=d,this.registrationHooks=[]}static create(t={}){return new Og(Ig.create(t.separators),Rg.create(t.indicators),t.useUrlFragmentHash,t.basePath,t.useHref,t.statefulHistoryLength,t.useDirectRouting,t.useConfiguredRoutes,t.additiveInstructionDefault,Tg.create(t.title),t.navigationSyncStates,t.swapOrder,t.fallback,t.fallbackAction)}static for(t){return t instanceof Dm?t.options:(t=t instanceof pm?t.configuration:t.get(Um)).options}apply(t){t=t??{},this.separators.apply(t.separators),this.indicators.apply(t.indicators),this.useUrlFragmentHash=t.useUrlFragmentHash??this.useUrlFragmentHash,this.basePath=t.basePath??this.basePath,this.useHref=t.useHref??this.useHref,this.statefulHistoryLength=t.statefulHistoryLength??this.statefulHistoryLength,this.useDirectRouting=t.useDirectRouting??this.useDirectRouting,this.useConfiguredRoutes=t.useConfiguredRoutes??this.useConfiguredRoutes,this.additiveInstructionDefault=t.additiveInstructionDefault??this.additiveInstructionDefault,this.title.apply(t.title),this.navigationSyncStates=t.navigationSyncStates??this.navigationSyncStates,this.swapOrder=t.swapOrder??this.swapOrder,this.fallback=t.fallback??this.fallback,this.fallbackAction=t.fallbackAction??this.fallbackAction,Array.isArray(t.hooks)&&(void 0!==this.routerConfiguration?t.hooks.forEach((t=>this.routerConfiguration.addHook(t.hook,t.options))):this.registrationHooks=t.hooks)}setRouterConfiguration(t){this.routerConfiguration=t,this.registrationHooks.forEach((t=>this.routerConfiguration.addHook(t.hook,t.options))),this.registrationHooks.length=0}}var Eg;!function(t){t.none="none",t.string="string",t.array="array",t.object="object"}(Eg||(Eg={}));class Pg{constructor(){this.parametersString=null,this.parametersRecord=null,this.parametersList=null,this.parametersType="none"}get none(){return"none"===this.parametersType}static create(t){const e=new Pg;return e.set(t),e}static parse(t,e,n=!1){if(null==e||0===e.length)return[];const s=Ig.for(t),i=s.parameterSeparator,r=s.parameterKeySeparator;if("string"==typeof e){const t=[],s=e.split(i);for(const e of s){let s,i;[s,i]=e.split(r),void 0===i?(i=n?decodeURIComponent(s):s,s=void 0):n&&(s=decodeURIComponent(s),i=decodeURIComponent(i)),t.push({key:s,value:i})}return t}if(Array.isArray(e))return e.map((t=>({key:void 0,value:t})));const o=Object.keys(e);return o.sort(),o.map((t=>({key:t,value:e[t]})))}get typedParameters(){switch(this.parametersType){case"string":return this.parametersString;case"array":return this.parametersList;case"object":return this.parametersRecord;default:return null}}static stringify(t,e,n=!1){if(!Array.isArray(e)||0===e.length)return"";const s=Ig.for(t);return e.map((t=>{const e=void 0!==t.key&&n?encodeURIComponent(t.key):t.key,i=n?encodeURIComponent(t.value):t.value;return void 0!==e&&e!==i?e+s.parameterKeySeparator+i:i})).join(s.parameterSeparator)}static contains(t,e){return Object.keys(e).every((n=>e[n]===t[n]))}parameters(t){return Pg.parse(t,this.typedParameters)}set(t){this.parametersString=null,this.parametersList=null,this.parametersRecord=null,null==t||""===t?(this.parametersType="none",t=null):"string"==typeof t?(this.parametersType="string",this.parametersString=t):Array.isArray(t)?(this.parametersType="array",this.parametersList=t):(this.parametersType="object",this.parametersRecord=t)}get(t,e){if(void 0===e)return this.parameters(t);const n=this.parameters(t).filter((t=>t.key===e)).map((t=>t.value));return 0!==n.length?1===n.length?n[0]:n:void 0}addParameters(t){if("none"===this.parametersType)return this.set(t);if("object"!==this.parametersType)throw new Error("Can't add object parameters to existing non-object parameters!");this.set({...this.parametersRecord,...t})}toSpecifiedParameters(t,e){e=e??[];const n=this.parameters(t),s={};for(const t of e){let e=n.findIndex((e=>e.key===t));if(e>=0){const[i]=n.splice(e,1);s[t]=i.value}else if(e=n.findIndex((t=>void 0===t.key)),e>=0){const[i]=n.splice(e,1);s[t]=i.value}}for(const t of n.filter((t=>void 0!==t.key)))s[t.key]=t.value;let i=e.length;for(const t of n.filter((t=>void 0===t.key)))s[i++]=t.value;return s}toSortedParameters(t,e){e=e||[];const n=this.parameters(t),s=[];for(const t of e){let e=n.findIndex((e=>e.key===t));if(e>=0){const t={...n.splice(e,1)[0]};t.key=void 0,s.push(t)}else if(e=n.findIndex((t=>void 0===t.key)),e>=0){const t={...n.splice(e,1)[0]};s.push(t)}else s.push({value:void 0})}const i=n.filter((t=>void 0!==t.key));return i.sort(((t,e)=>(t.key||"")<(e.key||"")?1:(e.key||"")<(t.key||"")?-1:0)),s.push(...i),s.push(...n.filter((t=>void 0===t.key))),s}same(t,e,n){const s=null!==n?n.parameters:[],i=this.toSpecifiedParameters(t,s),r=e.toSpecifiedParameters(t,s);return Object.keys(i).every((t=>i[t]===r[t]))&&Object.keys(r).every((t=>r[t]===i[t]))}}class Mg{constructor(){this.name=null,this.type=null,this.instance=null,this.promise=null,this.func=null}static create(t){const e=new Mg;return e.set(t),e}static isName(t){return"string"==typeof t}static isDefinition(t){return vh.isType(t.Type)}static isType(t){return vh.isType(t)}static isInstance(t){return function(t){return c(t)&&fh(t.constructor)}(t)}static isAppelation(t){return Mg.isName(t)||Mg.isType(t)||Mg.isInstance(t)}static getName(t){return Mg.isName(t)?t:Mg.isType(t)?vh.getDefinition(t).name:Mg.getName(t.constructor)}static getType(t){return Mg.isName(t)?null:Mg.isType(t)?t:t.constructor}static getInstance(t){return Mg.isName(t)||Mg.isType(t)?null:t}set(t){let e=null,n=null,s=null,i=null,r=null;t instanceof Promise?i=t:Mg.isName(t)?e=Mg.getName(t):Mg.isType(t)?(e=this.getNewName(t),n=Mg.getType(t)):Mg.isInstance(t)?(e=this.getNewName(Mg.getType(t)),n=Mg.getType(t),s=Mg.getInstance(t)):"function"==typeof t&&(r=t),this.name=e,this.type=n,this.instance=s,this.promise=i,this.func=r}resolve(t){if(null!==this.func&&this.set(this.func(t)),this.promise instanceof Promise)return this.promise.then((t=>{if(Mg.isAppelation(t))return void this.set(t);if(null!=t.default)return void this.set(t.default);const e=Object.keys(t).filter((t=>!t.startsWith("__")));if(0===e.length)throw new Error("Failed to load component Type from resolved Promise since no export was specified.");if(e.length>1)throw new Error("Failed to load component Type from resolved Promise since no 'default' export was specified when having multiple exports.");const n=e[0];this.set(t[n])}))}get none(){return!(this.isName()||this.isType()||this.isInstance()||this.isFunction()||this.isPromise())}isName(){return!!this.name&&!this.isType()&&!this.isInstance()}isType(){return null!==this.type&&!this.isInstance()}isInstance(){return null!==this.instance}isPromise(){return null!==this.promise}isFunction(){return null!==this.func}toType(t,e){if(this.resolve(e),null!==this.type)return this.type;if(null!==this.name&&"string"==typeof this.name){if(null===t)throw new Error(`No container available when trying to resolve component '${this.name}'!`);if(t.has(vh.keyFrom(this.name),!0)){const e=t.getResolver(vh.keyFrom(this.name));if(null!==e&&void 0!==e.getFactory){const n=e.getFactory(t);if(n)return n.Type}}}return null}toInstance(t,e,n,s){if(this.resolve(s),null!==this.instance)return this.instance;if(null==t)return null;const i=t.createChild(),r=this.isType()?i.get(this.type):i.get(function(t){const e=vh.keyFrom(t);return{$isResolver:!0,resolve:(n,s)=>s.has(e,!1)?s.get(e):s.root.has(e,!1)?s.root.get(e):(console.warn(`Detected resource traversal behavior. A custom element "${t}" is neither registered locally nor globally. This is not a supported behavior and will be removed in a future release`),s.get(e))}}(this.name));if(null==r)throw new Error(`Failed to create instance when trying to resolve component '${this.name}'!`);return Iu.$el(i,r,n,null).parent=e,r}same(t,e=!1){return e?this.type===t.type:this.name===t.name}getNewName(t){return null===this.name?Mg.getName(t):this.name}}function Ng(t,e){const n=[];let s=t.findIndex(e);for(;s>=0;)n.push(t.splice(s,1)[0]),s=t.findIndex(e);return n}function jg(t,e=!1){return t.filter(((t,n,s)=>(e||null!=t)&&s.indexOf(t)===n))}class Lg{constructor(){this.isPending=!0,this.promise=new Promise(((t,e)=>{this.t=t,this.i=e}))}resolve(t){this.t(t),this.isPending=!1}reject(t){this.i(t),this.isPending=!1}}class Bg{constructor(){this.isDone=!1,this.isCancelled=!1,this.isResolved=!1,this.isRejected=!1,this.isAsync=!1}static run(t,...e){if(0===(e?.length??0))return e?.[0];let n=!1;null===t&&(t=new Ug,n=!0);const s=new Ug(e.shift());return Bg.connect(t,s,(t?.runParallel??!1)||n),e.length>0&&Bg.add(s,!1,...e),n?(Bg.process(t),t.result instanceof Promise&&this.runners.set(t.result,t),t.result):s}static runParallel(t,...e){if(0===(e?.length??0))return[];let n=!1;return null===t?(t=new Ug,n=!0):t=Bg.connect(t,new Ug,!0),Bg.add(t,!0,...e),n&&Bg.process(t),t.result instanceof Promise&&this.runners.set(t.result,t),n?t.result??[]:t}static step(t){if(t instanceof Promise)return Bg.runners.get(t)}static cancel(t){const e=Bg.step(t);void 0!==e&&e.cancel()}static add(t,e,...n){let s=new Ug(n.shift(),e);null!==t&&(s=Bg.connect(t,s,e));const i=s;for(;n.length>0;)s=Bg.connect(s,new Ug(n.shift(),e),!1);return i}static connect(t,e,n){if(n){const n=t.child;t.child=e,e.parent=t,e.next=n,null!==n&&(n.parent=null,n.previous=e)}else{const n=t.next;t.next=e,e.previous=t,e.next=n,null!==n&&(n.previous=e,n.parent=null)}return e}static process(t){const e=t.root;for(;null!==t&&!t.isDoing&&!t.isDone;)if(e.current=t,t.isParallelParent){t.isDone=!0;let e=t.child;for(;null!==e;)Bg.process(e),e=e.next}else{for(t.isDoing=!0,t.value=t.step;t.value instanceof Function&&!t.isCancelled&&!t.isExited&&!t.isDone;)t.value=t.value(t);if(!t.isCancelled)if(t.value instanceof Promise){const n=t.value;Bg.ensurePromise(e),((t,e)=>{e.then((e=>{t.value=e,Bg.settlePromise(t),t.isDone=!0,t.isDoing=!1;const n=t.nextToDo();null===n||t.isExited?(t.root.doneAll||t.isExited)&&Bg.settlePromise(t.root):Bg.process(n)})).catch((t=>{throw t}))})(t,n)}else t.isDone=!0,t.isDoing=!1,t=t.isExited?null:t.nextToDo()}e.isCancelled?Bg.settlePromise(e,"reject"):(e.doneAll||e.isExited)&&Bg.settlePromise(e)}static ensurePromise(t){return null===t.finally&&(t.finally=new Lg,t.promise=t.finally.promise,!0)}static settlePromise(t,e="resolve"){if(t.finally?.isPending)switch(t.promise=null,e){case"resolve":t.finally?.resolve(t.result);break;case"reject":t.finally?.reject(t.result)}}}Bg.runners=new WeakMap,Bg.roots={};class Ug{constructor(t=undefined,e=!1){this.step=t,this.runParallel=e,this.promise=null,this.previous=null,this.next=null,this.parent=null,this.child=null,this.current=null,this.finally=null,this.isDoing=!1,this.isDone=!1,this.isCancelled=!1,this.isExited=!1,this.exited=null,this.id="-1",this.id=""+Ug.id++}get isParallelParent(){return this.child?.runParallel??!1}get result(){if(null!==this.promise)return this.promise;if(null!==this.child){if(this.isParallelParent){const t=[];let e=this.child;for(;null!==e;)t.push(e.result),e=e.next;return t}return this===this.root&&null!==this.exited?this.exited.result:this.child?.tail?.result}let t=this.value;for(;t instanceof Ug;)t=t.result;return t}get asValue(){return this.result}get previousValue(){return this.runParallel?this.head.parent?.parent?.previous?.result:this.previous?.result}get name(){let t=`${this.id}`;return this.runParallel&&(t=`:${t}`),(this.value instanceof Promise||this.promise instanceof Promise)&&(t=`${t}*`),null!==this.finally&&(t=`${t}*`),null!==this.child&&(t=`${t}>`),this.isDone&&(t=`(${t})`),t}get root(){let t=this.head;for(;null!==t.parent;)t=t.parent.head;return t}get head(){let t=this;for(;null!==t.previous;)t=t.previous;return t}get tail(){let t=this;for(;null!==t.next;)t=t.next;return t}get done(){if(!this.isDone)return!1;let t=this.child;for(;null!==t;){if(!t.done)return!1;t=t.next}return!0}get doneAll(){return!(!this.isDone||null!==this.child&&!this.child.doneAll||null!==this.next&&!this.next.doneAll)}cancel(t=!0){return t?this.root.cancel(!1):!this.isCancelled&&(this.isCancelled=!0,this.child?.cancel(!1),this.next?.cancel(!1),!0)}exit(t=!0){return t?(this.root.exited=this,this.root.exit(!1)):!this.isExited&&(this.isExited=!0,this.child?.exit(!1),this.next?.exit(!1),!0)}nextToDo(){return null===this.child||this.child.isDoing||this.child.isDone?this.runParallel&&!this.head.parent.done?null:this.nextOrUp():this.child}nextOrUp(){let t=this.next;for(;null!==t;){if(!t.isDoing&&!t.isDone)return t;t=t.next}const e=this.head.parent??null;return null!==e&&e.done?e.nextOrUp():null}get path(){return`${this.head.parent?.path??""}/${this.name}`}get tree(){let t="",e=this.head,n=e.parent,s="";for(;null!==n;)s=`${n.path}${s}`,n=n.head.parent;do{if(t+=`${s}/${e.name}\n`,e===this)break;e=e.next}while(null!==e);return t}get report(){let t=`${this.path}\n`;return t+=this.child?.report??"",t+=this.next?.report??"",t}}Ug.id=0;class Fg{constructor(t,e,n,s,i,r,o,a){this.path=t,this.id=e,this.redirectTo=n,this.instructions=s,this.caseSensitive=i,this.title=r,this.reloadBehavior=o,this.data=a}static isConfigured(t){return E.hasOwn(Fg.resourceKey,t)||"parameters"in t||"title"in t}static configure(t,e){const n=Fg.create(t,e);return E.define(Fg.resourceKey,n,e),e}static getConfiguration(t){const e=E.getOwn(Fg.resourceKey,t)??{};return Array.isArray(t.parameters)&&(e.parameters=t.parameters),"title"in t&&(e.title=t.title),e instanceof Fg?e:Fg.create(e,t)}static create(t,e=null){null!==e&&(t=Fg.transferTypeToComponent(t,e)),vh.isType(t)?t=Fg.getConfiguration(t):null===e&&(t={...t});const n=Fg.transferIndividualIntoInstructions(t);Fg.validateRouteConfiguration(n);let s=n.path;return Array.isArray(s)&&(s=s.join(",")),new Fg(n.path??"",n.id??s??null,n.redirectTo??null,n.instructions??null,n.caseSensitive??!1,n.title??null,n.reloadBehavior??null,n.data??null)}static transferTypeToComponent(t,e){if(vh.isType(t))throw new Error("Invalid route configuration: A component can't be specified in a component route configuration.");const n={...t}??{};if("component"in n||"instructions"in n)throw new Error("Invalid route configuration: The 'component' and 'instructions' properties can't be specified in a component route configuration.");return"redirectTo"in n||(n.component=e),"path"in n||"redirectTo"in n||(n.path=vh.getDefinition(e).name),n}static transferIndividualIntoInstructions(t){if(null==t)throw new Error("Invalid route configuration: expected an object.");if(null!==(t.component??null)||null!==(t.viewport??null)||null!==(t.parameters??null)||null!==(t.children??null)){if(null!=t.instructions)throw new Error("Invalid route configuration: The 'instructions' property can't be used together with the 'component', 'viewport', 'parameters' or 'children' properties.");t.instructions=[{component:t.component,viewport:t.viewport,parameters:t.parameters,children:t.children}]}return t}static validateRouteConfiguration(t){if(null===t.redirectTo&&null===t.instructions)throw new Error("Invalid route configuration: either 'redirectTo' or 'instructions' need to be specified.")}}Fg.resourceKey=pt.resource.keyFor("route");const Vg={name:pt.resource.keyFor("routes"),isConfigured:t=>E.hasOwn(Vg.name,t)||"routes"in t,configure(t,e){const n=t.map((t=>Fg.create(t)));return E.define(Vg.name,n,e),e},getConfiguration(t){const e=t,n=[],s=E.getOwn(Vg.name,t);return Array.isArray(s)&&n.push(...s),Array.isArray(e.routes)&&n.push(...e.routes),n.map((t=>t instanceof Fg?t:Fg.create(t)))}};class Dg extends Cg{}class Wg extends kg{constructor(t,e,n,s,i,r=null,o={catches:[],source:null}){super(t,e,n),this.rootComponentType=r,this.options=o,this.instruction=null,this.available=!0,this.sourceItem=null,this.sourceItemIndex=-1,this.remove=!1,this.add=!1,this.contents.push(new Dg(t,this,s,i)),this.catches.length>0&&(this.instruction=Zg.create(this.catches[0],this.name))}get isEmpty(){return null===this.instruction}get passThroughScope(){return null===this.rootComponentType&&0===this.catches.length}get siblings(){const t=this.connectedScope.parent;return null===t?[this]:t.enabledChildren.filter((t=>t.isViewportScope&&t.endpoint.name===this.name)).map((t=>t.endpoint))}get source(){return this.options.source??null}get catches(){let t=this.options.catches??[];return"string"==typeof t&&(t=t.split(",")),t}get default(){if(this.catches.length>0)return this.catches[0]}toString(){const t=this.instruction?.component.name??"",e=this.getNextContent()?.instruction.component.name??"";return`vs:${this.name}[${t}->${e}]`}setNextContent(t,e){return t.endpoint.set(this),this.remove=t.isClear(this.router)||t.isClearAll(this.router),this.add=t.isAdd(this.router)&&Array.isArray(this.source),this.add&&(t.component.name=null),void 0!==this.default&&null===t.component.name&&(t.component.name=this.default),this.contents.push(new Dg(this.router,this,this.owningScope,this.scope.hasScope,t,e)),"swap"}transition(t){Bg.run(null,(e=>t.setEndpointStep(this,e.root)),(()=>t.addEndpointState(this,"guardedUnload")),(()=>t.addEndpointState(this,"guardedLoad")),(()=>t.addEndpointState(this,"guarded")),(()=>t.addEndpointState(this,"loaded")),(()=>t.addEndpointState(this,"unloaded")),(()=>t.addEndpointState(this,"routed")),(()=>t.addEndpointState(this,"swapped")),(()=>t.addEndpointState(this,"completed")))}finalizeContentChange(t,e){const n=this.contents.findIndex((e=>e.navigation===t.navigation));let s=this.contents[n];if(this.remove){const t=new Dg(this.router,this,this.owningScope,this.scope.hasScope);this.contents.splice(n,1,t),s.delete(),s=t}s.completed=!0;let i=0;for(let t=0,e=n;t<e&&this.contents[0].navigation.completed;t++)i++;this.contents.splice(0,i),this.remove&&Array.isArray(this.source)&&this.removeSourceItem()}cancelContentChange(t,e=null){[...new Set(this.scope.children.map((t=>t.endpoint)))].forEach((n=>n.cancelContentChange(t,e)));const n=this.contents.findIndex((e=>e.navigation===t.navigation));if(!(n<0)&&(this.contents.splice(n,1),this.add)){const t=this.source.indexOf(this.sourceItem);this.source.splice(t,1),this.sourceItem=null}}acceptSegment(t){return null===t&&void 0===t||0===t.length||t===Zg.clear(this.router)||t===Zg.add(this.router)||t===this.name||0===this.catches.length||!!this.catches.includes(t)||!!this.catches.filter((t=>t.includes("*"))).length}binding(){(this.source||[]).length>0&&null===this.sourceItem&&(this.sourceItem=this.getAvailableSourceItem())}unbinding(){null!==this.sourceItem&&null!==this.source&&Ng(this.source,(t=>t===this.sourceItem)),this.sourceItem=null}getAvailableSourceItem(){if(null===this.source)return null;const t=this.siblings;for(const e of this.source)if(t.every((t=>t.sourceItem!==e)))return e;return null}addSourceItem(){const t={};return this.source.push(t),t}removeSourceItem(){this.sourceItemIndex=this.source.indexOf(this.sourceItem),this.sourceItemIndex>=0&&this.source.splice(this.sourceItemIndex,1)}getRoutes(){const t=[];if(null!==this.rootComponentType){const e=this.rootComponentType.constructor===this.rootComponentType.constructor.constructor?this.rootComponentType:this.rootComponentType.constructor;t.push(...Vg.getConfiguration(e)??[])}return t}}class qg{constructor(t={instruction:"",fullStateInstruction:""}){this.instruction=t.instruction,this.fullStateInstruction=t.fullStateInstruction,this.scope=t.scope,this.index=t.index,this.firstEntry=t.firstEntry,this.path=t.path,this.title=t.title,this.query=t.query,this.fragment=t.fragment,this.parameters=t.parameters,this.data=t.data}toStoredNavigation(){return{instruction:this.instruction,fullStateInstruction:this.fullStateInstruction,scope:this.scope,index:this.index,firstEntry:this.firstEntry,path:this.path,title:this.title,query:this.query,fragment:this.fragment,parameters:this.parameters,data:this.data}}}class _g{constructor(){this.first=!1,this.new=!1,this.refresh=!1,this.forward=!1,this.back=!1,this.replace=!1}}class Hg extends qg{constructor(t={instruction:"",fullStateInstruction:""}){super(t),this.navigation=new _g,this.repeating=!1,this.previous=null,this.fromBrowser=!1,this.origin=null,this.replacing=!1,this.refreshing=!1,this.untracked=!1,this.process=null,this.completed=!0,this.fromBrowser=t.fromBrowser??this.fromBrowser,this.origin=t.origin??this.origin,this.replacing=t.replacing??this.replacing,this.refreshing=t.refreshing??this.refreshing,this.untracked=t.untracked??this.untracked,this.historyMovement=t.historyMovement??this.historyMovement,this.process=null,this.timestamp=Date.now()}get useFullStateInstruction(){return(this.navigation.back??!1)||(this.navigation.forward??!1)||(this.navigation.refresh??!1)}static create(t={instruction:"",fullStateInstruction:""}){return new Hg(t)}}class zg{constructor(){this.map=new Map}set(t,e){const n=this.map.get(t);n instanceof Lg&&n.resolve(e),this.map.set(t,e)}delete(t){const e=this.map.get(t);e instanceof Lg&&e.reject(),this.map.delete(t)}await(t){if(!this.map.has(t)){const e=new Lg;return this.map.set(t,e),e.promise}const e=this.map.get(t);return e instanceof Lg?e.promise:e}has(t){return this.map.has(t)&&!(this.map.get(t)instanceof Lg)}clone(){const t=new zg;return t.map=new Map(this.map),t}}class Kg extends Cg{constructor(t,e,n,s,i=Zg.create(""),r=Hg.create({instruction:"",fullStateInstruction:""}),o=null){super(t,e,n,s,i,r),this.router=t,this.instruction=i,this.navigation=r,this.contentStates=new zg,this.fromCache=!1,this.fromHistory=!1,this.reload=!1,this.activatedResolve=null,this.instruction.component.isType()||null==o?.container||(this.instruction.component.type=this.toComponentType(o.container))}get componentInstance(){return this.instruction.component.instance}get reloadBehavior(){return this.instruction.route instanceof Sg&&null!==this.instruction.route.match?.reloadBehavior?this.instruction.route.match?.reloadBehavior:null!==this.instruction.component.instance&&"reloadBehavior"in this.instruction.component.instance&&void 0!==this.instruction.component.instance.reloadBehavior?this.instruction.component.instance.reloadBehavior:"default"}get controller(){return this.instruction.component.instance?.$controller}equalComponent(t){return this.instruction.sameComponent(this.router,t.instruction)}equalParameters(t){return this.instruction.sameComponent(this.router,t.instruction,!0)&&(this.navigation.query??"")===(t.navigation.query??"")}isCacheEqual(t){return this.instruction.sameComponent(this.router,t.instruction,!0)}contentController(t){return Iu.$el(t.container.createChild(),this.instruction.component.instance,t.element,null)}createComponent(t,e,n){if(!this.contentStates.has("created")){if(!this.fromCache&&!this.fromHistory)try{this.instruction.component.set(this.toComponentInstance(t.container,t.controller,t.element))}catch(s){if(!s.message.startsWith("AUR0009:"))throw s;if(""===(e??""))throw new Error(`'${this.instruction.component.name}' did not match any configured route or registered component name - did you forget to add the component '${this.instruction.component.name}' to the dependencies or to register it as a global dependency?`);"process-children"===n?this.instruction.parameters.set([this.instruction.component.name]):(this.instruction.parameters.set([this.instruction.unparsed??this.instruction.component.name]),this.instruction.nextScopeInstructions=null),this.instruction.component.set(e);try{this.instruction.component.set(this.toComponentInstance(t.container,t.controller,t.element))}catch(t){if(!t.message.startsWith("AUR0009:"))throw t;throw new Error(`'${this.instruction.component.name}' did not match any configured route or registered component name - did you forget to add the component '${this.instruction.component.name}' to the dependencies or to register it as a global dependency?`)}}this.contentStates.set("created",void 0)}}canLoad(){if(!this.contentStates.has("created")||this.contentStates.has("checkedLoad")&&!this.reload)return!0;const t=this.instruction.component.instance;if(null==t)return!0;this.contentStates.set("checkedLoad",void 0);const e=this.endpoint.parentViewport?.getTimeContent(this.navigation.timestamp)?.instruction?.typeParameters(this.router),n=this.instruction.typeParameters(this.router),s={...this.navigation.parameters,...e,...n},i=this.getLifecycleHooks(t,"canLoad").map((e=>n=>{const i=e(t,s,this.instruction,this.navigation);return"boolean"==typeof i?(!1===i&&n.exit(),i):"string"==typeof i?(n.exit(),i):i}));if(0!==i.length){const t=Bg.run(null,...i);if(!0!==t)return!1!==t&&t}if(null==t.canLoad)return!0;return t.canLoad(s,this.instruction,this.navigation)}canUnload(t){if(this.contentStates.has("checkedUnload")&&!this.reload)return!0;if(this.contentStates.set("checkedUnload",void 0),!this.contentStates.has("loaded"))return!0;const e=this.instruction.component.instance;null===t&&(t=Hg.create({instruction:"",fullStateInstruction:"",previous:this.navigation}));const n=this.getLifecycleHooks(e,"canUnload").map((n=>s=>{const i=n(e,this.instruction,t);return"boolean"==typeof i?(!1===i&&s.exit(),i):i}));if(0!==n.length){const t=Bg.run(null,...n);if(!0!==t)return!1!==t&&t}if(!e.canUnload)return!0;const s=e.canUnload(this.instruction,t);if("boolean"!=typeof s&&!(s instanceof Promise))throw new Error(`Method 'canUnload' in component "${this.instruction.component.name}" needs to return true or false or a Promise resolving to true or false.`);return s}load(t){return Bg.run(t,(()=>this.contentStates.await("checkedLoad")),(()=>{if(!this.contentStates.has("created")||this.contentStates.has("loaded")&&!this.reload)return;this.reload=!1,this.contentStates.set("loaded",void 0);const t=this.instruction.component.instance,e=this.endpoint.parentViewport?.getTimeContent(this.navigation.timestamp)?.instruction?.typeParameters(this.router),n=this.instruction.typeParameters(this.router),s={...this.navigation.parameters,...e,...n},i=this.getLifecycleHooks(t,"loading").map((e=>()=>e(t,s,this.instruction,this.navigation)));return i.push(...this.getLifecycleHooks(t,"load").map((e=>()=>(console.warn(`[Deprecated] Found deprecated hook name "load" in ${this.instruction.component.name}. Please use the new name "loading" instead.`),e(t,s,this.instruction,this.navigation))))),0!==i.length?("function"==typeof t.loading&&i.push((()=>t.loading(s,this.instruction,this.navigation))),"function"==typeof t.load&&(console.warn(`[Deprecated] Found deprecated hook name "load" in ${this.instruction.component.name}. Please use the new name "loading" instead.`),i.push((()=>t.load(s,this.instruction,this.navigation)))),Bg.run(null,...i)):"function"==typeof t.loading?t.loading(s,this.instruction,this.navigation):"function"==typeof t.load?(console.warn(`[Deprecated] Found deprecated hook name "load" in ${this.instruction.component.name}. Please use the new name "loading" instead.`),t.load(s,this.instruction,this.navigation)):void 0}))}unload(t){if(!this.contentStates.has("loaded"))return;this.contentStates.delete("loaded");const e=this.instruction.component.instance;null===t&&(t=Hg.create({instruction:"",fullStateInstruction:"",previous:this.navigation}));const n=this.getLifecycleHooks(e,"unloading").map((n=>()=>n(e,this.instruction,t)));return n.push(...this.getLifecycleHooks(e,"unload").map((n=>()=>(console.warn(`[Deprecated] Found deprecated hook name "unload" in ${this.instruction.component.name}. Please use the new name "unloading" instead.`),n(e,this.instruction,t))))),0!==n.length?("function"==typeof e.unloading&&n.push((()=>e.unloading(this.instruction,t))),"function"==typeof e.unload&&(console.warn(`[Deprecated] Found deprecated hook name "unload" in ${this.instruction.component.name}. Please use the new name "unloading" instead.`),n.push((()=>e.unload(this.instruction,t)))),Bg.run(null,...n)):"function"==typeof e.unloading?e.unloading(this.instruction,t):"function"==typeof e.unload?(console.warn(`[Deprecated] Found deprecated hook name "unload" in ${this.instruction.component.name}. Please use the new name "unloading" instead.`),e.unload(this.instruction,t)):void 0}activateComponent(t,e,n,s,i,r){return Bg.run(t,(()=>this.contentStates.await("loaded")),(()=>this.waitForParent(n)),(()=>{if(!this.contentStates.has("activating")&&!this.contentStates.has("activated"))return this.contentStates.set("activating",void 0),this.controller?.activate(e??this.controller,n,void 0)}),(()=>{this.contentStates.set("activated",void 0)}))}deactivateComponent(t,e,n,s,i=!1){if(this.contentStates.has("activated")||this.contentStates.has("activating"))return Bg.run(t,(()=>{if(i&&null!==s.element){const t=Array.from(s.element.getElementsByTagName("*"));for(const e of t)(e.scrollTop>0||e.scrollLeft)&&e.setAttribute("au-element-scroll",`${e.scrollTop},${e.scrollLeft}`)}return this.contentStates.delete("activated"),this.contentStates.delete("activating"),this.controller?.deactivate(e??this.controller,n)}))}disposeComponent(t,e,n=!1){if(this.contentStates.has("created")&&null!=this.instruction.component.instance)return n?void e.push(this):(this.contentStates.delete("created"),this.controller?.dispose())}freeContent(t,e,n,s,i=!1){return Bg.run(t,(()=>this.unload(n)),(t=>this.deactivateComponent(t,null,e.controller,e,i)),(()=>this.disposeComponent(e,s,i)))}toComponentName(){return this.instruction.component.name}toComponentType(t){return this.instruction.component.none?null:this.instruction.component.toType(t,this.instruction)}toComponentInstance(t,e,n){return this.instruction.component.none?null:this.instruction.component.toInstance(t,e,n,this.instruction)}waitForParent(t){if(null!==t)return t.isActive?void 0:new Promise((t=>{this.endpoint.activeResolve=t}))}getLifecycleHooks(t,e){return(t.$controller.lifecycleHooks[e]??[]).map((t=>t.instance[e].bind(t.instance)))}}class Gg{constructor(t=!0,e=[],n="",s="",i="",r=!1,o=!1,a=!1,c=!1,h=!1){this.scope=t,this.usedBy=e,this.fallback=s,this.fallbackAction=i,this.noLink=r,this.noTitle=o,this.stateful=a,this.forceDescription=c,this.noHistory=h,this.default=void 0,this.default=n}static create(t){const e=new Gg;return void 0!==t&&e.apply(t),e}apply(t){this.scope=t.scope??this.scope,this.usedBy=("string"==typeof t.usedBy?t.usedBy.split(",").filter((t=>t.length>0)):t.usedBy)??this.usedBy,this.default=t.default??this.default,this.fallback=t.fallback??this.fallback,this.fallbackAction=t.fallbackAction??this.fallbackAction,this.noLink=t.noLink??this.noLink,this.noTitle=t.noTitle??this.noTitle,this.stateful=t.stateful??this.stateful,this.forceDescription=t.forceDescription??this.forceDescription,this.noHistory=t.noHistory??this.noHistory}}class Qg extends kg{constructor(t,e,n,s,i,r){super(t,e,n),this.contents=[],this.forceRemove=!1,this.options=new Gg,this.activeResolve=null,this.connectionResolve=null,this.clear=!1,this.coordinators=[],this.previousViewportState=null,this.cache=[],this.historyCache=[],this.contents.push(new Kg(t,this,s,i)),this.contents[0].completed=!0,void 0!==r&&this.options.apply(r)}getContent(){if(1===this.contents.length)return this.contents[0];let t;for(let e=0,n=this.contents.length;e<n&&this.contents[e].completed;e++)t=this.contents[e];return t}getNextContent(){if(1===this.contents.length)return null;const t=this.contents.indexOf(this.getContent());return this.contents.length>t?this.contents[t+1]:null}getTimeContent(t){let e=null;for(let n=0,s=this.contents.length;n<s&&!(this.contents[n].navigation.timestamp>t);n++)e=this.contents[n];return e}getNavigationContent(t){return super.getNavigationContent(t)}get parentViewport(){let t=this.connectedScope;for(;null!=t?.parent;)if(t=t.parent,t.endpoint.isViewport)return t.endpoint;return null}get isEmpty(){return null===this.getContent().componentInstance}get doForceRemove(){let t=this.connectedScope;for(;null!==t;){if(t.isViewport&&t.endpoint.forceRemove)return!0;t=t.parent}return!1}isActiveNavigation(t){return this.coordinators[this.coordinators.length-1]===t}toString(){const t=this.getContent()?.instruction.component.name??"",e=this.getNextContent()?.instruction.component.name??"";return`v:${this.name}[${t}->${e}]`}setNextContent(t,e){t.endpoint.set(this),this.clear=t.isClear(this.router);const n=this.getContent(),s=new Kg(this.router,this,this.owningScope,this.scope.hasScope,this.clear?void 0:t,e,this.connectedCE??null);if(this.contents.push(s),s.fromHistory=!(null===s.componentInstance||!e.navigation||!e.navigation.back&&!e.navigation.forward),this.options.stateful){const t=this.cache.find((t=>s.isCacheEqual(t)));void 0!==t?(this.contents.splice(this.contents.indexOf(s),1,t),s.fromCache=!0):this.cache.push(s)}return null!==s.componentInstance&&n.componentInstance===s.componentInstance?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):!n.equalComponent(s)||e.navigation.refresh||"refresh"===n.reloadBehavior?this.transitionAction="swap":"disallow"===n.reloadBehavior?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):"reload"===n.reloadBehavior?(n.reload=!0,s.instruction.component.set(n.componentInstance),s.contentStates=n.contentStates.clone(),s.reload=n.reload,this.transitionAction="reload"):this.options.stateful&&n.equalParameters(s)||n.equalParameters(s)?(s.delete(),this.contents.splice(this.contents.indexOf(s),1),this.transitionAction="skip"):this.transitionAction="swap"}setConnectedCE(t,e){e=e??{},this.connectedCE!==t&&(this.previousViewportState={...this},this.clearState(),this.connectedCE=t,this.options.apply(e),null!=this.connectionResolve&&this.connectionResolve());const n=(this.scope.parent?.endpoint.getRoutes()??[]).filter((t=>(Array.isArray(t.path)?t.path:[t.path]).includes(""))).length>0;if(null===this.getContent().componentInstance&&null==this.getNextContent()?.componentInstance&&(this.options.default||n)){const t=Zg.parse(this.router,this.options.default??"");if(0===t.length&&n){const e=this.scope.parent?.findInstructions([Zg.create("")],!1,this.router.configuration.options.useConfiguredRoutes);e?.foundConfiguration&&t.push(...e.instructions)}for(const e of t)e.endpoint.set(this),e.scope=this.owningScope,e.default=!0;this.router.load(t,{append:!0}).catch((t=>{throw t}))}}remove(t,e){return this.connectedCE===e&&Bg.run(t,(t=>{if(null!==this.getContent().componentInstance)return this.getContent().freeContent(t,this.connectedCE,this.getNextContent()?.navigation??null,this.historyCache,!this.doForceRemove&&(this.router.statefulHistory||this.options.stateful))}),(t=>{if(this.doForceRemove){const e=[];for(const t of this.historyCache)e.push((e=>t.freeContent(e,null,null,this.historyCache,!1)));return e.push((()=>{this.historyCache=[]})),Bg.run(t,...e)}return!0}))}async transition(t){const e=this.router.configuration.options.indicators.viewportNavigating;for(this.coordinators.push(t);this.coordinators[0]!==t;)await this.coordinators[0].waitForSyncState("completed");let n=this.parentViewport;null!==n&&"reload"!==n.transitionAction&&"swap"!==n.transitionAction&&(n=null);const s=[e=>{if(this.isActiveNavigation(t))return this.canUnload(t,e)},e=>{if(this.isActiveNavigation(t))if(e.previousValue){if(this.router.isRestrictedNavigation){const e=this.router.configuration.options;this.getNavigationContent(t).createComponent(this.connectedCE,this.options.fallback||e.fallback,this.options.fallbackAction||e.fallbackAction)}}else t.cancel();t.addEndpointState(this,"guardedUnload")},()=>t.waitForSyncState("guardedUnload",this),()=>null!==n?t.waitForEndpointState(n,"guardedLoad"):void 0,e=>{if(this.isActiveNavigation(t))return this.canLoad(t,e)},e=>{if(this.isActiveNavigation(t)){let n=e.previousValue;if("boolean"!=typeof n){if(this.getNavigationContent(t).instruction.nextScopeInstructions=null,"string"==typeof n){const t=this.scope,e=this.router.configuration.options;let s=Zg.parse(this.router,n);const i=t.parent?.findInstructions(s,e.useDirectRouting,e.useConfiguredRoutes);(i?.foundConfiguration||i?.foundInstructions)&&(s=i.instructions);for(const e of s)e.endpoint.set(this),e.scope=t.owningScope;n=s}return Bg.run(e,(e=>this.cancelContentChange(t,e)),(t=>(this.router.load(n,{append:!0}),t.exit())))}if(!n)return e.cancel(),t.cancel(),void(this.getNavigationContent(t).instruction.nextScopeInstructions=null)}t.addEndpointState(this,"guardedLoad"),t.addEndpointState(this,"guarded")}],i=[()=>t.waitForSyncState("guarded",this),e=>{if(this.isActiveNavigation(t))return this.unload(t,e)},()=>t.addEndpointState(this,"unloaded"),()=>t.waitForSyncState("unloaded",this),()=>null!==n?t.waitForEndpointState(n,"loaded"):void 0,e=>{if(this.isActiveNavigation(t))return this.load(t,e)},()=>t.addEndpointState(this,"loaded"),()=>t.addEndpointState(this,"routed")],r=[()=>t.waitForSyncState("routed",this),()=>t.waitForEndpointState(this,"routed")];switch(this.router.configuration.options.swapOrder){case"detach-current-attach-next":r.push((e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}));break;case"attach-next-detach-current":r.push((e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}));break;case"detach-attach-simultaneously":r.push((e=>Bg.runParallel(e,(e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}))));break;case"attach-detach-simultaneously":r.push((e=>Bg.runParallel(e,(e=>{if(this.isActiveNavigation(t))return this.addContent(e,t)}),(e=>{if(this.isActiveNavigation(t))return this.removeContent(e,t)}))))}r.push((()=>t.addEndpointState(this,"swapped"))),this.connectedCE?.setActivity?.(e,!0),this.connectedCE?.setActivity?.(t.navigation.navigation,!0);const o=Bg.run(null,(e=>t.setEndpointStep(this,e.root)),...s,...i,...r,(()=>t.addEndpointState(this,"completed")),(()=>t.waitForSyncState("bound")),(()=>{this.connectedCE?.setActivity?.(e,!1),this.connectedCE?.setActivity?.(t.navigation.navigation,!1)}));o instanceof Promise&&o.catch((t=>{}))}canUnload(t,e){return Bg.run(e,(e=>this.getContent().connectedScope.canUnload(t,e)),(e=>!!e.previousValue&&this.getContent().canUnload(t.navigation)))}canLoad(t,e){return!!this.clear||Bg.run(e,(()=>this.waitForConnected()),(()=>{const e=this.router.configuration.options,n=this.getNavigationContent(t);return n.createComponent(this.connectedCE,this.options.fallback||e.fallback,this.options.fallbackAction||e.fallbackAction),n.canLoad()}))}load(t,e){if(!this.clear)return this.getNavigationContent(t).load(e)}addContent(t,e){return this.activate(t,null,this.connectedController,e)}removeContent(t,e){if(this.isEmpty)return;const n=this.router.statefulHistory||(this.options.stateful??!1);return Bg.run(t,(()=>e.addEndpointState(this,"bound")),(()=>e.waitForSyncState("bound")),(t=>this.deactivate(t,null,this.connectedController)),(()=>n?this.dispose():void 0))}activate(t,e,n,s){if(null!==this.activeContent.componentInstance)return Bg.run(t,(()=>this.activeContent.canLoad()),(t=>this.activeContent.load(t)),(t=>this.activeContent.activateComponent(t,e,n,this.connectedCE,(()=>s?.addEndpointState(this,"bound")),s?.waitForSyncState("bound"))))}deactivate(t,e,n){const s=this.getContent();if(null!=s?.componentInstance&&!s.reload&&s.componentInstance!==this.getNextContent()?.componentInstance)return s.deactivateComponent(t,e,n,this.connectedCE,this.router.statefulHistory||this.options.stateful)}unload(t,e){return Bg.run(e,(e=>this.getContent().connectedScope.unload(t,e)),(()=>null!=this.getContent().componentInstance?this.getContent().unload(t.navigation??null):void 0))}dispose(){null===this.getContent().componentInstance||this.getContent().reload||this.getContent().componentInstance===this.getNextContent()?.componentInstance||this.getContent().disposeComponent(this.connectedCE,this.historyCache,this.router.statefulHistory||this.options.stateful)}finalizeContentChange(t,e){const n=this.contents.findIndex((e=>e.navigation===t.navigation));let s=this.contents[n];const i=this.contents[n-1];if(this.clear){const t=new Kg(this.router,this,this.owningScope,this.scope.hasScope,void 0,s.navigation);this.contents.splice(n,1,t),s.delete(),s=t}else s.reload=!1;i.delete(),s.completed=!0,this.transitionAction="",s.contentStates.delete("checkedUnload"),s.contentStates.delete("checkedLoad"),this.previousViewportState=null;const r=this.router.configuration.options.indicators.viewportNavigating;this.connectedCE?.setActivity?.(r,!1),this.connectedCE?.setActivity?.(t.navigation.navigation,!1);let o=0;for(let t=0,e=n;t<e&&this.contents[0].navigation.completed;t++)o++;this.contents.splice(0,o),Ng(this.coordinators,(e=>e===t))}cancelContentChange(t,e=null){[...new Set(this.scope.children.map((t=>t.endpoint)))].forEach((n=>n.cancelContentChange(t,e)));const n=this.contents.findIndex((e=>e.navigation===t.navigation));if(n<0)return;const s=t.getEndpointStep(this)?.current??null,i=this.contents[n],r=this.contents[n-1];return i.instruction.cancelled=!0,Bg.run(s,(t=>i.freeContent(t,this.connectedCE,i.navigation,this.historyCache,this.router.statefulHistory||this.options.stateful)),(()=>{this.previousViewportState&&Object.assign(this,this.previousViewportState),i?.delete(),null!==i&&this.contents.splice(this.contents.indexOf(i),1),this.transitionAction="",r?.contentStates.delete("checkedUnload"),r?.contentStates.delete("checkedLoad");const e=this.router.configuration.options.indicators.viewportNavigating;this.connectedCE?.setActivity?.(e,!1),this.connectedCE?.setActivity?.(t.navigation.navigation,!1),t.removeEndpoint(this),Ng(this.coordinators,(e=>e===t))}),(()=>{if(s!==e)return s?.exit()}))}wantComponent(t){return this.options.usedBy.includes(t)}acceptComponent(t){if("-"===t||null===t)return!0;const e=this.options.usedBy;return 0===e.length||!!e.includes(t)||!!e.filter((t=>t.includes("*"))).length}freeContent(t,e){const n=this.historyCache.find((t=>t.componentInstance===e));if(void 0!==n)return Bg.run(t,(t=>(this.forceRemove=!0,n.freeContent(t,null,null,this.historyCache,!1))),(()=>{this.forceRemove=!1,Ng(this.historyCache,(t=>t===n))}))}getRoutes(){const t=[];let e=this.getComponentType();return null!=e&&(e=e.constructor===e.constructor.constructor?e:e.constructor,t.push(...Vg.getConfiguration(e)??[])),t}getTitle(t){if(this.options.noTitle)return"";const e=this.getComponentType();if(null===e)return"";let n="";const s=e.title;if(void 0!==s)if("string"==typeof s)n=s;else{const e=this.getComponentInstance();n=s.call(e,e,t)}else if(this.router.configuration.options.title.useComponentNames){let t=this.getContentInstruction().component.name??"";const e=this.router.configuration.options.title.componentPrefix??"";t.startsWith(e)&&(t=t.slice(e.length)),t=t.replace("-"," "),n=t.slice(0,1).toLocaleUpperCase()+t.slice(1)}return n}getComponentType(){let t=this.getContentInstruction().component.type??null;return null===t&&(t=vh.for(this.connectedCE.element).container.componentType),t??null}getComponentInstance(){return this.getContentInstruction().component.instance??null}getContentInstruction(){return this.getNextContent()?.instruction??this.getContent().instruction??null}clearState(){this.options=Gg.create();const t=this.owningScope,e=this.scope.hasScope;if(this.getContent().delete(),this.contents.shift(),this.contents.length<1)throw new Error("no content!");this.contents.push(new Kg(this.router,this,t,e)),this.cache=[]}waitForConnected(){if(null===this.connectedCE)return new Promise((t=>{this.connectionResolve=t}))}}class Xg{constructor(){this.name=null,this.instance=null,this.scope=null}get none(){return null===this.name&&null===this.instance}get endpointType(){return this.instance instanceof Qg?"Viewport":this.instance instanceof Wg?"ViewportScope":null}static create(t){const e=new Xg;return e.set(t),e}static isName(t){return"string"==typeof t}static isInstance(t){return t instanceof kg}static getName(t){return Xg.isName(t)?t:t?t.name:null}static getInstance(t){return Xg.isName(t)?null:t}set(t){void 0!==t&&""!==t||(t=null),"string"==typeof t?(this.name=t,this.instance=null):(this.instance=t,null!==t&&(this.name=t.name,this.scope=t.owningScope))}toInstance(t){return null!==this.instance?this.instance:t.getEndpoint(this.endpointType,this.name)}same(t,e){return null!==this.instance&&null!==t.instance?this.instance===t.instance:!(null!==this.endpointType&&null!==t.endpointType&&this.endpointType!==t.endpointType||e&&this.scope!==t.scope||(null!==this.instance?this.instance.name:this.name)!==(null!==t.instance?t.instance.name:t.name))}}class Zg{constructor(t,e,n){this.ownsScope=!0,this.nextScopeInstructions=null,this.scope=null,this.scopeModifier="",this.needsEndpointDescribed=!1,this.route=null,this.routeStart=!1,this.default=!1,this.topInstruction=!1,this.unparsed=null,this.cancelled=!1,this.component=Mg.create(t),this.endpoint=Xg.create(e),this.parameters=Pg.create(n)}static create(t,e,n,s=!0,i=null){const r=new Zg(t,e,n);return r.ownsScope=s,r.nextScopeInstructions=i,r}static createClear(t,e){return Zg.create(Zg.clear(t),e)}static from(t,e){Array.isArray(e)||(e=[e]);const n=[];for(const s of e)if("string"==typeof s)n.push(...Zg.parse(t,s));else if(s instanceof Zg)n.push(s);else if(s instanceof Promise)n.push(Zg.create(s));else if(Mg.isAppelation(s))n.push(Zg.create(s));else if(Mg.isDefinition(s))n.push(Zg.create(s.Type));else if("component"in s||"id"in s){const e=s,i=Zg.create(e.component,e.viewport,e.parameters);i.route=s.id??null,void 0!==e.children&&null!==e.children&&(i.nextScopeInstructions=Zg.from(t,e.children)),n.push(i)}else if("object"==typeof s&&null!==s){const t=vh.define(s);n.push(Zg.create(t))}else n.push(Zg.create(s));return n}static clear(t){return Ig.for(t).clear}static add(t){return Ig.for(t).add}static parse(t,e){const n=Ig.for(t);let s="";const i=/^[./]+/.exec(e);Array.isArray(i)&&i.length>0&&(s=i[0],e=e.slice(s.length));const r=$g.parse(n,e,!0,!0).instructions;for(const t of r)t.scopeModifier=s;return r}static stringify(t,e,n=!1,s=!1){return"string"==typeof e?e:e.map((e=>e.stringify(t,n,s))).filter((t=>t.length>0)).join(Ig.for(t).sibling)}static resolve(t){const e=t.filter((t=>t.isUnresolved)).map((t=>t.resolve())).filter((t=>t instanceof Promise));if(e.length>0)return Promise.all(e)}static containsSiblings(t,e){return null!==e&&(e.filter((e=>!e.isClear(t)&&!e.isClearAll(t))).length>1||e.some((e=>Zg.containsSiblings(t,e.nextScopeInstructions))))}static flat(t){const e=[];for(const n of t)e.push(n),n.hasNextScopeInstructions&&e.push(...Zg.flat(n.nextScopeInstructions));return e}static clone(t,e=!1,n=!1){return t.map((t=>t.clone(e,n)))}static contains(t,e,n,s){return n.every((n=>n.isIn(t,e,s)))}get viewport(){return this.endpoint.instance instanceof Qg||null===this.endpoint.endpointType?this.endpoint:null}get viewportScope(){return this.endpoint.instance instanceof Wg||null===this.endpoint.endpointType?this.endpoint:null}get previous(){return this.endpoint.instance?.getContent()?.instruction}isAdd(t){return this.component.name===Ig.for(t).add}isClear(t){return this.component.name===Ig.for(t).clear}isAddAll(t){return this.isAdd(t)&&0===(this.endpoint.name?.length??0)}isClearAll(t){return this.isClear(t)&&0===(this.endpoint.name?.length??0)}get hasNextScopeInstructions(){return(this.nextScopeInstructions?.length??0)>0}get isUnresolved(){return this.component.isFunction()||this.component.isPromise()}resolve(){return this.component.resolve(this)}typeParameters(t){return this.parameters.toSpecifiedParameters(t,this.component.type?.parameters??[])}sameRoute(t){const e=this.route?.match,n=t.route?.match;return null!=e&&null!=n&&("string"==typeof e||"string"==typeof n?e===n:e.id===n.id)}sameComponent(t,e,n=!1,s=!1){return!(n&&!this.sameParameters(t,e,s))&&this.component.same(e.component,s)}sameEndpoint(t,e){return this.endpoint.same(t.endpoint,e)}sameParameters(t,e,n=!1){return!!this.component.same(e.component,n)&&this.parameters.same(t,e.parameters,this.component.type)}stringify(t,e=!1,n=!1,s=!1){const i=Ig.for(t);let r=e,o=!1;if(n){const t=this.viewport?.instance??null;if(t?.options.noLink)return"";this.needsEndpointDescribed||t?.options.forceDescription&&null==this.viewportScope?.instance||(r=!0),t?.options.fallback===this.component.name&&(o=!0),t?.options.default===this.component.name&&(o=!0)}const a=this.nextScopeInstructions;let c=this.scopeModifier;if(this.route instanceof Sg&&!this.routeStart)return!s&&Array.isArray(a)?Zg.stringify(t,a,e,n):"";const h=this.stringifyShallow(t,r,o);if(c+=h.endsWith(i.scope)?h.slice(0,-i.scope.length):h,!s&&Array.isArray(a)&&a.length>0){const s=Zg.stringify(t,a,e,n);s.length>0&&(c+=i.scope,c+=1===a.length?s:`${i.groupStart}${s}${i.groupEnd}`)}return c}clone(t=!1,e=!1,n=!1){const s=Zg.create(this.component.func??this.component.promise??this.component.type??this.component.name,this.endpoint.name,null!==this.parameters.typedParameters?this.parameters.typedParameters:void 0);return t&&(s.component.set(this.component.instance??this.component.type??this.component.name),s.endpoint.set(this.endpoint.instance??this.endpoint.name)),s.component.name=this.component.name,s.needsEndpointDescribed=this.needsEndpointDescribed,s.route=this.route,s.routeStart=this.routeStart,s.default=this.default,e&&(s.scopeModifier=this.scopeModifier),s.scope=t?this.scope:null,this.hasNextScopeInstructions&&!n&&(s.nextScopeInstructions=Zg.clone(this.nextScopeInstructions,t,e)),s}isIn(t,e,n){const s=e.filter((e=>{if(null!=this.route||null!=e.route){if(!e.sameRoute(this))return!1}else if(!e.sameComponent(t,this))return!1;const n=e.component.type??this.component.type,s=this.component.type??e.component.type,i=e.parameters.toSpecifiedParameters(t,n?.parameters),r=this.parameters.toSpecifiedParameters(t,s?.parameters);return!!Pg.contains(i,r)&&(this.endpoint.none||e.sameEndpoint(this,!1))}));return!(0===s.length||n&&this.hasNextScopeInstructions&&!s.some((e=>Zg.contains(t,e.nextScopeInstructions??[],this.nextScopeInstructions,n))))}getTitle(t){if(this.route instanceof Sg){const e=this.route.match?.title;if(null!=e)return this.routeStart?"string"==typeof e?e:e(this,t):""}return this.endpoint.instance.getTitle(t)}toJSON(){return{component:this.component.name??void 0,viewport:this.endpoint.name??void 0,parameters:this.parameters.parametersRecord??void 0,children:this.hasNextScopeInstructions?this.nextScopeInstructions:void 0}}stringifyShallow(t,e=!1,n=!1){if(null!=this.route)return(this.route instanceof Sg?this.route.matching:this.route).split("/").map((e=>e.startsWith(":")?this.parameters.get(t,e.slice(1)):e)).join("/");const s=Ig.for(t);let i=n?"":this.component.name??"";const r=this.component.type?this.component.type.parameters:null,o=Pg.stringify(t,this.parameters.toSortedParameters(t,r));return o.length>0&&(i+=n?o:`${s.parameters}${o}${s.parametersEnd}`),null==this.endpoint.name||e||(i+=`${s.viewport}${this.endpoint.name}`),this.ownsScope||(i+=s.noScope),i||""}}class Yg{constructor(t,e){this.eventName=t,this.navigation=e}static create(t){return new Yg(Yg.eventName,t)}}Yg.eventName="au:router:navigation-navigate";let Jg=class{constructor(t,e){this.ea=t,this.container=e,this.lastNavigationIndex=-1,this.navigations=[],this.options={statefulHistoryLength:0},this.isActive=!1,this.uninitializedNavigation=Hg.create({instruction:"NAVIGATOR UNINITIALIZED",fullStateInstruction:"",index:0,completed:!0}),this.lastNavigationIndex=-1}start(t){if(this.isActive)throw new Error("Navigator has already been started");this.isActive=!0,this.options={...t}}stop(){if(!this.isActive)throw new Error("Navigator has not been started");this.isActive=!1}navigate(t){t instanceof Hg||(t=Hg.create(t));const e=new _g;return-1===this.lastNavigationIndex&&(this.loadState(),-1!==this.lastNavigationIndex?e.refresh=!0:(e.first=!0,e.new=!0,this.lastNavigationIndex=0,this.navigations=[Hg.create({index:0,instruction:"",fullStateInstruction:""})])),void 0===t.index||t.replacing||t.refreshing?t.refreshing||e.refresh?((t=this.navigations[this.lastNavigationIndex]).replacing=!0,t.refreshing=!0):t.replacing?(e.replace=!0,e.new=!0,t.index=this.lastNavigationIndex):(e.new=!0,t.index=this.lastNavigationIndex+1,this.navigations[t.index]=t):(t.historyMovement=t.index-Math.max(this.lastNavigationIndex,0),t.instruction=null!=this.navigations[t.index]?this.navigations[t.index].fullStateInstruction:t.fullStateInstruction,t.replacing=!0,t.historyMovement>0?e.forward=!0:t.historyMovement<0&&(e.back=!0)),t.navigation=e,t.previous=this.navigations[Math.max(this.lastNavigationIndex,0)],t.process=new Lg,this.lastNavigationIndex=t.index,this.notifySubscribers(t),t.process.promise}async finalize(t,e){if(t.untracked)t.fromBrowser&&null!=this.options.store&&await this.options.store.popNavigatorState();else if(t.replacing)0===(t.historyMovement??0)&&(this.navigations[t.previous.index]=t),await this.saveState(t.index,!1);else{const n=t.index;if(e&&(this.navigations=this.navigations.slice(0,n)),this.navigations[n]=t,(this.options.statefulHistoryLength??0)>0){const t=this.navigations.length-(this.options.statefulHistoryLength??0);for(const e of this.navigations.slice(n))"string"==typeof e.instruction&&"string"==typeof e.fullStateInstruction||await this.serializeNavigation(e,this.navigations.slice(t,n))}await this.saveState(t.index,!t.fromBrowser)}}async cancel(t){null!=this.options.store&&(t.navigation?.new?t.fromBrowser&&await this.options.store.popNavigatorState():0!==(t.historyMovement??0)&&await this.options.store.go(-t.historyMovement,!0))}async go(t){let e=this.lastNavigationIndex+t;e=Math.min(e,this.navigations.length-1),await this.options.store.go(t,!0);const n=this.navigations[e];return this.navigate(n)}getState(){const t=null!=this.options.store?{...this.options.store.state}:{};return{navigations:t?.navigations??[],navigationIndex:t?.navigationIndex??-1}}loadState(){const{navigations:t,navigationIndex:e}=this.getState();this.navigations=t.map((t=>Hg.create(t))),this.lastNavigationIndex=e}async saveState(t,e){for(let t=0;t<this.navigations.length;t++)this.navigations[t]=Hg.create(this.navigations[t].toStoredNavigation());if((this.options.statefulHistoryLength??0)>0){const t=this.navigations.length-(this.options.statefulHistoryLength??0);for(let e=0;e<t;e++){const n=this.navigations[e];"string"==typeof n.instruction&&"string"==typeof n.fullStateInstruction||await this.serializeNavigation(n,this.navigations.slice(t))}}if(null==this.options.store)return Promise.resolve();const n={navigations:(this.navigations??[]).map((t=>this.toStoreableNavigation(t))),navigationIndex:t};return e?this.options?.store?.pushNavigatorState(n):this.options.store.replaceNavigatorState(n)}async refresh(){if(-1===this.lastNavigationIndex)return Promise.reject();const t=this.navigations[this.lastNavigationIndex];return t.replacing=!0,t.refreshing=!0,this.navigate(t)}notifySubscribers(t){this.ea.publish(Yg.eventName,Yg.create(t))}toStoreableNavigation(t){const e=t instanceof Hg?t.toStoredNavigation():t;return e.instruction=Zg.stringify(this.container,e.instruction),e.fullStateInstruction=Zg.stringify(this.container,e.fullStateInstruction,!1,!0),"string"!=typeof e.scope&&(e.scope=null),e}async serializeNavigation(t,e){let n=[];for(const t of e)"string"!=typeof t.instruction&&n.push(...Zg.flat(t.instruction).filter((t=>null!==t.endpoint.instance)).map((t=>t.component.instance))),"string"!=typeof t.fullStateInstruction&&n.push(...Zg.flat(t.fullStateInstruction).filter((t=>null!==t.endpoint.instance)).map((t=>t.component.instance)));n=jg(n);let s=[];"string"!=typeof t.fullStateInstruction&&(s.push(...t.fullStateInstruction),t.fullStateInstruction=Zg.stringify(this.container,t.fullStateInstruction,!1,!0)),"string"!=typeof t.instruction&&(s.push(...t.instruction),t.instruction=Zg.stringify(this.container,t.instruction)),s=s.filter(((t,e,n)=>null!=t.component.instance&&n.indexOf(t)===e));const i=[];for(const t of s)await this.freeInstructionComponents(t,n,i)}freeInstructionComponents(t,e,n){const s=t.component.instance,i=t.viewport?.instance??null;if(null!==s&&null!==i&&!n.some((t=>t===s))){if(!e.some((t=>t===s)))return Bg.run(null,(t=>i.freeContent(t,s)),(()=>{n.push(s)}));if(t.hasNextScopeInstructions)for(const s of t.nextScopeInstructions)return this.freeInstructionComponents(s,e,n)}}};Jg=Ag([xg(0,Ie),xg(1,Kt)],Jg);class tm extends Array{constructor(){super(...arguments),this.currentIndex=-1}next(){return this.length>this.currentIndex+1?this[++this.currentIndex]:(this.currentIndex=-1,null)}removeCurrent(){this.splice(this.currentIndex--,1)}remove(t){Ng(this,(e=>e===t))}}class em{static matchEndpoints(t,e,n,s=!1){const i=[],r=t.getOwnedRoutingScopes(1/0).map((t=>t.endpoint)).filter((t=>null!==t&&!n.some((e=>t===e.endpoint.instance&&!e.cancelled)))),o=new tm(...e.slice());let a=null;for(em.matchKnownEndpoints(t.router,"ViewportScope",o,r,i,!1),s||em.matchKnownEndpoints(t.router,"Viewport",o,r,i,!1),em.matchViewportScopeSegment(t.router,t,o,r,i);null!==(a=o.next());)a.needsEndpointDescribed=!0;return em.matchViewportConfiguration(o,r,i),s||em.matchSpecifiedViewport(o,r,i,!1),em.matchLastViewport(o,r,i),s&&em.matchSpecifiedViewport(o,r,i,!1),{matchedInstructions:i,remainingInstructions:[...o]}}static matchKnownEndpoints(t,e,n,s,i,r=!1){let o;for(;null!==(o=n.next());)null===o.endpoint.instance||o.isAdd(t)||o.endpoint.endpointType!==e||(em.matchEndpoint(o,o.endpoint.instance,r),i.push(o),Ng(s,(t=>t===o.endpoint.instance)),n.removeCurrent())}static matchViewportScopeSegment(t,e,n,s,i){let r;for(;null!==(r=n.next());)for(let o of s)if(o instanceof Wg&&o.acceptSegment(r.component.name)){if(Array.isArray(o.source)){let n=s.find((t=>t instanceof Wg&&t.name===o.name));if(void 0===n||r.isAdd(t)){const t=o.addSourceItem();n=e.getOwnedScopes().filter((t=>t.isViewportScope)).map((t=>t.endpoint)).find((e=>e.sourceItem===t))}o=n}em.matchEndpoint(r,o,!1),i.push(r),Ng(s,(t=>t===r.endpoint.instance)),n.removeCurrent();break}}static matchViewportConfiguration(t,e,n){let s;for(;null!==(s=t.next());)for(const i of e)if(i instanceof Qg&&i?.wantComponent(s.component.name)){em.matchEndpoint(s,i,!0),n.push(s),Ng(e,(t=>t===s.endpoint.instance)),t.removeCurrent();break}}static matchSpecifiedViewport(t,e,n,s){let i;for(;null!==(i=t.next());){let r=i.endpoint.instance;if(null==r){const t=i.endpoint.name;if(0===(t?.length??0))continue;for(const n of e)if(n instanceof Qg&&t===n.name){r=n;break}}r?.acceptComponent(i.component.name)&&(em.matchEndpoint(i,r,s),n.push(i),Ng(e,(t=>t===i.endpoint.instance)),t.removeCurrent())}}static matchLastViewport(t,e,n){let s;for(;null!==(s=t.next());){const i=[];for(const t of e)t instanceof Qg&&t.acceptComponent(s.component.name)&&i.push(t);if(1===i.length){const r=i[0];em.matchEndpoint(s,r,!0),n.push(s),Ng(e,(t=>t===s.endpoint.instance)),t.removeCurrent()}}}static matchEndpoint(t,e,n){t.endpoint.set(e),n&&(t.needsEndpointDescribed=!1),t.hasNextScopeInstructions&&t.nextScopeInstructions.forEach((t=>{null===t.scope&&(t.scope=e instanceof Qg?e.scope:e.scope.scope)}))}}class nm{constructor(t,e,n,s){this.router=t,this.hasScope=e,this.owningScope=n,this.endpointContent=s,this.id=-1,this.parent=null,this.children=[],this.id=++nm.lastId,this.owningScope=n??this}static for(t,e){if(null==t)return{scope:null,instruction:e};if(t instanceof nm||t instanceof Qg||t instanceof Wg)return{scope:t.scope,instruction:e};let n;if("res"in t)n=t;else if("container"in t)n=t.container;else if("$controller"in t)n=t.$controller.container;else{const e=vh.for(t,{searchParents:!0});n=e?.container}if(null==n)return{scope:null,instruction:e};const s=n.has(pm.closestEndpointKey,!0)?n.get(pm.closestEndpointKey):null;let i=s?.scope??null;if(null===i||void 0===e){const t=e??"";return{scope:i,instruction:t.startsWith("/")?t.slice(1):e}}if(e.startsWith("/"))return{scope:null,instruction:e.slice(1)};for(;e.startsWith(".");)if(e.startsWith("./"))e=e.slice(2);else{if(!e.startsWith("../"))break;i=i.parent??i,e=e.slice(3)}return{scope:i,instruction:e}}get scope(){return this.hasScope?this:this.owningScope.scope}get endpoint(){return this.endpointContent.endpoint}get isViewport(){return this.endpoint instanceof Qg}get isViewportScope(){return this.endpoint instanceof Wg}get type(){return this.isViewport?"Viewport":"ViewportScope"}get enabled(){return this.endpointContent.isActive}get passThroughScope(){return this.isViewportScope&&this.endpoint.passThroughScope}get pathname(){return`${this.owningScope!==this?this.owningScope.pathname:""}/${this.endpoint.name}`}get path(){return`${this.parent?.path??""}${this.routingInstruction?.stringify(this.router,!1,!0,!0)??""}${this.routingInstruction?Ig.for(this.router).scope:""}`}toString(t=!1){return`${this.owningScope!==this?this.owningScope.toString():""}/${this.enabled?"":"("}${this.endpoint.toString()}#${this.id}${this.enabled?"":")"}`+(t?"\n"+this.children.map((t=>t.toString(!0))).join(""):"")}toStringOwning(t=!1){return`${this.owningScope!==this?this.owningScope.toString():""}/${this.enabled?"":"("}${this.endpoint.toString()}#${this.id}${this.enabled?"":")"}`+(t?"\n"+this.ownedScopes.map((t=>t.toStringOwning(!0))).join(""):"")}get enabledChildren(){return this.children.filter((t=>t.enabled))}get hoistedChildren(){const t=this.enabledChildren;for(;t.some((t=>t.passThroughScope));)for(const e of t.slice())if(e.passThroughScope){const n=t.indexOf(e);t.splice(n,1,...e.enabledChildren)}return t}get ownedScopes(){return this.getOwnedScopes()}get routingInstruction(){return this.endpoint.isViewportScope?this.endpoint.instruction:this.isViewport?this.endpoint.activeContent.instruction:null}getOwnedScopes(t=!1){const e=this.allScopes(t).filter((t=>t.owningScope===this));for(const t of e.slice())if(t.passThroughScope){const n=e.indexOf(t);e.splice(n,1,...t.getOwnedScopes())}return e}async processInstructions(t,e,n,s,i=""){const r=this.router,o=r.configuration.options,a=t.filter((t=>!(t.route instanceof Fg)));if(a.length>0){const e=this.findInstructions(a,o.useDirectRouting,o.useConfiguredRoutes);!a.some((t=>!t.component.none||null!=t.route))||e.foundConfiguration||e.foundInstructions||this.unknownRoute(a),(t=[...t.filter((t=>t.route instanceof Fg)),...e.instructions]).some((t=>t.scope!==this))&&console.warn("Not the current scope for instruction(s)!",this,t),e.foundConfiguration&&(i=(i??"")+e.matching)}const c=Zg.resolve(t);c instanceof Promise&&await c,o.additiveInstructionDefault||(t=this.ensureClearStateInstruction(t));let h=[];({clearEndpoints:h,instructions:t}=this.getClearAllEndpoints(t));for(const e of t.filter((t=>t.isAddAll(r))))e.endpoint.set(e.scope.endpoint.name),e.scope=e.scope.owningScope;let l=[],{matchedInstructions:u,remainingInstructions:f}=this.matchEndpoints(t,e),d=100;do{d--||r.unresolvedInstructionsError(n,f);const o=[],a=u.map((t=>t.endpoint.instance));u.push(...h.filter((t=>!a.includes(t))).map((t=>Zg.createClear(r,t))));const c=await lm.invokeBeforeNavigation(u,n);if(!1===c)return r.cancelNavigation(n,s),[];if(!0!==c&&c!==u){const t=Zg.flat(u);f=f.filter((e=>!t.includes(e))),u=c}for(const t of u){const a=t.endpoint.instance;if(null!==a){const c=a.setNextContent(t,n);"skip"!==c&&(o.push(a),s.addEndpoint(a));const f=[a];if("swap"===c&&f.push(...a.getContent().connectedScope.allScopes(!0).map((t=>t.endpoint))),Ng(h,(t=>f.includes(t))),Ng(u,(e=>e!==t&&e.isClear(r)&&f.includes(e.endpoint.instance))),!t.isClear(r)&&t.scope?.parent?.isViewportScope&&(Ng(h,(e=>e===t.scope.parent.endpoint)),Ng(u,(e=>e!==t&&e.isClear(r)&&e.endpoint.instance===t.scope.parent.endpoint))),"skip"!==c&&t.hasNextScopeInstructions)for(const e of t.nextScopeInstructions)e.scope=a.scope,e.endpoint.instance=null;"skip"!==c||t.hasNextScopeInstructions||l.push(...await a.scope.processInstructions([],e,n,s,i))}}const p=u.filter((t=>"skip"===t.endpoint.instance?.transitionAction)),g=p.filter((t=>t.hasNextScopeInstructions));if((0===p.length||0===g.length)&&(r.isRestrictedNavigation||s.finalEndpoint(),s.run(),s.hasAllEndpoints)){const t=s.waitForSyncState("guardedUnload");t instanceof Promise&&await t}if(s.cancelled)return r.cancelNavigation(n,s),[];for(const t of o)l.every((e=>e!==t))&&l.push(t);if(e.push(...u.splice(0)),f.length>0&&({matchedInstructions:u,remainingInstructions:f}=this.matchEndpoints(f,e)),!r.isRestrictedNavigation&&(u.length>0||f.length>0)&&s.running){const t=s.waitForSyncState("swapped");t instanceof Promise&&await t}if(0===u.length&&0===f.length){const r=[];for(const o of t){if(!o.hasNextScopeInstructions)continue;const t=o.endpoint.instance?.scope??o.endpoint.scope;r.push(t.processInstructions(o.nextScopeInstructions,e,n,s,i))}l.push(...(await Promise.all(r)).flat())}if(({matchedInstructions:u,remainingInstructions:f}=s.dequeueAppendedInstructions(u,e,f)),0===u.length&&0===f.length){const t=e.map((t=>t.endpoint.instance?.connectedCE.pendingPromise?.promise)).filter((t=>null!=t));t.length>0?(await Promise.any(t),({matchedInstructions:u,remainingInstructions:f}=s.dequeueAppendedInstructions(u,e,f))):u=h.map((t=>Zg.createClear(r,t)))}const m=Zg.resolve(u);m instanceof Promise&&await m,l=l.filter((t=>![...e].reverse().find((e=>e.endpoint.instance===t))?.cancelled))}while(u.length>0||f.length>0);return l}unknownRoute(t){const e=this.router.configuration.options,n=Zg.stringify(this.router,t);throw null!=t[0].route?e.useConfiguredRoutes?new Error("No matching configured route found for '"+n+"'."):new Error("Can not match '"+n+"' since the router is configured to not use configured routes."):e.useConfiguredRoutes&&e.useDirectRouting?new Error("No matching configured route or component found for '"+n+"'."):e.useConfiguredRoutes?new Error("No matching configured route found for '"+n+"'."):new Error("No matching route/component found for '"+n+"'.")}ensureClearStateInstruction(t){const e=this.router;if(!t.some((t=>t.isClearAll(e)))){const n=Zg.create(Zg.clear(e));return n.scope=this,[n,...t]}return t}getClearAllEndpoints(t){const e=this.router;let n=[];return t.some((t=>(t.scope??this)===this&&t.isClearAll(e)))&&(n=this.enabledChildren.filter((t=>!t.endpoint.isEmpty)).map((t=>t.endpoint)),t=t.filter((t=>!((t.scope??this)===this&&t.isClearAll(e))))),{clearEndpoints:n,instructions:t}}findInstructions(t,e,n){const s=this.router;let i=new Sg;if(n&&!Zg.containsSiblings(s,t)){let n=t.filter((t=>t.isClear(s)||t.isClearAll(s)));const r=t.filter((t=>!t.isClear(s)&&!t.isClearAll(s)));if(r.length>0)for(const o of r){const r="string"==typeof o.route?o.route:o.unparsed??Zg.stringify(s,[o]),a=this.findMatchingRoute(r,o.parameters.parametersRecord??{});if(a.foundConfiguration)i=a,i.instructions=[...n,...i.instructions],n=[];else{if(!e)throw new Error(`No route found for: ${Zg.stringify(s,t)}!`);i.instructions=[...n,...i.instructions,o],n=[],i.remaining=Zg.stringify(s,o.nextScopeInstructions??[])}}else i.instructions=[...n]}else{if(!e)throw new Error(`No way to process sibling viewport routes with direct routing disabled: ${Zg.stringify(s,t)}!`);i.instructions.push(...t)}i.instructions=i.instructions.filter((t=>""!==t.component.name));for(const t of i.instructions)null===t.scope&&(t.scope=this);return i}matchEndpoints(t,e,n=!1){const s=[],i=t.filter((t=>(t.scope??this)===this)),r=t.filter((t=>(t.scope??this)!==this)),{matchedInstructions:o,remainingInstructions:a}=em.matchEndpoints(this,i,e,n);return s.push(...o),r.push(...a),{matchedInstructions:s,remainingInstructions:r}}addEndpoint(t,e,n,s={}){let i=this.getOwnedScopes().find((n=>n.type===t&&n.endpoint.name===e))?.endpoint??null;return null!=n&&null!=i?.connectedCE&&i.connectedCE!==n&&(i=this.getOwnedScopes(!0).find((s=>s.type===t&&s.endpoint.name===e&&s.endpoint.connectedCE===n))?.endpoint??null),null==i&&(i="Viewport"===t?new Qg(this.router,e,n,this.scope,!!s.scope,s):new Wg(this.router,e,n,this.scope,!0,null,s),this.addChild(i.connectedScope)),null!=n&&i.setConnectedCE(n,s),i}removeEndpoint(t,e,n){return!(null===(n??null)&&!e.removeEndpoint(t,n)||(this.removeChild(e.connectedScope),0))}addChild(t){this.children.some((e=>e===t))||(null!==t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this)}removeChild(t){const e=this.children.indexOf(t);e>=0&&(this.children.splice(e,1),t.parent=null)}allScopes(t=!1){const e=t?this.children.slice():this.enabledChildren;for(const n of e.slice())e.push(...n.allScopes(t));return e}reparentRoutingInstructions(){const t=this.hoistedChildren.filter((t=>null!==t.routingInstruction&&t.routingInstruction.component.name));if(!t.length)return null;for(const e of t){const t=e.reparentRoutingInstructions();e.routingInstruction.nextScopeInstructions=null!==t&&t.length>0?t:null}return t.map((t=>t.routingInstruction))}getChildren(t){return this.children.map((e=>e.endpoint.getTimeContent(t))).filter((t=>null!==t)).map((t=>t.connectedScope))}getAllRoutingScopes(t){const e=this.getChildren(t);for(const n of e.slice())e.push(...n.getAllRoutingScopes(t));return e}getOwnedRoutingScopes(t){const e=this.getAllRoutingScopes(t).filter((t=>t.owningScope===this));for(const n of e.slice())if(n.passThroughScope){const s=e.indexOf(n);e.splice(s,1,...n.getOwnedRoutingScopes(t))}return jg(e)}getRoutingInstructions(t){const e=jg(this.getOwnedRoutingScopes(t).map((t=>t.endpoint))).map((e=>e.getTimeContent(t))).filter((t=>null!==t)),n=[];for(const s of e){const e=s.instruction.clone(!0,!1,!1);""!==(e.component.name??"")&&(e.nextScopeInstructions=s.connectedScope.getRoutingInstructions(t),n.push(e))}return n}canUnload(t,e){return Bg.run(e,(e=>Bg.runParallel(e,...this.children.map((e=>null!==e.endpoint?n=>e.endpoint.canUnload(t,n):n=>e.canUnload(t,n))))),(t=>t.previousValue.every((t=>t))))}unload(t,e){return Bg.runParallel(e,...this.children.map((e=>null!==e.endpoint?n=>e.endpoint.unload(t,n):n=>e.unload(t,n))))}matchScope(t,e=!1){const n=[];for(const s of t)s.scope===this?n.push(s):e&&s.hasNextScopeInstructions&&n.push(...this.matchScope(s.nextScopeInstructions,e));return n}findMatchingRoute(t,e){let n=new Sg;if(this.isViewportScope&&!this.passThroughScope)n=this.findMatchingRouteInRoutes(t,this.endpoint.getRoutes(),e);else if(this.isViewport)n=this.findMatchingRouteInRoutes(t,this.endpoint.getRoutes(),e);else for(const s of this.enabledChildren)if(n=s.findMatchingRoute(t,e),n.foundConfiguration)break;return n.foundConfiguration?n:null!=this.parent?this.parent.findMatchingRoute(t,e):n}findMatchingRouteInRoutes(t,e,n){const s=new Sg;if(0===e.length)return s;e=e.map((t=>this.ensureProperRoute(t)));const i=[];for(const t of e){const e=Array.isArray(t.path)?t.path:[t.path];for(const n of e)i.push({...t,path:n,handler:t}),""!==n&&i.push({...t,path:`${n}/*remainingPath`,handler:t})}(t.startsWith("/")||t.startsWith("+"))&&(t=t.slice(1));const r=e.find((e=>e.id===t));let o={params:{},endpoint:{}};if(null!=r){o.endpoint={route:{handler:r}};const e=(t=Array.isArray(r.path)?r.path[0]:r.path).split("/").map((t=>{if(t.startsWith(":")){const e=t.slice(1).replace(/\?$/,""),s=n[e];return o.params[e]=s,s}return t}));t=e.join("/")}else{const e=new class{constructor(){this.rootState=new gg(null,null,""),this.cache=new Map,this.endpointLookup=new Map}add(t,e=!1){let n,s;if(t instanceof Array)for(const i of t)s=this.$add(i,!1),n=s.params,e&&!n[n.length-1]?.isStar&&(s.residualEndpoint=this.$add({...i,path:`${i.path}/*${pg}`},!0));else s=this.$add(t,!1),n=s.params,e&&!n[n.length-1]?.isStar&&(s.residualEndpoint=this.$add({...t,path:`${t.path}/*${pg}`},!0));this.cache.clear()}$add(t,e){const n=t.path,s=this.endpointLookup;if(s.has(n))throw yg(`Cannot add duplicate path '${n}'.`);const i=new ag(n,!0===t.caseSensitive,t.handler),r=""===n?[""]:n.split("/").filter(mg),o=[];let a=this.rootState;for(const t of r)switch(a=a.append(null,"/"),t.charAt(0)){case":":{const e=t.endsWith("?"),n=e?t.slice(1,-1):t.slice(1);if(n===pg)throw new Error(`Invalid parameter name; usage of the reserved parameter name '${pg}' is used.`);o.push(new og(n,e,!1)),a=new bg(n,e).appendTo(a);break}case"*":{const n=t.slice(1);let s;if(n===pg){if(!e)throw new Error(`Invalid parameter name; usage of the reserved parameter name '${pg}' is used.`);s=1}else s=2;o.push(new og(n,!0,!0)),a=new wg(n,s).appendTo(a);break}default:a=new vg(t,i.caseSensitive).appendTo(a)}const c=new cg(i,o);return a.setEndpoint(c),s.set(n,c),c}recognize(t){let e=this.cache.get(t);return void 0===e&&this.cache.set(t,e=this.$recognize(t)),e}$recognize(t){(t=decodeURI(t)).startsWith("/")||(t=`/${t}`),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1));const e=new dg(this.rootState);for(let n=0,s=t.length;n<s;++n){const s=t.charAt(n);if(e.advance(s),e.isEmpty)return null}const n=e.getSolution();if(null===n)return null;const{endpoint:s}=n,i=n.getParams();return new hg(s,i)}getEndpoint(t){return this.endpointLookup.get(t)??null}};e.add(i),o=e.recognize(t)}if(null!=o){s.match=o.endpoint.route.handler,s.matching=t;const i={...o.params};if(null!=i.remainingPath&&(s.remaining=i.remainingPath,Reflect.deleteProperty(i,"remainingPath"),s.matching=s.matching.slice(0,s.matching.indexOf(s.remaining))),s.params=i,null!=s.match?.redirectTo){let t=s.match?.redirectTo;return(s.remaining??"").length>0&&(t+=`/${s.remaining}`),this.findMatchingRouteInRoutes(t,e,n)}}if(s.foundConfiguration){s.instructions=Zg.clone(s.match.instructions,!1,!0);const t=s.instructions.slice();for(;t.length>0;){const e=t.shift();e.parameters.addParameters(s.params),e.route=s,e.hasNextScopeInstructions&&t.unshift(...e.nextScopeInstructions)}s.instructions.length>0&&(s.instructions[0].routeStart=!0);const e=Zg.parse(this.router,s.remaining);if(e.length>0){let t=s.instructions[0];for(;t.hasNextScopeInstructions;)t=t.nextScopeInstructions[0];t.nextScopeInstructions=e}}return s}ensureProperRoute(t){return void 0===t.id&&(t.id=Array.isArray(t.path)?t.path.join(","):t.path),void 0===t.instructions&&(t.instructions=[{component:t.component,viewport:t.viewport,parameters:t.parameters,children:t.children}]),null===t.redirectTo&&(t.instructions=Zg.from(this.router,t.instructions)),t}}nm.lastId=0;class sm{constructor(t,e,n=0){this.taskQueue=t,this.item=e,this.cost=n,this.done=!1,this.promise=new Promise(((t,e)=>{this.resolve=()=>{this.taskQueue.resolve(this,t)},this.reject=t=>{this.taskQueue.reject(this,e,t)}}))}async execute(){"execute"in this.item?await this.item.execute(this):await this.item(this)}wait(){return this.promise}}class im{get isActive(){return null!==this.task}constructor(t){this.callback=t,this.pending=[],this.processing=null,this.allowedExecutionCostWithinTick=null,this.currentExecutionCostInCurrentTick=0,this.platform=null,this.task=null,this.dequeue=t=>{null===this.processing&&(void 0!==t&&(this.currentExecutionCostInCurrentTick=0),0!==this.pending.length&&(null!==this.allowedExecutionCostWithinTick&&void 0===t&&this.currentExecutionCostInCurrentTick+(this.pending[0].cost||0)>this.allowedExecutionCostWithinTick||(this.processing=this.pending.shift()||null,this.processing&&(this.currentExecutionCostInCurrentTick+=this.processing.cost??0,void 0!==this.callback?this.callback(this.processing):this.processing.execute().catch((t=>{throw t}))))))}}get length(){return this.pending.length}start(t){this.platform=t.platform,this.allowedExecutionCostWithinTick=t.allowedExecutionCostWithinTick,this.task=this.platform.domWriteQueue.queueTask(this.dequeue,{persistent:!0})}stop(){this.task.cancel(),this.task=null,this.allowedExecutionCostWithinTick=null,this.clear()}enqueue(t,e){const n=Array.isArray(t),s=n?t:[t],i=s.map(((t,n)=>Array.isArray(e)?e[n]:e)).map((t=>void 0!==t?t:1)),r=[];for(const t of s)r.push(t instanceof sm?t:this.createQueueTask(t,i.shift()));return this.pending.push(...r),this.dequeue(),n?r:r[0]}createQueueTask(t,e){return new sm(this,t,e)}clear(){this.pending.length=0}resolve(t,e){e(),this.processing=null,this.dequeue()}reject(t,e,n){e(n),this.processing=null,this.dequeue()}}let rm=class{constructor(t,e,n,s,i){this.platform=t,this.window=e,this.history=n,this.location=s,this.ea=i,this.allowedExecutionCostWithinTick=2,this.isActive=!1,this.options={useUrlFragmentHash:!0},this.forwardedState={eventTask:null,suppressPopstate:!1},this.pendingCalls=new im}start(t){if(this.isActive)throw new Error("Browser navigation has already been started");this.isActive=!0,null!=t.useUrlFragmentHash&&(this.options.useUrlFragmentHash=t.useUrlFragmentHash),this.pendingCalls.start({platform:this.platform,allowedExecutionCostWithinTick:this.allowedExecutionCostWithinTick}),this.window.addEventListener("popstate",this)}stop(){if(!this.isActive)throw new Error("Browser navigation has not been started");this.window.removeEventListener("popstate",this),this.pendingCalls.stop(),this.options={useUrlFragmentHash:!0},this.isActive=!1}get length(){return this.history.length}get state(){return this.history.state}get viewerState(){const{pathname:t,search:e,hash:n}=this.location,s=this.options.useUrlFragmentHash?n.slice(1):`${t}${e}`,i=this.options.useUrlFragmentHash?n.slice(1).includes("#")?n.slice(n.slice(1).indexOf("#",1)):"":n.slice(1);return new om(t,e.slice(1),i,s)}async go(t,e=!1){const n=this.pendingCalls.createQueueTask((t=>t.resolve()),1);return this.pendingCalls.enqueue([t=>{const s=n,i=e;this.forwardState({eventTask:s,suppressPopstate:i}),t.resolve()},e=>{const n=this.history,s=t;n.go(s),e.resolve()}],[0,1]),n.wait()}async pushNavigatorState(t){const{title:e,path:n}=t.navigations[t.navigationIndex],s=this.options.useUrlFragmentHash?"#/":"";return this.pendingCalls.enqueue((i=>{const r=this.history,o=t,a=e||"",c=`${s}${n}`;try{r.pushState(o,a,c),this.setTitle(a)}catch(t){const e=this.tryCleanState(o,"push",t);r.pushState(e,a,c),this.setTitle(a)}i.resolve()}),1).wait()}async replaceNavigatorState(t,e,n){const s=t.navigations[t.navigationIndex];e??(e=s.title),n??(n=s.path);const i=this.options.useUrlFragmentHash?"#/":"";return this.pendingCalls.enqueue((s=>{const r=this.history,o=t,a=e||"",c=`${i}${n}`;try{r.replaceState(o,a,c),this.setTitle(a)}catch(t){const e=this.tryCleanState(o,"replace",t);r.replaceState(e,a,c),this.setTitle(a)}s.resolve()}),1).wait()}async popNavigatorState(){const t=this.pendingCalls.createQueueTask((t=>t.resolve()),1);return this.pendingCalls.enqueue((async e=>{const n=t;await this.popState(n),e.resolve()}),1),t.wait()}setTitle(t){this.window.document.title=t}handleEvent(t){this.handlePopStateEvent(t)}handlePopStateEvent(t){const{eventTask:e,suppressPopstate:n}=this.forwardedState;this.forwardedState={eventTask:null,suppressPopstate:!1},this.pendingCalls.enqueue((async s=>{n||this.notifySubscribers(t),null!==e&&await e.execute(),s.resolve()}),1)}notifySubscribers(t){this.ea.publish(am.eventName,am.create(this.viewerState,t,this.history.state))}async popState(t){await this.go(-1,!0);const e=this.history.state,n=e?.navigations?.[e?.navigationIndex??0];null==n||n.firstEntry||(await this.go(-1,!0),await this.pushNavigatorState(e)),await t.execute()}forwardState(t){this.forwardedState=t}tryCleanState(t,e,n){try{return JSON.parse(JSON.stringify(t))}catch(t){throw new Error(`Failed to ${e} state, probably due to unserializable data and/or parameters: ${t}${n}`)}}};rm=Ag([xg(0,Sc),xg(1,Lc),xg(2,Uc),xg(3,Bc),xg(4,Ie)],rm);class om{constructor(t,e,n,s){this.path=t,this.query=e,this.hash=n,this.instruction=s}}class am{constructor(t,e,n,s){this.eventName=t,this.viewerState=e,this.event=n,this.state=s}static create(t,e,n){return new am(am.eventName,t,e,n)}}am.eventName="au:router:navigation-state-change";class cm{constructor(t){this.endpoint=t,this.running=!1,this.states=new Map,this.checkedStates=[],this.syncingState=null,this.syncPromise=null,this.step=null}hasReachedState(t){return this.states.has(t)&&null===this.states.get(t)}}class hm{constructor(t,e){this.router=t,this.navigation=e,this.running=!1,this.completed=!1,this.cancelled=!1,this.hasAllEndpoints=!1,this.appendedInstructions=[],this.entities=[],this.syncStates=new Map,this.checkedSyncStates=new Set}static create(t,e,n){const s=new hm(t,e);return n.syncStates.forEach((t=>s.addSyncState(t))),s}run(){if(!this.running){this.running=!0;for(const t of this.entities)t.running||(t.running=!0,t.endpoint.transition(this))}}addSyncState(t){const e=new Lg;this.syncStates.set(t,e)}addEndpoint(t){const e=new cm(t);return this.entities.push(e),this.recheckSyncStates(),this.running&&e.endpoint.transition(this),e}removeEndpoint(t){const e=this.entities.find((e=>e.endpoint===t));void 0!==e&&Ng(this.entities,(t=>t===e))}setEndpointStep(t,e){let n=this.entities.find((e=>e.endpoint===t));void 0===n&&(n=this.addEndpoint(t)),n.step=e}getEndpointStep(t){const e=this.entities.find((e=>e.endpoint===t));return e?.step??null}addEndpointState(t,e){let n=this.entities.find((e=>e.endpoint===t));void 0===n&&(n=this.addEndpoint(t));const s=n.states.get(e);s instanceof Lg&&s.resolve(),n.states.set(e,null),this.checkSyncState(e)}waitForSyncState(t,e=null){if(0===this.entities.length)return;const n=this.syncStates.get(t);if(void 0!==n){if(null!==e){const s=this.entities.find((t=>t.endpoint===e));if(null===s?.syncPromise&&n.isPending)return s.syncingState=t,s.syncPromise=new Lg,s.checkedStates.push(t),this.checkedSyncStates.add(t),Promise.resolve().then((()=>{this.checkSyncState(t)})).catch((t=>{throw t})),s.syncPromise.promise}return n.isPending?n.promise:void 0}}waitForEndpointState(t,e){if(!this.syncStates.has(e))return;let n=this.entities.find((e=>e.endpoint===t));if(null==n&&(n=this.addEndpoint(t)),n.hasReachedState(e))return;let s=n.states.get(e);return null==s&&(s=new Lg,n.states.set(e,s)),s.promise}finalEndpoint(){this.hasAllEndpoints=!0,this.syncStates.forEach(((t,e)=>this.checkSyncState(e)))}finalize(){this.entities.forEach((t=>t.endpoint.finalizeContentChange(this,null))),this.completed=!0,this.navigation.completed=!0}cancel(){this.cancelled=!0,this.entities.forEach((t=>{const e=t.endpoint.cancelContentChange(this);e instanceof Promise&&e.catch((t=>{throw t}))})),this.router.navigator.cancel(this.navigation).then((()=>{this.navigation.process?.resolve(!1)})).catch((t=>{throw t})),this.completed=!0,this.navigation.completed=!0}enqueueAppendedInstructions(t){this.appendedInstructions.push(...t)}dequeueAppendedInstructions(t,e,n){let s=[...this.appendedInstructions];t=[...t],n=[...n];const i=s.filter((t=>!t.default)),r=s.filter((t=>t.default));for(s=i.length>0?[...i]:[...r];s.length>0;){const i=s.shift();Ng(this.appendedInstructions,(t=>t===i));const r=e.some((t=>!t.cancelled&&t.sameEndpoint(i,!0))),o=t.find((t=>t.sameEndpoint(i,!0))),a=n.find((t=>t.sameEndpoint(i,!0)));i.default&&(r||void 0!==o&&!o.default||void 0!==a&&!a.default)||(void 0!==o&&Ng(t,(t=>t===o)),void 0!==a&&Ng(n,(t=>t===a)),null!==i.endpoint.instance?t.push(i):n.push(i))}return{matchedInstructions:t,remainingInstructions:n}}checkSyncState(t){const e=this.syncStates.get(t);if(void 0!==e&&this.hasAllEndpoints&&e.isPending&&this.entities.every((e=>e.hasReachedState(t)))&&(!this.checkedSyncStates.has(t)||this.entities.every((e=>e.checkedStates.includes(t))))){for(const e of this.entities)e.syncingState===t&&(e.syncPromise?.resolve(),e.syncPromise=null,e.syncingState=null);e.resolve()}}recheckSyncStates(){this.syncStates.forEach(((t,e)=>{t.isPending||this.entities.every((t=>t.hasReachedState(e)))||this.addSyncState(e)}))}}class lm{constructor(t,e,n){this.hook=t,this.id=n,this.type="beforeNavigation",this.includeTargets=[],this.excludeTargets=[],void 0!==e.type&&(this.type=e.type);for(const t of e.include??[])this.includeTargets.push(new um(t));for(const t of e.exclude??[])this.excludeTargets.push(new um(t))}static add(t,e){const n=new lm(t,e??{},++this.lastIdentity);return this.hooks[n.type].push(n),this.lastIdentity}static remove(t){for(const e in this.hooks)if(Object.prototype.hasOwnProperty.call(this.hooks,e)){const n=this.hooks[e].findIndex((e=>e.id===t));n>=0&&this.hooks[e].splice(n,1)}}static removeAll(){for(const t in this.hooks)this.hooks[t]=[]}static async invokeBeforeNavigation(t,e){return this.invoke("beforeNavigation",e,t)}static async invokeTransformFromUrl(t,e){return this.invoke("transformFromUrl",e,t)}static async invokeTransformToUrl(t,e){return this.invoke("transformToUrl",e,t)}static async invokeTransformTitle(t,e){return this.invoke("transformTitle",e,t)}static async invoke(t,e,n){let s=n;for(const i of this.hooks[t])if(!i.wantsMatch||i.matches(n))if(s=await i.invoke(e,n),"boolean"==typeof s){if(!s)return!1}else n=s;return s}get wantsMatch(){return this.includeTargets.length>0||this.excludeTargets.length>0}matches(t){return!(this.includeTargets.length&&!this.includeTargets.some((e=>e.matches(t)))||this.excludeTargets.length&&this.excludeTargets.some((e=>e.matches(t))))}invoke(t,e){return this.hook(e,t)}}lm.hooks={beforeNavigation:[],transformFromUrl:[],transformToUrl:[],transformTitle:[]},lm.lastIdentity=0;class um{constructor(t){if(this.componentType=null,this.componentName=null,this.viewport=null,this.viewportName=null,"string"==typeof t)this.componentName=t;else if(Mg.isType(t))this.componentType=t,this.componentName=Mg.getName(t);else{const e=t;null!=e.component&&(this.componentType=Mg.isType(e.component)?Mg.getType(e.component):null,this.componentName=Mg.getName(e.component)),null!=e.viewport&&(this.viewport=Xg.isInstance(e.viewport)?e.viewport:null,this.viewportName=Xg.getName(e.viewport))}}matches(t){const e=t.slice();e.length||e.push(Zg.create(""));for(const t of e)if(null!==this.componentName&&this.componentName===t.component.name||null!==this.componentType&&this.componentType===t.component.type||null!==this.viewportName&&this.viewportName===t.endpoint.name||null!==this.viewport&&this.viewport===t.endpoint.instance)return!0;return!1}}class fm{static async getTitle(t,e,n){let s=await lm.invokeTransformTitle(t,e);if("string"!=typeof s){const t=fm.stringifyTitles(s,e,n);s=n.appTitle,s=s.replace(/\${componentTitles}/g,t),s=s.replace(/\${appTitleSeparator}/g,""!==t?n.appTitleSeparator:"")}return s=await lm.invokeTransformTitle(s,e),s}static stringifyTitles(t,e,n){return t.map((t=>fm.stringifyTitle(t,e,n))).filter((t=>(t?.length??0)>0)).join(" + ")}static stringifyTitle(t,e,n){const s=t.nextScopeInstructions;let i=fm.resolveTitle(t,e,n);if(Array.isArray(s)&&s.length>0){let t=fm.stringifyTitles(s,e,n);t.length>0&&(1!==s.length&&(t=`[ ${t} ]`),i=i.length>0?"top-down"===n.componentTitleOrder?i+n.componentTitleSeparator+t:t+n.componentTitleSeparator+i:t)}return i}static resolveTitle(t,e,n){let s=t.getTitle(e);return null!=n.transformTitle&&(s=n.transformTitle(s,t,e)),s}}const dm=zt.createInterface("IRouter",(t=>t.singleton(pm)));class pm{static get inject(){return[Kt,Ie,Jg,rm,rm,Um]}constructor(t,e,n,s,i,r){this.container=t,this.ea=e,this.navigator=n,this.viewer=s,this.store=i,this.configuration=r,this.rootScope=null,this.activeComponents=[],this.appendedInstructions=[],this.isActive=!1,this.coordinators=[],this.loadedFirst=!1,this.handleNavigatorNavigateEvent=t=>{this.processNavigation(t.navigation).catch((t=>{throw t}))},this.handleNavigatorStateChangeEvent=t=>{if(null!=t.state?.navigationIndex){const e=Hg.create(t.state.navigations[t.state.navigationIndex]);e.instruction=t.viewerState.instruction,e.fromBrowser=!0,this.navigator.navigate(e).catch((t=>{throw t}))}else this.load(t.viewerState.instruction,{fromBrowser:!0}).catch((t=>{throw t}))},this.processNavigation=async t=>{this.loadedFirst=!0;const e=this.configuration.options,n=hm.create(this,t,{syncStates:this.configuration.options.navigationSyncStates});this.coordinators.push(n),n.appendedInstructions.push(...this.appendedInstructions.splice(0)),this.ea.publish(wm.eventName,wm.create(t));let s="string"!=typeof t.instruction||t.useFullStateInstruction?t.useFullStateInstruction?t.fullStateInstruction:t.instruction:await lm.invokeTransformFromUrl(t.instruction,n.navigation);const i=e.basePath;null!==i&&"string"==typeof s&&s.startsWith(i)&&!e.useUrlFragmentHash&&(s=s.slice(i.length)),"/"===s&&(s=""),"string"==typeof s&&(s=""===s?[new Zg("")]:Zg.parse(this,s)),t.scope??(t.scope=this.rootScope.scope);const r=await t.scope.processInstructions(s,[],t,n);return Bg.run(null,(()=>(n.finalEndpoint(),n.waitForSyncState("completed"))),(()=>(n.finalize(),this.updateNavigation(t))),(()=>{t.navigation.new&&!t.navigation.first&&!t.repeating&&r.every((t=>t.options.noHistory))&&(t.untracked=!0)}),(async()=>{for(;this.coordinators.length>0&&this.coordinators[0].completed;){const t=this.coordinators.shift();await this.navigator.finalize(t.navigation,!1),this.ea.publish(Cm.eventName,Cm.create(t.navigation)),this.ea.publish(ym.eventName,ym.create(t.navigation)),t.navigation.process?.resolve(!0)}}))}}get isNavigating(){return this.coordinators.length>0}get isRestrictedNavigation(){const t=this.configuration.options.navigationSyncStates;return t.includes("guardedLoad")||t.includes("unloaded")||t.includes("loaded")||t.includes("guarded")||t.includes("routed")}get statefulHistory(){return void 0!==this.configuration.options.statefulHistoryLength&&this.configuration.options.statefulHistoryLength>0}start(){if(this.isActive)throw new Error("Router has already been started");this.isActive=!0;const t=this.container.get(Ju);this.rootScope=new Wg(this,"rootScope",t.controller.viewModel,null,!0,t.config.component);const e=this.configuration.options;if(null===e.basePath){const n=new URL(t.host.baseURI);e.basePath=n.pathname}e.basePath.endsWith("/")&&(e.basePath=e.basePath.slice(0,-1)),this.navigator.start({store:this.store,viewer:this.viewer,statefulHistoryLength:this.configuration.options.statefulHistoryLength}),this.navigatorStateChangeEventSubscription=this.ea.subscribe(am.eventName,this.handleNavigatorStateChangeEvent),this.navigatorNavigateEventSubscription=this.ea.subscribe(Yg.eventName,this.handleNavigatorNavigateEvent),this.viewer.start({useUrlFragmentHash:this.configuration.options.useUrlFragmentHash}),this.ea.publish(mm.eventName,mm.create())}stop(){if(!this.isActive)throw new Error("Router has not been started");this.ea.publish(vm.eventName,vm.create()),this.navigator.stop(),this.viewer.stop(),this.navigatorStateChangeEventSubscription.dispose(),this.navigatorNavigateEventSubscription.dispose()}async initialLoad(){const{instruction:t,hash:e}=this.viewer.viewerState,n=this.load(t,{fragment:e,replacing:!0,fromBrowser:!1});return this.loadedFirst=!0,n}getEndpoint(t,e){return this.allEndpoints(t).find((t=>t.name===e))??null}allEndpoints(t,e=!1){return this.rootScope.scope.allScopes(e).filter((e=>null===t||e.type===t)).map((t=>t.endpoint))}addEndpoint(t,...e){throw new Error("Not implemented")}connectEndpoint(t,e,n,s,i){const r=n.container,o=(r.has(pm.closestEndpointKey,!0)?r.get(pm.closestEndpointKey):this.rootScope).connectedScope;return null===t&&(t=o.addEndpoint(e,s,n,i),ie.instance(pm.closestEndpointKey,t).register(r)),t}disconnectEndpoint(t,e,n){if(!e.connectedScope.parent.removeEndpoint(t,e,n))throw new Error("Router failed to remove endpoint: "+e.name)}async load(t,e){e=e??{},t=this.extractFragment(t,e),t=this.extractQuery(t,e);let n=null;if(({instructions:t,scope:n}=this.applyLoadOptions(t,e)),e.append&&(!this.loadedFirst||this.isNavigating))return t=Zg.from(this,t),this.appendInstructions(t,n),Promise.resolve();const s=Hg.create({instruction:t,fullStateInstruction:"",scope:n,title:e.title,data:e.data,query:e.query,fragment:e.fragment,parameters:e.parameters,replacing:(e.replacing??!1)||e.replace,repeating:e.append,fromBrowser:e.fromBrowser??!1,origin:e.origin,completed:!1});return this.navigator.navigate(s)}applyLoadOptions(t,e,n=!0){"origin"in(e=e??{})&&!("context"in e)&&(e.context=e.origin);const{scope:s,instruction:i}=nm.for(e.context??null,"string"==typeof t?t:void 0);if("string"==typeof t)if(n)t=i;else{t=Zg.from(this,i);for(const e of t)null===e.scope&&(e.scope=s)}else{t=Zg.from(this,t);for(const e of t)null===e.scope&&(e.scope=s)}return{instructions:t,scope:s}}refresh(){return this.navigator.refresh()}back(){return this.navigator.go(-1)}forward(){return this.navigator.go(1)}go(t){return this.navigator.go(t)}checkActive(t,e){if("string"==typeof t)throw new Error(`Parameter instructions to checkActivate can not be a string ('${t}')!`);e=e??{},({instructions:t}=this.applyLoadOptions(t,e)),t.forEach((t=>t.scope??(t.scope=this.rootScope.scope)));const n=jg(t.map((t=>t.scope)));for(const e of n){const n=e.matchScope(t,!1),s=e.matchScope(this.activeComponents,!0);if(!Zg.contains(this,s,n,!0))return!1}return!0}unresolvedInstructionsError(t,e){throw this.ea.publish(Sm.eventName,Sm.create(t)),this.ea.publish(ym.eventName,ym.create(t)),function(t){const e=new Error(`${t.length} remaining instructions after 100 iterations; there is likely an infinite loop.`);return e.remainingInstructions=t,console.log(e,e.remainingInstructions),e}(e)}cancelNavigation(t,e){e.cancel(),this.ea.publish(km.eventName,km.create(t)),this.ea.publish(ym.eventName,ym.create(t))}appendInstructions(t,e=null){null===e&&(e=this.rootScope.scope);for(const n of t)null===n.scope&&(n.scope=e);let n=null;for(let t=this.coordinators.length-1;t>=0;t--)if(!this.coordinators[t].completed){n=this.coordinators[t];break}if(null===n){if(this.loadedFirst)throw Error("Router failed to append routing instructions to coordinator");this.appendedInstructions.push(...t)}n?.enqueueAppendedInstructions(t)}async updateNavigation(t){this.rootScope.scope.reparentRoutingInstructions();const e=this.rootScope.scope.getRoutingInstructions(t.timestamp);let{matchedInstructions:n}=this.rootScope.scope.matchEndpoints(e,[],!0),s=100;for(;n.length>0;){if(0==s--)throw new Error("Router failed to find viewport when updating viewer paths.");n=n.map((t=>{const{matchedInstructions:e}=t.endpoint.instance.scope.matchEndpoints(t.nextScopeInstructions??[],[],!0);return e})).flat()}t.timestamp>=(this.activeNavigation?.timestamp??0)&&(this.activeNavigation=t,this.activeComponents=e);let i=await lm.invokeTransformToUrl(e,t);if("string"!=typeof i&&(i=Zg.stringify(this,i,!1,!0)),i=await lm.invokeTransformToUrl(i,t),null==t.query&&null!=t.parameters){const e=new URLSearchParams;for(let[n,s]of Object.entries(t.parameters)){n=encodeURIComponent(n),Array.isArray(s)||(s=[s]);for(const t of s)e.append(n,encodeURIComponent(t))}t.query=e.toString()}let r=`${this.configuration.options.basePath}/`;(null===r||""!==i&&"/"===i[0]||this.configuration.options.useUrlFragmentHash)&&(r="");const o=(t.query?.length??0)>0?"?"+t.query:"",a=(t.fragment?.length??0)>0?"#"+t.fragment:"";t.path=r+i+o+a;const c=[Zg.create(Zg.clear(this))];if(c.push(...Zg.clone(e,this.statefulHistory)),t.fullStateInstruction=c,null===(t.title??null)){const n=await fm.getTitle(e,t,this.configuration.options.title);null!==n&&(t.title=n)}return Promise.resolve()}extractFragment(t,e){if("string"==typeof t&&null==e.fragment){const[n,s]=t.split("#");t=n,e.fragment=s}return t}extractQuery(t,e){if("string"==typeof t&&null==e.query){const[n,s]=t.split("?");t=n,e.query=s}return"string"==typeof e.parameters&&null==e.query&&(e.query=e.parameters,e.parameters=void 0),"string"==typeof e.query&&e.query.length>0&&(e.parameters??(e.parameters={}),new URLSearchParams(e.query).forEach(((t,n)=>{n=decodeURIComponent(n),t=decodeURIComponent(t),n in e.parameters?(Array.isArray(e.parameters[n])||(e.parameters[n]=[e.parameters[n]]),e.parameters[n].push(t)):e.parameters[n]=t}))),t}}pm.closestEndpointKey=pt.annotation.keyFor("closest-endpoint");class gm{constructor(t){this.eventName=t}}class mm extends gm{static create(){return new mm(this.eventName)}}mm.eventName="au:router:router-start";class vm extends gm{static create(){return new vm(this.eventName)}}vm.eventName="au:router:router-stop";class bm{constructor(t,e){this.eventName=t,this.navigation=e}}class wm extends bm{static create(t){return new wm(this.eventName,t)}}wm.eventName="au:router:navigation-start";class ym extends bm{static create(t){return new ym(this.eventName,t)}}ym.eventName="au:router:navigation-end";class km extends bm{static create(t){return new km(this.eventName,t)}}km.eventName="au:router:navigation-cancel";class Cm extends bm{static create(t){return new Cm(this.eventName,t)}}Cm.eventName="au:router:navigation-complete";class Sm extends bm{static create(t){return new Sm(this.eventName,t)}}Sm.eventName="au:router:navigation-error";const Am=zt.createInterface("ILinkHandler",(t=>t.singleton(xm)));let xm=class{constructor(t,e){this.window=t,this.router=e}handleEvent(t){this.handleClick(t)}handleClick(t){if(0!==t.button||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return;const e=t.currentTarget;if(e.hasAttribute("external"))return;const n=e.getAttribute("target")??"";if(n.length>0&&n!==this.window.name&&"_self"!==n)return;const s=Qc.for(e,"load"),i=void 0!==s?s.viewModel.value:null,r=this.router.configuration.options.useHref&&e.hasAttribute("href")?e.getAttribute("href"):null;if(!(null!==i&&0!==i.length||null!==r&&0!==r.length))return;t.preventDefault();let o=i??r??"";"string"==typeof o&&o.startsWith("#")&&(o=o.slice(1),o.startsWith("/")||(o=`/${o}`)),this.router.load(o,{origin:e}).catch((t=>{throw t}))}};var $m;function Tm(t,e,n,s,i=!1){if(i)return""===e;if(n)return e;const r=s.getAttribute(t)??"";return r.length>0?r:e}function Im(t,e){if(!t.isActive)return new Promise((t=>{const n=e.subscribe(mm.eventName,(()=>{t(),n.dispose()}))}))}function Rm(t,e,n,s){let i=Qc.for(n,"considered-active")?.viewModel?.value;void 0===i&&(i=s);const r=t.applyLoadOptions(i,{context:e}),o=Zg.from(t,r.instructions);for(const t of o)null===t.scope&&(t.scope=r.scope);return o}function Om(t){let e=t.parentElement;for(;null!=e;){if("AU-VIEWPORT"===e.tagName){e=null;break}if(e.hasAttribute("load-active"))break;e=e.parentElement}return e??(e=t),e}xm=Ag([xg(0,Lc),xg(1,dm)],xm),function(t){t.default="default",t.disallow="disallow",t.reload="reload",t.refresh="refresh"}($m||($m={}));const Em=vh.createInjectable();let Pm=class{constructor(t,e,n,s,i,r){this.router=t,this.element=e,this.container=n,this.ea=s,this.parentViewport=i,this.instruction=r,this.name="default",this.usedBy="",this.default="",this.fallback="",this.fallbackAction="",this.noScope=!1,this.noLink=!1,this.noTitle=!1,this.noHistory=!1,this.stateful=!1,this.endpoint=null,this.pendingChildren=[],this.pendingPromise=null,this.isBound=!1}hydrated(t){this.controller=t,this.container=t.container;const e=this.instruction.props.filter((t=>"default"===t.to)).length>0;return e&&null!=this.parentViewport&&(this.parentViewport.pendingChildren.push(this),null===this.parentViewport.pendingPromise&&(this.parentViewport.pendingPromise=new Lg)),Bg.run(null,(()=>Im(this.router,this.ea)),(()=>{this.router.isRestrictedNavigation&&this.connect()}))}binding(t,e){return this.isBound=!0,Bg.run(null,(()=>Im(this.router,this.ea)),(()=>{this.router.isRestrictedNavigation||this.connect()}),(()=>{null!=this.endpoint?.activeResolve&&(this.endpoint.activeResolve(),this.endpoint.activeResolve=null)}),(()=>{if(null!==this.endpoint&&null===this.endpoint.getNextContent())return this.endpoint.activate(null,t,this.controller,void 0)?.asValue}))}detaching(t,e){if(null!==this.endpoint)return this.isBound=!1,this.endpoint.deactivate(null,t,e)}unbinding(t,e){if(null!==this.endpoint)return this.disconnect(null)}dispose(){this.endpoint?.dispose(),this.endpoint=null}connect(){const{isBound:t,element:e}=this,n=Tm("name",this.name,t,e),s={};s.scope=!Tm("no-scope",this.noScope,!1,e,!0),s.usedBy=Tm("used-by",this.usedBy,t,e),s.default=Tm("default",this.default,t,e),s.fallback=Tm("fallback",this.fallback,t,e),s.fallbackAction=Tm("fallback-action",this.fallbackAction,t,e),s.noLink=Tm("no-link",this.noLink,t,e,!0),s.noTitle=Tm("no-title",this.noTitle,t,e,!0),s.noHistory=Tm("no-history",this.noHistory,t,e,!0),s.stateful=Tm("stateful",this.stateful,t,e,!0),Object.keys(s).forEach((t=>{void 0===s[t]&&delete s[t]})),this.endpoint=this.router.connectEndpoint(this.endpoint,"Viewport",this,n,s);const i=this.parentViewport;null!=i&&(Ng(i.pendingChildren,(t=>t===this)),0===i.pendingChildren.length&&null!==i.pendingPromise&&(i.pendingPromise.resolve(),i.pendingPromise=null))}disconnect(t){null!==this.endpoint&&this.router.disconnectEndpoint(t,this.endpoint,this)}setActivity(t,e){const n=this.router.configuration.options.indicators.viewportNavigating;if("string"==typeof t)this.element.classList.toggle(t,e);else for(const s in t)this.element.classList.toggle(`${n}-${s}`,e&&t[s])}};Ag([Wa],Pm.prototype,"name",void 0),Ag([Wa],Pm.prototype,"usedBy",void 0),Ag([Wa],Pm.prototype,"default",void 0),Ag([Wa],Pm.prototype,"fallback",void 0),Ag([Wa],Pm.prototype,"fallbackAction",void 0),Ag([Wa],Pm.prototype,"noScope",void 0),Ag([Wa],Pm.prototype,"noLink",void 0),Ag([Wa],Pm.prototype,"noTitle",void 0),Ag([Wa],Pm.prototype,"noHistory",void 0),Ag([Wa],Pm.prototype,"stateful",void 0),Pm=Ag([Jc({name:"au-viewport",injectable:Em}),xg(0,dm),xg(1,Tc),xg(2,Kt),xg(3,Ie),xg(4,Em),xg(5,Cl)],Pm);const Mm=vh.createInjectable();let Nm=class{constructor(t,e,n,s,i){this.router=t,this.element=e,this.container=n,this.parent=s,this.parentController=i,this.name="default",this.catches="",this.collection=!1,this.source=null,this.viewportScope=null,this.isBound=!1}hydrated(t){this.controller=t}bound(t,e){this.isBound=!0,this.$controller.scope=this.parentController.scope,this.connect(),null!==this.viewportScope&&this.viewportScope.binding()}unbinding(t,e){return null!==this.viewportScope&&this.viewportScope.unbinding(),Promise.resolve()}connect(){if(null===this.router.rootScope)return;const t=this.getAttribute("name",this.name),e={};let n=this.getAttribute("catches",this.catches);void 0!==n&&(e.catches=n),n=this.getAttribute("collection",this.collection,!0),void 0!==n&&(e.collection=n),e.source=this.source||null,this.viewportScope=this.router.connectEndpoint(this.viewportScope,"ViewportScope",this,t,e)}disconnect(){this.viewportScope&&this.router.disconnectEndpoint(null,this.viewportScope,this),this.viewportScope=null}getAttribute(t,e,n=!1){if(this.isBound)return e;if(this.element.hasAttribute(t)){if(n)return!0;if((e=this.element.getAttribute(t)).length>0)return e}}};Ag([Wa],Nm.prototype,"name",void 0),Ag([Wa],Nm.prototype,"catches",void 0),Ag([Wa],Nm.prototype,"collection",void 0),Ag([Wa],Nm.prototype,"source",void 0),Nm=Ag([Jc({name:"au-viewport-scope",template:"<template></template>",containerless:!1,injectable:Mm}),xg(0,dm),xg(1,Tc),xg(2,Kt),xg(3,Mm),xg(4,Bu)],Nm);let jm=class{constructor(t,e,n,s){this.element=t,this.router=e,this.linkHandler=n,this.ea=s,this.h=!1,this.hasHref=null,this.navigationEndHandler=t=>{this.updateActive()},this.activeClass=this.router.configuration.options.indicators.loadActive}binding(){null==this.value&&(this.h=!0),this.element.addEventListener("click",this.linkHandler),this.updateValue(),this.updateActive(),this.routerNavigationSubscription=this.ea.subscribe(ym.eventName,this.navigationEndHandler)}unbinding(){this.element.removeEventListener("click",this.linkHandler),this.routerNavigationSubscription.dispose()}valueChanged(t){this.updateValue(),this.updateActive()}updateValue(){if(this.h&&(this.value={component:this.component,parameters:this.parameters,viewport:this.viewport,id:this.id}),null===this.hasHref&&(this.hasHref=this.element.hasAttribute("href")),!this.hasHref){let t=this.value;if("string"!=typeof t){const e=Zg.from(this.router,t).shift(),n=this.u(t);n.foundConfiguration&&(e.route=n.matching),t=Zg.stringify(this.router,[e])}const{scope:e,instruction:n}=nm.for(this.element,t);t=`${e?.path??""}${n??""}`,this.router.configuration.options.useUrlFragmentHash&&!t.startsWith("#")&&(t=`#/${t}`),this.element.setAttribute("href",t)}}async updateActive(){const t=Qc.for(this.element,"load").parent,e="string"==typeof this.value?{id:this.value,path:this.value}:this.value,n=this.u(e),s=n.foundConfiguration?n.instructions:Rm(this.router,t,this.element,this.value);Om(this.element).classList.toggle(this.activeClass,this.router.checkActive(s,{context:t}))}u(t){if("string"==typeof t)return new Sg;const e=nm.for(this.element).scope??this.router.rootScope.scope;if(null!=t.id)return e.findMatchingRoute(t.id,t.parameters??{});const n=t.path;return null!=n?e.findMatchingRoute(n,t.parameters??{}):new Sg}};Ag([Wa({mode:2})],jm.prototype,"value",void 0),Ag([Wa],jm.prototype,"component",void 0),Ag([Wa],jm.prototype,"parameters",void 0),Ag([Wa],jm.prototype,"viewport",void 0),Ag([Wa],jm.prototype,"id",void 0),jm=Ag([Vc("load"),xg(0,Tc),xg(1,dm),xg(2,Am),xg(3,Ie)],jm);let Lm=class{constructor(t,e,n,s){this.element=t,this.router=e,this.linkHandler=n,this.ea=s,this.navigationEndHandler=t=>{this.updateActive()},this.activeClass=this.router.configuration.options.indicators.loadActive}binding(){!this.router.configuration.options.useHref||this.hasLoad()||this.element.hasAttribute("external")||(this.element.addEventListener("click",this.linkHandler),this.routerNavigationSubscription=this.ea.subscribe(ym.eventName,this.navigationEndHandler)),this.updateValue(),this.updateActive()}unbinding(){this.element.removeEventListener("click",this.linkHandler),this.routerNavigationSubscription?.dispose()}valueChanged(){this.updateValue(),this.updateActive()}updateValue(){this.element.setAttribute("href",this.value)}updateActive(){if(this.router.configuration.options.useHref&&!this.hasLoad()&&!this.element.hasAttribute("external")){const t=Qc.for(this.element,"href").parent,e=Rm(this.router,t,this.element,this.value);Om(this.element).classList.toggle(this.activeClass,this.router.checkActive(e,{context:t}))}}hasLoad(){const t=this.$controller.parent.children;return t?.some((t=>1===t.vmKind&&t.viewModel instanceof jm))??!1}};Ag([Wa({mode:2})],Lm.prototype,"value",void 0),Lm=Ag([Vc({name:"href",noMultiBindings:!0}),xg(0,Tc),xg(1,dm),xg(2,Am),xg(3,Ie)],Lm);let Bm=class{};Ag([Wa({mode:2})],Bm.prototype,"value",void 0),Bm=Ag([Vc("considered-active")],Bm);const Um=zt.createInterface("IRouterConfiguration",(t=>t.singleton(Dm))),Fm=[dm],Vm=[Pm,Nm,jm,Lm,Bm];class Dm{static register(t){const e=t.get(Um);return e.options=Dm.options,e.options.setRouterConfiguration(e),Dm.options=Og.create(),t.register(...Fm,...Vm,kc.activating(dm,Dm.configurationCall),kc.activated(dm,(t=>t.initialLoad())),kc.deactivated(dm,(t=>t.stop())))}static customize(t){return void 0===t?(Dm.options=Og.create(),Dm.configurationCall=t=>{t.start()}):t instanceof Function?Dm.configurationCall=t:(Dm.options=Og.create(),Dm.options.apply(t)),Dm}static createContainer(){return this.register(zt.createContainer())}static for(t){return t instanceof pm?t.configuration:t.get(Um)}apply(t,e=!1){e&&(this.options=Og.create()),this.options.apply(t)}addHook(t,e){return lm.add(t,e)}removeHook(t){return lm.remove(t)}removeAllHooks(){return lm.removeAll()}}Dm.options=Og.create(),Dm.configurationCall=t=>{t.start()};const Wm=ca.getOrCreate(globalThis);class qm extends nf{constructor(t=function(){return zt.createContainer().register(ie.instance(Sc,Wm),ig)}()){super(t)}static start(t){return(new qm).start(t)}static app(t){return(new qm).app(t)}static enhance(t,e){return(new qm).enhance(t,e)}static register(...t){return(new qm).register(...t)}app(t){if(vh.isType(t)){const e=vh.getDefinition(t);let n=document.querySelector(e.name);return null===n&&(n=document.body),super.app({host:n,component:t})}return super.app(t)}}function _m(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Hm(t){return null==t}let zm=new WeakMap;const Km=(t,e,n,s,i)=>new TypeError(`${t}(${e.map(String).join(",")}) - Expected '${n}' to be of type ${i}, but got: ${Object.prototype.toString.call(s)} (${String(s)})`);function Gm(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:return`${t}`}}function Qm(t,e,n){let s=zm.get(t);if(void 0===s){if(!n)return;s=new Map,zm.set(t,s)}let i=s.get(e);if(void 0===i){if(!n)return;i=new Map,s.set(e,i)}return i}function Xm(t,e,n){const s=Qm(e,n,!1);return void 0!==s&&s.has(t)}function Zm(t,e,n){if(Xm(t,e,n))return!0;const s=vv(e);return null!==s&&Zm(t,s,n)}function Ym(t,e,n){const s=Qm(e,n,!1);if(void 0!==s)return s.get(t)}function Jm(t,e,n){if(Xm(t,e,n))return Ym(t,e,n);const s=vv(e);return null!==s?Jm(t,s,n):void 0}function tv(t,e,n,s){Qm(n,s,!0).set(t,e)}function ev(t,e){const n=[],s=Qm(t,e,!1);if(void 0===s)return n;const i=s.keys();let r=0;for(const t of i)n[r]=t,++r;return n}function nv(t,e){const n=ev(t,e),s=vv(t);if(null===s)return n;const i=nv(s,e),r=n.length;if(0===r)return i;const o=i.length;if(0===o)return n;const a=new Set,c=[];let h,l=0;for(let t=0;t<r;++t)h=n[t],a.has(h)||(a.add(h),c[l]=h,++l);for(let t=0;t<o;++t)h=i[t],a.has(h)||(a.add(h),c[l]=h,++l);return c}function sv(t,e){return function(n,s){if(!_m(n))throw Km("@metadata",[t,e,n,s],"target",n,"Object or Function");tv(t,e,n,function(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:throw new TypeError(`Invalid metadata propertyKey: ${t}.`)}}(s))}}function iv(t,e,n,s){if(void 0!==n){if(!Array.isArray(t))throw Km("Metadata.decorate",[t,e,n,s],"decorators",t,"Array");if(!_m(e))throw Km("Metadata.decorate",[t,e,n,s],"target",e,"Object or Function");if(!_m(s)&&!Hm(s))throw Km("Metadata.decorate",[t,e,n,s],"attributes",s,"Object, Function, null, or undefined");return null===s&&(s=void 0),function(t,e,n,s){for(let i=t.length-1;i>=0;--i){const r=(0,t[i])(e,n,s);if(!Hm(r)){if(!_m(r))throw Km("DecorateProperty",[t,e,n,s],"decorated",r,"Object, Function, null, or undefined");s=r}}return s}(t,e,n=function(t){switch(typeof t){case"string":case"symbol":return t;default:return`${t}`}}(n),s)}if(!Array.isArray(t))throw Km("Metadata.decorate",[t,e,n,s],"decorators",t,"Array");if("function"!=typeof e)throw Km("Metadata.decorate",[t,e,n,s],"target",e,"Function");return function(t,e){for(let n=t.length-1;n>=0;--n){const s=(0,t[n])(e);if(!Hm(s)){if("function"!=typeof s)throw Km("DecorateConstructor",[t,e],"decorated",s,"Function, null, or undefined");e=s}}return e}(t,e)}function rv(t,e,n,s){if(!_m(n))throw Km("Metadata.define",[t,e,n,s],"target",n,"Object or Function");return tv(t,e,n,Gm(s))}function ov(t,e,n){if(!_m(e))throw Km("Metadata.has",[t,e,n],"target",e,"Object or Function");return Zm(t,e,Gm(n))}function av(t,e,n){if(!_m(e))throw Km("Metadata.hasOwn",[t,e,n],"target",e,"Object or Function");return Xm(t,e,Gm(n))}function cv(t,e,n){if(!_m(e))throw Km("Metadata.get",[t,e,n],"target",e,"Object or Function");return Jm(t,e,Gm(n))}function hv(t,e,n){if(!_m(e))throw Km("Metadata.getOwn",[t,e,n],"target",e,"Object or Function");return Ym(t,e,Gm(n))}function lv(t,e){if(!_m(t))throw Km("Metadata.getKeys",[t,e],"target",t,"Object or Function");return nv(t,Gm(e))}function uv(t,e){if(!_m(t))throw Km("Metadata.getOwnKeys",[t,e],"target",t,"Object or Function");return ev(t,Gm(e))}function fv(t,e,n){if(!_m(e))throw Km("Metadata.delete",[t,e,n],"target",e,"Object or Function");return function(t,e,n){const s=Qm(t,n,!1);return void 0!==s&&s.delete(e)}(e,t,Gm(n))}const dv={define:rv,has:ov,hasOwn:av,get:cv,getOwn:hv,getKeys:lv,getOwnKeys:uv,delete:fv},pv="[[$au]]",gv=(t,e,n)=>[[pv,zm],["metadata",sv],["decorate",iv],["defineMetadata",rv],["hasMetadata",ov],["hasOwnMetadata",av],["getMetadata",cv],["getOwnMetadata",hv],["getMetadataKeys",lv],["getOwnMetadataKeys",uv],["deleteMetadata",fv]].forEach((([s,i])=>((t,e,n,s,i)=>{if(!Reflect.defineProperty(t,e,{writable:s,enumerable:!1,configurable:i,value:n}))throw mv(`AUR1000:${e}`)})(t,s,i,e,n))),mv=t=>new Error(t),vv=Object.getPrototypeOf,bv=String,wv=dv.getOwn,yv=dv.hasOwn,kv=dv.define,Cv=t=>"function"==typeof t,Sv=t=>"string"==typeof t,Av=()=>Object.create(null),xv=t=>new Error(t),$v={},Tv=t=>{switch(typeof t){case"number":return t>=0&&(0|t)===t;case"string":{const e=$v[t];if(void 0!==e)return e;const n=t.length;if(0===n)return $v[t]=!1;let s=0,i=0;for(;i<n;++i)if(s=Dv(t,i),0===i&&48===s&&n>1||s<48||s>57)return $v[t]=!1;return $v[t]=!0}default:return!1}},Iv=function(){const t=Object.assign(Av(),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0}),e=e=>""===e?0:e!==e.toUpperCase()?3:e!==e.toLowerCase()?2:!0===t[e]?1:0;return(t,n)=>{const s=t.length;if(0===s)return t;let i,r=!1,o="",a="",c=0,h=t.charAt(0),l=e(h),u=0;for(;u<s;++u)i=c,a=h,c=l,h=t.charAt(u+1),l=e(h),0===c?o.length>0&&(r=!0):(!r&&o.length>0&&2===c&&(r=3===i||3===l),o+=n(a,r),r=!1);return o}}(),Rv=function(){const t=Av(),e=(t,e)=>e?t.toUpperCase():t.toLowerCase();return n=>{let s=t[n];return void 0===s&&(s=t[n]=Iv(n,e)),s}}(),Ov=function(){const t=Av();return e=>{let n=t[e];return void 0===n&&(n=Rv(e),n.length>0&&(n=n[0].toUpperCase()+n.slice(1)),t[e]=n),n}}(),Ev=function(){const t=Av(),e=(t,e)=>e?`-${t.toLowerCase()}`:t.toLowerCase();return n=>{let s=t[n];return void 0===s&&(s=t[n]=Iv(n,e)),s}}(),Pv=t=>{const e=t.length,n=Array(e);let s=0;for(;s<e;++s)n[s]=t[s];return n},Mv=(t,e,n)=>({configurable:!0,enumerable:n.enumerable,get(){const t=n.value.bind(this);return Reflect.defineProperty(this,e,{value:t,writable:!0,configurable:!0,enumerable:n.enumerable}),t}}),Nv=(...t)=>{const e=[];let n=0;const s=t.length;let i,r=0,o=0;for(;o<s;++o)if(i=t[o],void 0!==i){r=i.length;let t=0;for(;t<r;++t)e[n++]=i[t]}return e},jv=(...t)=>{const e=t.length;let n,s=0;for(;e>s;++s)if(n=t[s],void 0!==n)return n;throw xv("No default value found")},Lv=function(){const t=Function.prototype,e=Object.getPrototypeOf,n=new WeakMap;let s,i=t,r=0;return function(o){if(s=n.get(o),void 0===s)for(n.set(o,s=[i=o]),r=0;(i=e(i))!==t;)s[++r]=i;return s}}();function Bv(...t){return Object.assign(Av(),...t)}const Uv=function(){const t=new WeakMap;let e=!1,n="",s=0;return i=>(e=t.get(i),void 0===e&&(n=i.toString(),s=n.length,e=s>=29&&s<=100&&125===Dv(n,s-1)&&Dv(n,s-2)<=32&&93===Dv(n,s-3)&&101===Dv(n,s-4)&&100===Dv(n,s-5)&&111===Dv(n,s-6)&&99===Dv(n,s-7)&&32===Dv(n,s-8)&&101===Dv(n,s-9)&&118===Dv(n,s-10)&&105===Dv(n,s-11)&&116===Dv(n,s-12)&&97===Dv(n,s-13)&&110===Dv(n,s-14)&&88===Dv(n,s-15),t.set(i,e)),e)}(),Fv=(t,e)=>t instanceof Promise?t.then(e):e(t),Vv=(...t)=>{let e,n,s,i=0,r=t.length;for(;i<r;++i)e=t[i],(e=t[i])instanceof Promise&&(void 0===n?n=e:void 0===s?s=[n,e]:s.push(e));return void 0===s?n:Promise.all(s)},Dv=(t,e)=>t.charCodeAt(e),Wv="au:annotation",qv=(t,e)=>void 0===e?`${Wv}:${t}`:`${Wv}:${t}:${e}`,_v=(t,e)=>{const n=wv(Wv,t);void 0===n?kv(Wv,[e],t):n.push(e)},Hv=Object.freeze({name:"au:annotation",appendTo:_v,set(t,e,n){kv(qv(e),n,t)},get:(t,e)=>wv(qv(e),t),getKeys(t){let e=wv(Wv,t);return void 0===e&&kv(Wv,e=[],t),e},isKey:t=>t.startsWith(Wv),keyFor:qv}),zv="au:resource",Kv=Object.freeze({name:zv,appendTo(t,e){const n=wv(zv,t);void 0===n?kv(zv,[e],t):n.push(e)},has:t=>yv(zv,t),getAll(t){const e=wv(zv,t);return void 0===e?tw:e.map((e=>wv(e,t)))},getKeys(t){let e=wv(zv,t);return void 0===e&&kv(zv,e=[],t),e},isKey:t=>t.startsWith(zv),keyFor:(t,e)=>void 0===e?`${zv}:${t}`:`${zv}:${t}:${e}`}),Gv={annotation:Hv,resource:Kv},Qv=Object.prototype.hasOwnProperty;function Xv(t,e,n,s){let i=wv(qv(t),n);return void 0===i?(i=e[t],void 0===i?(i=n[t],void 0!==i&&Qv.call(n,t)?i:s()):i):i}function Zv(t,e,n){let s=wv(qv(t),e);return void 0===s?(s=e[t],void 0!==s&&Qv.call(e,t)?s:n()):s}function Yv(t,e,n){const s=e[t];return void 0===s?n():s}const Jv=new Set("Array ArrayBuffer Boolean DataView Date Error EvalError Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Number Object Promise RangeError ReferenceError RegExp Set SharedArrayBuffer String SyntaxError TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array URIError WeakMap WeakSet".split(" "));let tb=0;class eb{constructor(t,e){this.parent=t,this.config=e,this.id=++tb,this.t=0,this.i=new Map,null===t?(this.root=this,this.u=new Map,this.h=new Map,this.res=Av()):(this.root=t.root,this.u=new Map,this.h=t.h,e.inheritParentResources?this.res=Object.assign(Av(),t.res,this.root.res):this.res=Av()),this.u.set(Pb,ib)}get depth(){return null===this.parent?0:this.parent.depth+1}register(...t){if(100==++this.t)throw hb(t);let e,n,s,i,r,o=0,a=t.length;for(;o<a;++o)if(e=t[o],_m(e))if(rb(e))e.register(this);else if(Gv.resource.has(e)){const t=Gv.resource.getAll(e);if(1===t.length)t[0].register(this);else for(i=0,r=t.length;r>i;)t[i].register(this),++i}else if(ab(e))Zb.singleton(e,e).register(this);else for(n=Object.keys(e),i=0,r=n.length;i<r;++i)s=e[n[i]],_m(s)&&(rb(s)?s.register(this):this.register(s));return--this.t,this}registerResolver(t,e,n=!1){nb(t);const s=this.u,i=s.get(t);if(null==i){if(s.set(t,e),cb(t)){if(void 0!==this.res[t])throw lb(t);this.res[t]=e}}else i instanceof qb&&4===i.R?i._state.push(e):s.set(t,new qb(t,4,[i,e]));return n&&this.i.set(t,e),e}registerTransformer(t,e){const n=this.getResolver(t);if(null==n)return!1;if(n.getFactory){const t=n.getFactory(this);return null!=t&&(t.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(nb(t),void 0!==t.resolve)return t;let n,s,i=this;for(;null!=i;){if(n=i.u.get(t),null!=n)return n;if(null==i.parent)return s=ob(t)?this:i,e?this.$(t,s):null;i=i.parent}return null}has(t,e=!1){return!!this.u.has(t)||!(!e||null==this.parent)&&this.parent.has(t,!0)}get(t){if(nb(t),t.$isResolver)return t.resolve(this,this);let e,n,s=this;for(;null!=s;){if(e=s.u.get(t),null!=e)return e.resolve(s,this);if(null==s.parent)return n=ob(t)?this:s,e=this.$(t,n),e.resolve(s,this);s=s.parent}throw ub(t)}getAll(t,e=!1){nb(t);const n=this;let s,i=n;if(e){let e=tw;for(;null!=i;)s=i.u.get(t),null!=s&&(e=e.concat(sb(s,i,n))),i=i.parent;return e}for(;null!=i;){if(s=i.u.get(t),null!=s)return sb(s,i,n);if(i=i.parent,null==i)return tw}return tw}invoke(t,e){if(Uv(t))throw mb(t);return void 0===e?new t(...Ib(t).map(Kb,this)):new t(...Ib(t).map(Kb,this),...e)}getFactory(t){let e=this.h.get(t);if(void 0===e){if(Uv(t))throw mb(t);this.h.set(t,e=new Qb(t,Ib(t)))}return e}registerFactory(t,e){this.h.set(t,e)}createChild(t){return void 0===t&&this.config.inheritParentResources?this.config===xb.DEFAULT?new eb(this,this.config):new eb(this,xb.from({...this.config,inheritParentResources:!1})):new eb(this,xb.from(t??this.config))}disposeResolvers(){const t=this.u,e=this.i;let n,s;for([s,n]of e.entries())n.dispose(),t.delete(s);e.clear()}find(t,e){const n=t.keyFrom(e);let s=this.res[n];if(void 0===s&&(s=this.root.res[n],void 0===s))return null;if(null===s)return null;if(Cv(s.getFactory)){const e=s.getFactory(this);if(null==e)return null;const n=wv(t.name,e.Type);return void 0===n?null:n}return null}create(t,e){const n=t.keyFrom(e);let s=this.res[n];return void 0===s?(s=this.root.res[n],void 0===s?null:s.resolve(this.root,this)??null):s.resolve(this,this)??null}dispose(){this.i.size>0&&this.disposeResolvers(),this.u.clear()}$(t,e){if(!Cv(t))throw fb(t);if(Jv.has(t.name))throw db(t);if(rb(t)){const n=t.register(e,t);if(!(n instanceof Object)||null==n.resolve){const n=e.u.get(t);if(null!=n)return n;throw pb()}return n}if(Gv.resource.has(t)){const n=Gv.resource.getAll(t);if(1===n.length)n[0].register(e);else{const t=n.length;for(let s=0;s<t;++s)n[s].register(e)}const s=e.u.get(t);if(null!=s)return s;throw pb()}if(t.$isInterface)throw gb(t.friendlyName);{const n=this.config.defaultResolver(t,e);return e.u.set(t,n),n}}}function nb(t){if(null==t)throw xv("AUR0014")}const sb=(t,e,n)=>{if(t instanceof qb&&4===t.R){const s=t._state;let i=s.length;const r=new Array(i);for(;i--;)r[i]=s[i].resolve(e,n);return r}return[t.resolve(e,n)]},ib={$isResolver:!0,resolve:(t,e)=>e},rb=t=>Cv(t.register),ob=t=>(t=>rb(t)&&"boolean"==typeof t.registerInRequestor)(t)&&t.registerInRequestor,ab=t=>void 0!==t.prototype,cb=t=>Sv(t)&&t.indexOf(":")>0,hb=t=>xv(`AUR0006:${t.map(bv)}`),lb=t=>xv(`AUR0007:${bv(t)}`),ub=t=>xv(`AUR0008:${bv(t)}`),fb=t=>xv(`AUR0009:${bv(t)}`),db=t=>xv(`AUR0010:${t.name}`),pb=()=>xv("AUR0011"),gb=t=>xv(`AUR0012:${t}`),mb=t=>xv(`AUR0015:${t.name}`),vb=(t,e)=>new qb(t,0,e),bb=(t,e)=>new qb(t,1,e),wb=new WeakMap,yb=t=>(e,n,s)=>{let i=wb.get(e);if(void 0===i&&wb.set(e,i=new WeakMap),i.has(s))return i.get(s);const r=t(e,n,s);return i.set(s,r),r};((t,e=!0,n=!1,s=!0,i=!0)=>{if((t=>pv in t)(t)){if(t[pv]===zm)return;if(t[pv]instanceof WeakMap)return void(zm=t[pv]);throw mv("AUR1001")}const r="metadata decorate defineMetadata hasMetadata hasOwnMetadata getMetadata getOwnMetadata getMetadataKeys getOwnMetadataKeys deleteMetadata".split(" ").filter((t=>t in Reflect));if(r.length>0){if(e){const t=r.map((function(t){return`${t}:\n${Reflect[t].toString().slice(0,100)}...`})).join("\n\n");throw mv(`AUR1002:${t}`)}n&&gv(t,s,i)}else gv(t,s,i)})(Reflect,!1,!1);class kb{constructor(t,e){this.c=t,this.k=e}instance(t){return this.C(0,t)}singleton(t){return this.C(1,t)}transient(t){return this.C(2,t)}callback(t){return this.C(3,t)}cachedCallback(t){return this.C(3,yb(t))}aliasTo(t){return this.C(5,t)}C(t,e){const{c:n,k:s}=this;return this.c=this.k=void 0,n.registerResolver(s,new qb(s,t,e))}}const Cb=t=>{const e=t.slice(),n=Object.keys(t),s=n.length;let i;for(let r=0;r<s;++r)i=n[r],Tv(i)||(e[i]=t[i]);return e},Sb={none(t){throw Ab(t)},singleton:t=>new qb(t,1,t),transient:t=>new qb(t,2,t)},Ab=t=>xv(`AUR0002:${bv(t)}`);class xb{constructor(t,e){this.inheritParentResources=t,this.defaultResolver=e}static from(t){return void 0===t||t===xb.DEFAULT?xb.DEFAULT:new xb(t.inheritParentResources??!1,t.defaultResolver??Sb.singleton)}}xb.DEFAULT=xb.from({});const $b=t=>{const e=qv("di:paramtypes");return wv(e,t)},Tb=t=>{const e=qv("di:paramtypes");let n=wv(e,t);return void 0===n&&(kv(e,n=[],t),_v(t,e)),n},Ib=t=>{const e=qv("di:dependencies");let n=wv(e,t);if(void 0===n){const s=t.inject;if(void 0===s){const e=Eb.getDesignParamtypes(t),s=$b(t);if(void 0===e)if(void 0===s){const e=Object.getPrototypeOf(t);n=Cv(e)&&e!==Function.prototype?Cb(Ib(e)):[]}else n=Cb(s);else if(void 0===s)n=Cb(e);else{n=Cb(e);let t,i=s.length,r=0;for(;r<i;++r)t=s[r],void 0!==t&&(n[r]=t);const o=Object.keys(s);let a;for(r=0,i=o.length,r=0;r<i;++r)a=o[r],Tv(a)||(n[a]=s[a])}}else n=Cb(s);kv(e,n,t),_v(t,e)}return n},Rb=(t,e)=>{const n=Cv(t)?t:e,s=Sv(t)?t:void 0,i=function(t,e,n){if(null==t||void 0!==new.target)throw Ob(i.friendlyName);Tb(t)[n]=i};return i.$isInterface=!0,i.friendlyName=null==s?"(anonymous)":s,null!=n&&(i.register=(t,e)=>n(new kb(t,e??i))),i.toString=()=>`InterfaceSymbol<${i.friendlyName}>`,i},Ob=t=>xv(`AUR0001:${t}`),Eb={createContainer:t=>new eb(null,xb.from(t)),getDesignParamtypes:t=>wv("design:paramtypes",t),getAnnotationParamtypes:$b,getOrCreateAnnotationParamTypes:Tb,getDependencies:Ib,createInterface:Rb,inject:(...t)=>(e,n,s)=>{if("number"==typeof s){const n=Tb(e),i=t[0];void 0!==i&&(n[s]=i)}else if(n){const s=Tb(e.constructor),i=t[0];void 0!==i&&(s[n]=i)}else if(s){const e=s.value,n=Tb(e);let i,r=0;for(;r<t.length;++r)i=t[r],void 0!==i&&(n[r]=i)}else{const n=Tb(e);let s,i=0;for(;i<t.length;++i)s=t[i],void 0!==s&&(n[i]=s)}},transient:t=>(t.register=function(e){return Zb.transient(t,t).register(e,t)},t.registerInRequestor=!1,t),singleton:(t,e=Ub)=>(t.register=function(e){return Zb.singleton(t,t).register(e,t)},t.registerInRequestor=e.scoped,t)},Pb=Rb("IContainer"),Mb=Pb;function Nb(t){return function(e){const n=function(t,e,s){jb(n)(t,e,s)};return n.$isResolver=!0,n.resolve=function(n,s){return t(e,n,s)},n}}const jb=Eb.inject;function Lb(t){return Eb.transient(t)}function Bb(t){return null==t?Lb:Lb(t)}const Ub={scoped:!1};Eb.singleton;const Fb=(t,e)=>{e=!!e;const n=function(t,e,s){jb(n)(t,e,s)};return n.$isResolver=!0,n.resolve=function(n,s){return((t,e,n,s)=>n.getAll(t,s))(t,0,s,e)},n},Vb=(Nb(((t,e,n)=>()=>n.get(t))),Nb(((t,e,n)=>n.has(t,!0)?n.get(t):void 0))),Db=(t,e,n)=>{jb(Db)(t,e,n)};Db.$isResolver=!0,Db.resolve=()=>{},Nb(((t,e,n)=>(...s)=>e.getFactory(t).construct(n,s))),Nb(((t,e,n)=>{const s=Wb(t,e,n),i=new Yb(bv(t),s);return n.registerResolver(t,i,!0),s})),Nb(((t,e,n)=>Wb(t,e,n)));const Wb=(t,e,n)=>e.getFactory(t).construct(n);class qb{constructor(t,e,n){this.k=t,this.R=e,this._state=n,this.resolving=!1}get $isResolver(){return!0}register(t,e){return t.registerResolver(e||this.k,this)}resolve(t,e){switch(this.R){case 0:return this._state;case 1:if(this.resolving)throw _b(this._state.name);return this.resolving=!0,this._state=t.getFactory(this._state).construct(e),this.R=0,this.resolving=!1,this._state;case 2:{const n=t.getFactory(this._state);if(null===n)throw Hb(this.k);return n.construct(e)}case 3:return this._state(t,e,this);case 4:return this._state[0].resolve(t,e);case 5:return e.get(this._state);default:throw zb(this.R)}}getFactory(t){switch(this.R){case 1:case 2:return t.getFactory(this._state);case 5:return t.getResolver(this._state)?.getFactory?.(t)??null;default:return null}}}const _b=t=>xv(`AUR0003:${t}`),Hb=t=>xv(`AUR0004:${bv(t)}`),zb=t=>xv(`AUR0005:${t}`);function Kb(t){return this.get(t)}function Gb(t,e){return e(t)}class Qb{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){let n;return n=void 0===e?new this.Type(...this.dependencies.map(Kb,t)):new this.Type(...this.dependencies.map(Kb,t),...e),null==this.transformers?n:this.transformers.reduce(Gb,n)}registerTransformer(t){(this.transformers??(this.transformers=[])).push(t)}}class Xb{constructor(t,e){this.key=t,this.params=e}register(t){t.has(this.key,!0)?t.get(this.key).register(t,...this.params):t.register(...this.params.filter((t=>"object"==typeof t)))}}const Zb={instance:vb,singleton:bb,transient:(t,e)=>new qb(t,2,e),callback:(t,e)=>new qb(t,3,e),cachedCallback:(t,e)=>new qb(t,3,yb(e)),aliasTo:(t,e)=>new qb(e,5,t),defer:(t,...e)=>new Xb(t,e)};class Yb{constructor(t,e){this.A=null,this.j=t,void 0!==e&&(this.A=e)}get friendlyName(){return this.j}prepare(t){this.A=t}get $isResolver(){return!0}resolve(){if(null==this.A)throw Jb(this.j);return this.A}dispose(){this.A=null}}const Jb=t=>xv(`AUR0013:${t}`),tw=Object.freeze([]),ew=Object.freeze({});function nw(){}const sw=Rb("IPlatform");function iw(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}function rw(t,e){return function(n,s){e(n,s,t)}}var ow,aw;!function(t){t[t.trace=0]="trace",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t[t.fatal=5]="fatal",t[t.none=6]="none"}(ow||(ow={})),function(t){t[t.noColors=0]="noColors",t[t.colors=1]="colors"}(aw||(aw={}));const cw=Rb("ILogConfig",(t=>t.instance(new gw(0,3)))),hw=Rb("ISink"),lw=Rb("ILogEventFactory",(t=>t.singleton(ww))),uw=Rb("ILogger",(t=>t.singleton(kw))),fw=Rb("ILogScope"),dw=Object.freeze({key:qv("logger-sink-handles"),define(t,e){return kv(this.key,e.handles,t.prototype),t},getHandles(t){return dv.get(this.key,t)}}),pw=Bv({red:t=>`[31m${t}[39m`,green:t=>`[32m${t}[39m`,yellow:t=>`[33m${t}[39m`,blue:t=>`[34m${t}[39m`,magenta:t=>`[35m${t}[39m`,cyan:t=>`[36m${t}[39m`,white:t=>`[37m${t}[39m`,grey:t=>`[90m${t}[39m`});class gw{constructor(t,e){this.colorOptions=t,this.level=e}}const mw=function(){const t=[Bv({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),Bv({TRC:pw.grey("TRC"),DBG:pw.grey("DBG"),INF:pw.white("INF"),WRN:pw.yellow("WRN"),ERR:pw.red("ERR"),FTL:pw.red("FTL"),QQQ:pw.grey("???")})];return(e,n)=>e<=0?t[n].TRC:e<=1?t[n].DBG:e<=2?t[n].INF:e<=3?t[n].WRN:e<=4?t[n].ERR:e<=5?t[n].FTL:t[n].QQQ}(),vw=(t,e)=>0===e?new Date(t).toISOString():pw.grey(new Date(t).toISOString());class bw{constructor(t,e,n,s,i,r){this.severity=t,this.message=e,this.optionalParams=n,this.scope=s,this.colorOptions=i,this.timestamp=r}toString(){const{severity:t,message:e,scope:n,colorOptions:s,timestamp:i}=this;return 0===n.length?`${vw(i,s)} [${mw(t,s)}] ${e}`:`${vw(i,s)} [${mw(t,s)} ${((t,e)=>0===e?t.join("."):t.map(pw.cyan).join("."))(n,s)}] ${e}`}}let ww=class{constructor(t){this.config=t}createLogEvent(t,e,n,s){return new bw(e,n,s,t.scope,this.config.colorOptions,Date.now())}};ww=iw([rw(0,cw)],ww);let yw=class t{constructor(t){const e=t.console;this.handleEvent=function(t){const n=t.optionalParams;if(void 0===n||0===n.length){const n=t.toString();switch(t.severity){case 0:case 1:return e.debug(n);case 2:return e.info(n);case 3:return e.warn(n);case 4:case 5:return e.error(n)}}else{let s=t.toString(),i=0;for(;s.includes("%s");)s=s.replace("%s",String(n[i++]));switch(t.severity){case 0:case 1:return e.debug(s,...n.slice(i));case 2:return e.info(s,...n.slice(i));case 3:return e.warn(s,...n.slice(i));case 4:case 5:return e.error(s,...n.slice(i))}}}}static register(e){bb(hw,t).register(e)}};yw=iw([rw(0,sw)],yw);let kw=class t{constructor(t,e,n,s=[],i=null){let r,o,a,c,h,l;if(this.scope=s,this.I=Av(),this.config=t,this.f=e,this.sinks=n,null===i){this.root=this,this.parent=this,r=this.O=[],o=this.M=[],a=this.F=[],c=this.L=[],h=this.U=[],l=this.T=[];for(const t of n){const e=dw.getHandles(t);(e?.includes(0)??1)&&r.push(t),(e?.includes(1)??1)&&o.push(t),(e?.includes(2)??1)&&a.push(t),(e?.includes(3)??1)&&c.push(t),(e?.includes(4)??1)&&h.push(t),(e?.includes(5)??1)&&l.push(t)}}else this.root=i.root,this.parent=i,r=this.O=i.O,o=this.M=i.M,a=this.F=i.F,c=this.L=i.L,h=this.U=i.U,l=this.T=i.T}trace(t,...e){this.config.level<=0&&this.P(this.O,0,t,e)}debug(t,...e){this.config.level<=1&&this.P(this.M,1,t,e)}info(t,...e){this.config.level<=2&&this.P(this.F,2,t,e)}warn(t,...e){this.config.level<=3&&this.P(this.L,3,t,e)}error(t,...e){this.config.level<=4&&this.P(this.U,4,t,e)}fatal(t,...e){this.config.level<=5&&this.P(this.T,5,t,e)}scopeTo(e){const n=this.I;let s=n[e];return void 0===s&&(s=n[e]=new t(this.config,this.f,void 0,this.scope.concat(e),this)),s}P(t,e,n,s){const i=Cv(n)?n():n,r=this.f.createLogEvent(this,e,i,s);for(let e=0,n=t.length;e<n;++e)t[e].handleEvent(r)}};iw([Mv],kw.prototype,"trace",null),iw([Mv],kw.prototype,"debug",null),iw([Mv],kw.prototype,"info",null),iw([Mv],kw.prototype,"warn",null),iw([Mv],kw.prototype,"error",null),iw([Mv],kw.prototype,"fatal",null),kw=iw([rw(0,cw),rw(1,lw),rw(2,Fb(hw)),rw(3,Vb(fw)),rw(4,Db)],kw),Bv({create:({level:t=3,colorOptions:e=0,sinks:n=[]}={})=>Bv({register(s){s.register(vb(cw,new gw(e,t)));for(const t of n)Cv(t)?s.register(bb(hw,t)):s.register(t);return s}})}),Rb((t=>t.singleton(Aw)));const Cw=t=>t;class Sw{constructor(t){this.N=new Map,this.W=new Map,this.B=t}transform(t){if(t instanceof Promise)return this._(t);if("object"==typeof t&&null!==t)return this.G(t);throw xv(`Invalid input: ${String(t)}. Expected Promise or Object.`)}_(t){if(this.N.has(t))return this.N.get(t);const e=t.then((t=>this.G(t)));return this.N.set(t,e),e.then((e=>{this.N.set(t,e)})),e}G(t){if(this.W.has(t))return this.W.get(t);const e=this.B(this.K(t));return this.W.set(t,e),e instanceof Promise&&e.then((e=>{this.W.set(t,e)})),e}K(t){if(null==t)throw new Error(`Invalid input: ${String(t)}. Expected Object.`);if("object"!=typeof t)return new xw(t,[]);let e,n,s,i;const r=[];for(const o in t){switch(typeof(e=t[o])){case"object":if(null===e)continue;n=Cv(e.register),s=!1,i=tw;break;case"function":n=Cv(e.register),s=void 0!==e.prototype,i=Gv.resource.getAll(e);break;default:continue}r.push(new $w(o,e,n,s,i))}return new xw(t,r)}}class Aw{constructor(){this.transformers=new Map}load(t,e=Cw){const n=this.transformers;let s=n.get(e);return void 0===s&&n.set(e,s=new Sw(e)),s.transform(t)}dispose(){this.transformers.clear()}}class xw{constructor(t,e){this.raw=t,this.items=e}}class $w{constructor(t,e,n,s,i){this.key=t,this.value=e,this.isRegistry=n,this.isConstructable=s,this.definitions=i}}class Tw{constructor(t,e){this.type=t,this.cb=e}handle(t){t instanceof this.type&&this.cb.call(null,t)}}Rb("IEventAggregator",(t=>t.singleton(Iw)));class Iw{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(t,e){if(!t)throw xv(`Invalid channel name or instance: ${t}.`);if(Sv(t)){let n=this.eventLookup[t];if(void 0!==n){n=n.slice();let s=n.length;for(;s-- >0;)n[s](e,t)}}else{const e=this.messageHandlers.slice();let n=e.length;for(;n-- >0;)e[n].handle(t)}}subscribe(t,e){if(!t)throw xv(`Invalid channel name or type: ${t}.`);let n,s;return Sv(t)?(void 0===this.eventLookup[t]&&(this.eventLookup[t]=[]),n=e,s=this.eventLookup[t]):(n=new Tw(t,e),s=this.messageHandlers),s.push(n),{dispose(){const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}}subscribeOnce(t,e){const n=this.subscribe(t,((t,s)=>{n.dispose(),e(t,s)}));return n}}const Rw=Eb.createInterface("IGoogleMapsConfiguration",(t=>t.singleton(Ow)));class Ow{constructor(){this._config={apiScript:"https://maps.googleapis.com/maps/api/js",apiKey:"",client:"",apiLibraries:"",region:"",language:"",options:{},markerCluster:{enable:!1,src:"https://cdn.rawgit.com/googlemaps/v3-utility-library/99a385c1/markerclusterer/src/markerclusterer.js",imagePath:"https://raw.githubusercontent.com/googlemaps/v3-utility-library/99a385c1/markerclusterer/images/m",imageExtension:"png"}}}getOptions(){return this._config}options(t){Object.assign(this._config,t,{markerCluster:Object.assign({},this._config.markerCluster,t.markerCluster)})}get(t){return this._config[t]}set(t,e){return this._config[t]=e,this._config[t]}}const Ew=Object,Pw=Ew.prototype.hasOwnProperty,Mw=Reflect.defineProperty,Nw=t=>new Error(t),jw=t=>"function"==typeof t,Lw=t=>t instanceof Ew,Bw=t=>t instanceof Array,Uw=t=>t instanceof Set,Fw=t=>t instanceof Map,Vw=Ew.is;function Dw(t,e,n){return Mw(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n}),n}function Ww(t,e,n){e in t||Dw(t,e,n)}const qw=String,_w=Eb.createInterface,Hw=()=>Ew.create(null),zw=dv.getOwn;dv.hasOwn;const Kw=dv.define;var Gw;Gv.annotation.keyFor,Gv.resource.keyFor,Gv.resource.appendTo,function(t){t[t.AccessThis=0]="AccessThis",t[t.AccessScope=1]="AccessScope",t[t.ArrayLiteral=2]="ArrayLiteral",t[t.ObjectLiteral=3]="ObjectLiteral",t[t.PrimitiveLiteral=4]="PrimitiveLiteral",t[t.Template=5]="Template",t[t.Unary=6]="Unary",t[t.CallScope=7]="CallScope",t[t.CallMember=8]="CallMember",t[t.CallFunction=9]="CallFunction",t[t.AccessMember=10]="AccessMember",t[t.AccessKeyed=11]="AccessKeyed",t[t.TaggedTemplate=12]="TaggedTemplate",t[t.Binary=13]="Binary",t[t.Conditional=14]="Conditional",t[t.Assign=15]="Assign",t[t.ArrowFunction=16]="ArrowFunction",t[t.ValueConverter=17]="ValueConverter",t[t.BindingBehavior=18]="BindingBehavior",t[t.ArrayBindingPattern=19]="ArrayBindingPattern",t[t.ObjectBindingPattern=20]="ObjectBindingPattern",t[t.BindingIdentifier=21]="BindingIdentifier",t[t.ForOfStatement=22]="ForOfStatement",t[t.Interpolation=23]="Interpolation",t[t.ArrayDestructuring=24]="ArrayDestructuring",t[t.ObjectDestructuring=25]="ObjectDestructuring",t[t.DestructuringAssignmentLeaf=26]="DestructuringAssignmentLeaf",t[t.DestructuringAssignmentRestLeaf=27]="DestructuringAssignmentRestLeaf",t[t.Custom=28]="Custom"}(Gw||(Gw={}));class Qw{constructor(t){this.value=t,this.$kind=28}evaluate(t,e,n){return this.value}assign(t,e,n){return n}bind(t,e){}unbind(t,e){}accept(t){}}class Xw{constructor(t,e,n){this.expression=t,this.name=e,this.args=n,this.$kind=18,this.key=`_bb_${e}`}}class Zw{constructor(t,e,n){this.expression=t,this.name=e,this.args=n,this.$kind=17}}class Yw{constructor(t,e){this.target=t,this.value=e,this.$kind=15}}class Jw{constructor(t,e,n){this.condition=t,this.yes=e,this.no=n,this.$kind=14}}class ty{constructor(t=0){this.ancestor=t,this.$kind=0}}ty.$this=new ty(0),ty.$parent=new ty(1);class ey{constructor(t,e=0){this.name=t,this.ancestor=e,this.$kind=1}}class ny{constructor(t,e,n=!1){this.object=t,this.name=e,this.optional=n,this.$kind=10}}class sy{constructor(t,e,n=!1){this.object=t,this.key=e,this.optional=n,this.$kind=11}}class iy{constructor(t,e,n=0,s=!1){this.name=t,this.args=e,this.ancestor=n,this.optional=s,this.$kind=7}}class ry{constructor(t,e,n,s=!1,i=!1){this.object=t,this.name=e,this.args=n,this.optionalMember=s,this.optionalCall=i,this.$kind=8}}class oy{constructor(t,e,n=!1){this.func=t,this.args=e,this.optional=n,this.$kind=9}}class ay{constructor(t,e,n){this.operation=t,this.left=e,this.right=n,this.$kind=13}}class cy{constructor(t,e){this.operation=t,this.expression=e,this.$kind=6}}class hy{constructor(t){this.value=t,this.$kind=4}}hy.$undefined=new hy(void 0),hy.$null=new hy(null),hy.$true=new hy(!0),hy.$false=new hy(!1),hy.$empty=new hy("");class ly{constructor(t){this.elements=t,this.$kind=2}}ly.$empty=new ly(tw);class uy{constructor(t,e){this.keys=t,this.values=e,this.$kind=3}}uy.$empty=new uy(tw,tw);class fy{constructor(t,e=tw){this.cooked=t,this.expressions=e,this.$kind=5}}fy.$empty=new fy([""]);class dy{constructor(t,e,n,s=tw){this.cooked=t,this.func=n,this.expressions=s,this.$kind=12,t.raw=e}}class py{constructor(t){this.elements=t,this.$kind=19}}class gy{constructor(t,e){this.keys=t,this.values=e,this.$kind=20}}class my{constructor(t){this.name=t,this.$kind=21}}class vy{constructor(t,e,n){this.declaration=t,this.iterable=e,this.semiIdx=n,this.$kind=22}}class by{constructor(t,e=tw){this.parts=t,this.expressions=e,this.$kind=23,this.isMulti=e.length>1,this.firstExpression=e[0]}}class wy{constructor(t,e,n,s){this.$kind=t,this.list=e,this.source=n,this.initializer=s}}class yy{constructor(t,e,n){this.target=t,this.source=e,this.initializer=n,this.$kind=26}}class ky{constructor(t,e,n=!1){this.args=t,this.body=e,this.rest=n,this.$kind=16}}class Cy{constructor(t,e){void 0!==t&&(this[t]=e)}}class Sy{constructor(t,e,n,s){this.parent=t,this.bindingContext=e,this.overrideContext=n,this.isBoundary=s}static getContext(t,e,n){if(null==t)throw Ay();let s=t.overrideContext,i=t;if(n>0){for(;n>0;)if(n--,i=i.parent,null==i)return;return s=i.overrideContext,e in s?s:i.bindingContext}for(;null!=i&&!i.isBoundary&&!(e in i.overrideContext)&&!(e in i.bindingContext);)i=i.parent;return null==i?t.bindingContext:(s=i.overrideContext,e in s?s:i.bindingContext)}static create(t,e,n){if(null==t)throw xy();return new Sy(null,t,null==e?new $y:e,n??!1)}static fromParent(t,e){if(null==t)throw Ay();return new Sy(t,e,new $y,!1)}}const Ay=()=>Nw("AUR0203"),xy=()=>Nw("AUR0204");class $y{}const Ty=Sy.getContext;function Iy(t,e,n,s){switch(t.$kind){case 0:{let n=e.overrideContext,s=e,i=t.ancestor;for(;i--&&n;)s=s.parent,n=s?.overrideContext??null;return i<1&&s?s.bindingContext:void 0}case 1:{const i=Ty(e,t.name,t.ancestor);null!==s&&s.observe(i,t.name);const r=i[t.name];if(null==r&&"$host"===t.name)throw Nw("AUR0105");return n?.strict?n?.boundFn&&jw(r)?r.bind(i):r:null==r?"":n?.boundFn&&jw(r)?r.bind(i):r}case 2:return t.elements.map((t=>Iy(t,e,n,s)));case 3:{const i={};for(let r=0;r<t.keys.length;++r)i[t.keys[r]]=Iy(t.values[r],e,n,s);return i}case 4:return t.value;case 5:{let i=t.cooked[0];for(let r=0;r<t.expressions.length;++r)i+=String(Iy(t.expressions[r],e,n,s)),i+=t.cooked[r+1];return i}case 6:switch(t.operation){case"void":return void Iy(t.expression,e,n,s);case"typeof":return typeof Iy(t.expression,e,n,s);case"!":return!Iy(t.expression,e,n,s);case"-":return-Iy(t.expression,e,n,s);case"+":return+Iy(t.expression,e,n,s);default:throw Nw(`AUR0109:${t.operation}`)}case 7:{const i=t.args.map((t=>Iy(t,e,n,s))),r=Ty(e,t.name,t.ancestor),o=jy(n?.strictFnCall,r,t.name);return o?o.apply(r,i):void 0}case 8:{const i=Iy(t.object,e,n,s),r=t.args.map((t=>Iy(t,e,n,s))),o=jy(n?.strictFnCall,i,t.name);let a;return o&&(a=o.apply(i,r),Bw(i)&&Uy.includes(t.name)&&s?.observeCollection(i)),a}case 9:{const i=Iy(t.func,e,n,s);if(jw(i))return i(...t.args.map((t=>Iy(t,e,n,s))));if(!n?.strictFnCall&&null==i)return;throw Nw("AUR0107")}case 16:{const i=(...i)=>{const r=t.args,o=t.rest,a=r.length-1,c=r.reduce(((t,e,n)=>(t[e.name]=o&&n===a?i.slice(n):i[n],t)),{}),h=Sy.fromParent(e,c);return Iy(t.body,h,n,s)};return i}case 10:{const i=Iy(t.object,e,n,s);let r;return n?.strict?null==i?i:(null!==s&&s.observe(i,t.name),r=i[t.name],n?.boundFn&&jw(r)?r.bind(i):r):(null!==s&&Lw(i)&&s.observe(i,t.name),i?(r=i[t.name],n?.boundFn&&jw(r)?r.bind(i):r):"")}case 11:{const i=Iy(t.object,e,n,s);if(Lw(i)){const r=Iy(t.key,e,n,s);return null!==s&&s.observe(i,r),i[r]}return}case 12:{const i=t.expressions.map((t=>Iy(t,e,n,s))),r=Iy(t.func,e,n,s);if(!jw(r))throw Nw("AUR0110");return r(t.cooked,...i)}case 13:{const i=t.left,r=t.right;switch(t.operation){case"&&":return Iy(i,e,n,s)&&Iy(r,e,n,s);case"||":return Iy(i,e,n,s)||Iy(r,e,n,s);case"??":return Iy(i,e,n,s)??Iy(r,e,n,s);case"==":return Iy(i,e,n,s)==Iy(r,e,n,s);case"===":return Iy(i,e,n,s)===Iy(r,e,n,s);case"!=":return Iy(i,e,n,s)!=Iy(r,e,n,s);case"!==":return Iy(i,e,n,s)!==Iy(r,e,n,s);case"instanceof":{const t=Iy(r,e,n,s);return!!jw(t)&&Iy(i,e,n,s)instanceof t}case"in":{const t=Iy(r,e,n,s);return!!Lw(t)&&Iy(i,e,n,s)in t}case"+":{const t=Iy(i,e,n,s),o=Iy(r,e,n,s);if(n?.strict)return t+o;if(!t||!o){if(Ly(t)||Ly(o))return(t||0)+(o||0);if(By(t)||By(o))return(t||"")+(o||"")}return t+o}case"-":return Iy(i,e,n,s)-Iy(r,e,n,s);case"*":return Iy(i,e,n,s)*Iy(r,e,n,s);case"/":return Iy(i,e,n,s)/Iy(r,e,n,s);case"%":return Iy(i,e,n,s)%Iy(r,e,n,s);case"<":return Iy(i,e,n,s)<Iy(r,e,n,s);case">":return Iy(i,e,n,s)>Iy(r,e,n,s);case"<=":return Iy(i,e,n,s)<=Iy(r,e,n,s);case">=":return Iy(i,e,n,s)>=Iy(r,e,n,s);default:throw Nw(`AUR0108:${t.operation}`)}}case 14:return Iy(t.condition,e,n,s)?Iy(t.yes,e,n,s):Iy(t.no,e,n,s);case 15:return Ry(t.target,e,n,Iy(t.value,e,n,s));case 17:{const i=n?.getConverter?.(t.name);if(null==i)throw Nw(`AUR0103:${t.name}`);return"toView"in i?i.toView(Iy(t.expression,e,n,s),...t.args.map((t=>Iy(t,e,n,s)))):Iy(t.expression,e,n,s)}case 18:return Iy(t.expression,e,n,s);case 21:return t.name;case 22:return Iy(t.iterable,e,n,s);case 23:if(t.isMulti){let i=t.parts[0],r=0;for(;r<t.expressions.length;++r)i+=qw(Iy(t.expressions[r],e,n,s)),i+=t.parts[r+1];return i}return`${t.parts[0]}${Iy(t.firstExpression,e,n,s)}${t.parts[1]}`;case 26:return Iy(t.target,e,n,s);case 24:return t.list.map((t=>Iy(t,e,n,s)));case 19:case 20:case 25:default:return;case 28:return t.evaluate(e,n,s)}}function Ry(t,e,n,s){switch(t.$kind){case 1:if("$host"===t.name)throw Nw("AUR0106");return Ty(e,t.name,t.ancestor)[t.name]=s;case 10:{const i=Iy(t.object,e,n,null);return Lw(i)?"length"===t.name&&Bw(i)&&!isNaN(s)?i.splice(s):i[t.name]=s:Ry(t.object,e,n,{[t.name]:s}),s}case 11:{const i=Iy(t.object,e,n,null),r=Iy(t.key,e,n,null);if(Bw(i)){if("length"===r&&!isNaN(s))return i.splice(s),s;if(Tv(r))return i.splice(r,1,s),s}return i[r]=s}case 15:return Ry(t.value,e,n,s),Ry(t.target,e,n,s);case 17:{const i=n?.getConverter?.(t.name);if(null==i)throw Ny(t.name);return"fromView"in i&&(s=i.fromView(s,...t.args.map((t=>Iy(t,e,n,null))))),Ry(t.expression,e,n,s)}case 18:return Ry(t.expression,e,n,s);case 24:case 25:{const i=t.list,r=i.length;let o,a;for(o=0;o<r;o++)switch(a=i[o],a.$kind){case 26:Ry(a,e,n,s);break;case 24:case 25:{if("object"!=typeof s||null===s)throw Nw("AUR0112");let t=Iy(a.source,Sy.create(s),n,null);void 0===t&&a.initializer&&(t=Iy(a.initializer,e,n,null)),Ry(a,e,n,t);break}}break}case 26:if(t instanceof yy){if(null==s)return;if("object"!=typeof s)throw Nw("AUR0112");let i=Iy(t.source,Sy.create(s),n,null);void 0===i&&t.initializer&&(i=Iy(t.initializer,e,n,null)),Ry(t.target,e,n,i)}else{if(null==s)return;if("object"!=typeof s)throw Nw("AUR0112");const i=t.indexOrProperties;let r;if(Tv(i)){if(!Array.isArray(s))throw Nw("AUR0112");r=s.slice(i)}else r=Object.entries(s).reduce(((t,[e,n])=>(i.includes(e)||(t[e]=n),t)),{});Ry(t.target,e,n,r)}break;case 28:return t.assign(e,n,s);default:return}}function Oy(t,e,n){switch(t.$kind){case 18:{const s=t.name,i=t.key,r=n.getBehavior?.(s);if(null==r)throw Py(s);if(void 0!==n[i])throw My(s);return n[i]=r,r.bind?.(e,n,...t.args.map((t=>Iy(t,e,n,null)))),void Oy(t.expression,e,n)}case 17:{const s=t.name,i=n.getConverter?.(s);if(null==i)throw Ny(s);const r=i.signals;if(null!=r){const t=n.getSignaler?.(),e=r.length;let s=0;for(;s<e;++s)t?.addSignalListener(r[s],n)}return void Oy(t.expression,e,n)}case 22:Oy(t.iterable,e,n);break;case 28:t.bind?.(e,n)}}function Ey(t,e,n){switch(t.$kind){case 18:{const s=t.key,i=n;void 0!==i[s]&&(i[s].unbind?.(e,n),i[s]=void 0),Ey(t.expression,e,n);break}case 17:{const s=n.getConverter?.(t.name);if(void 0===s?.signals)return;const i=n.getSignaler?.();let r=0;for(;r<s.signals.length;++r)i?.removeSignalListener(s.signals[r],n);Ey(t.expression,e,n);break}case 22:Ey(t.iterable,e,n);break;case 28:t.unbind?.(e,n)}}const Py=t=>Nw(`AUR0101:${t}`),My=t=>Nw(`AUR0102:${t}`),Ny=t=>Nw(`AUR0103:${t}`),jy=(t,e,n)=>{const s=null==e?null:e[n];if(jw(s))return s;if(!t&&null==s)return null;throw Nw(`AUR0111:${n}`)},Ly=t=>{switch(typeof t){case"number":case"bigint":return!0;default:return!1}},By=t=>{switch(typeof t){case"string":return!0;case"object":return t instanceof Date;default:return!1}},Uy="at map filter includes indexOf lastIndexOf findIndex find flat flatMap join reduce reduceRight slice every some sort".split(" "),Fy=Eb.createInterface("ICoercionConfiguration");var Vy,Dy;function Wy(t=0){const e=Array(t);let n=0;for(;n<t;)e[n]=n++;return e.deletedIndices=[],e.deletedItems=[],e.isIndexMap=!0,e}!function(t){t[t.indexed=8]="indexed",t[t.keyed=4]="keyed",t[t.array=9]="array",t[t.map=6]="map",t[t.set=7]="set"}(Vy||(Vy={})),function(t){t[t.None=0]="None",t[t.Observer=1]="Observer",t[t.Node=2]="Node",t[t.Layout=4]="Layout",t[t.Primtive=8]="Primtive",t[t.Array=18]="Array",t[t.Set=34]="Set",t[t.Map=66]="Map"}(Dy||(Dy={}));new Map;function qy(t){return null==t?_y:_y(t)}function _y(t){const e=t.prototype;Mw(e,"subs",{get:zy}),Ww(e,"subscribe",Ky),Ww(e,"unsubscribe",Gy)}class Hy{constructor(){this.count=0,this.t=[]}add(t){return!this.t.includes(t)&&(this.t[this.t.length]=t,++this.count,!0)}remove(t){const e=this.t.indexOf(t);return-1!==e&&(this.t.splice(e,1),--this.count,!0)}notify(t,e){const n=this.t.slice(0),s=n.length;let i=0;for(;i<s;++i)n[i].handleChange(t,e)}notifyCollection(t,e){const n=this.t.slice(0),s=n.length;let i=0;for(;i<s;++i)n[i].handleCollectionChange(t,e)}}function zy(){return Dw(this,"subs",new Hy)}function Ky(t){return this.subs.add(t)}function Gy(t){return this.subs.remove(t)}class Qy{constructor(t){this.owner=t,this.type=18,this.v=(this.o=t.collection).length}getValue(){return this.o.length}setValue(t){t!==this.v&&(Number.isNaN(t)||(this.o.splice(t),this.v=this.o.length))}handleCollectionChange(t,e){const n=this.v,s=this.o.length;(this.v=s)!==n&&this.subs.notify(this.v,n)}}class Xy{constructor(t){this.owner=t,this.v=(this.o=t.collection).size,this.type=Fw(this.o)?66:34}getValue(){return this.o.size}setValue(){throw Nw("AUR02")}handleCollectionChange(t,e){const n=this.v,s=this.o.size;(this.v=s)!==n&&this.subs.notify(this.v,n)}}function Zy(t){const e=t.prototype;Ww(e,"subscribe",Yy),Ww(e,"unsubscribe",Jy),qy(t)}function Yy(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}function Jy(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.subscribe(this)}Zy(Qy),Zy(Xy);const tk="__au_array_obs__",ek=(()=>{let t=zw(tk,Array);return null==t&&Kw(tk,t=new WeakMap,Array),t})();function nk(t,e){return t===e?0:(t=null===t?"null":t.toString())<(e=null===e?"null":e.toString())?-1:1}function sk(t,e){return void 0===t?void 0===e?0:1:void 0===e?-1:0}function ik(t,e,n,s,i){let r,o,a,c,h,l,u;for(l=n+1;l<s;l++){for(r=t[l],o=e[l],u=l-1;u>=n&&(a=t[u],c=e[u],h=i(a,r),h>0);u--)t[u+1]=a,e[u+1]=c;t[u+1]=r,e[u+1]=o}}function rk(t,e,n,s,i){let r,o,a,c,h,l,u,f,d,p,g,m,v,b,w,y,k,C,S,A=0,x=0;for(;;){if(s-n<=10)return void ik(t,e,n,s,i);A=n+(s-n>>1),r=t[n],c=e[n],o=t[s-1],h=e[s-1],a=t[A],l=e[A],u=i(r,o),u>0&&(p=r,g=c,r=o,c=h,o=p,h=g),f=i(r,a),f>=0?(p=r,g=c,r=a,c=l,a=o,l=h,o=p,h=g):(d=i(o,a),d>0&&(p=o,g=h,o=a,h=l,a=p,l=g)),t[n]=r,e[n]=c,t[s-1]=a,e[s-1]=l,m=o,v=h,b=n+1,w=s-1,t[A]=t[b],e[A]=e[b],t[b]=m,e[b]=v;t:for(x=b+1;x<w;x++)if(y=t[x],k=e[x],C=i(y,m),C<0)t[x]=t[b],e[x]=e[b],t[b]=y,e[b]=k,b++;else if(C>0){do{if(w--,w==x)break t;S=t[w],C=i(S,m)}while(C>0);t[x]=t[w],e[x]=e[w],t[w]=y,e[w]=k,C<0&&(y=t[x],k=e[x],t[x]=t[b],e[x]=e[b],t[b]=y,e[b]=k,b++)}s-w<b-n?(rk(t,e,w,s,i),s=b):(rk(t,e,n,b,i),n=w)}}const ok=Array.prototype,ak=ok.push,ck=ok.unshift,hk=ok.pop,lk=ok.shift,uk=ok.splice,fk=ok.reverse,dk=ok.sort,pk=["push","unshift","pop","shift","splice","reverse","sort"],gk={push:function(...t){const e=ek.get(this);if(void 0===e)return ak.apply(this,t);const n=this.length,s=t.length;if(0===s)return n;this.length=e.indexMap.length=n+s;let i=n;for(;i<this.length;)this[i]=t[i-n],e.indexMap[i]=-2,i++;return e.notify(),this.length},unshift:function(...t){const e=ek.get(this);if(void 0===e)return ck.apply(this,t);const n=t.length,s=new Array(n);let i=0;for(;i<n;)s[i++]=-2;ck.apply(e.indexMap,s);const r=ck.apply(this,t);return e.notify(),r},pop:function(){const t=ek.get(this);if(void 0===t)return hk.call(this);const e=t.indexMap,n=hk.call(this),s=e.length-1;return e[s]>-1&&(e.deletedIndices.push(e[s]),e.deletedItems.push(n)),hk.call(e),t.notify(),n},shift:function(){const t=ek.get(this);if(void 0===t)return lk.call(this);const e=t.indexMap,n=lk.call(this);return e[0]>-1&&(e.deletedIndices.push(e[0]),e.deletedItems.push(n)),lk.call(e),t.notify(),n},splice:function(...t){const e=t[0],n=t[1],s=ek.get(this);if(void 0===s)return uk.apply(this,t);const i=this.length,r=0|e,o=r<0?Math.max(i+r,0):Math.min(r,i),a=s.indexMap,c=t.length,h=0===c?0:1===c?i-o:n;let l=o;if(h>0){const t=l+h;for(;l<t;)a[l]>-1&&(a.deletedIndices.push(a[l]),a.deletedItems.push(this[l])),l++}if(l=0,c>2){const t=c-2,s=new Array(t);for(;l<t;)s[l++]=-2;uk.call(a,e,n,...s)}else uk.apply(a,t);const u=uk.apply(this,t);return(h>0||l>0)&&s.notify(),u},reverse:function(){const t=ek.get(this);if(void 0===t)return fk.call(this),this;const e=this.length,n=e/2|0;let s=0;for(;s!==n;){const n=e-s-1,i=this[s],r=t.indexMap[s],o=this[n],a=t.indexMap[n];this[s]=o,t.indexMap[s]=a,this[n]=i,t.indexMap[n]=r,s++}return t.notify(),this},sort:function(t){const e=ek.get(this);if(void 0===e)return dk.call(this,t),this;let n=this.length;if(n<2)return this;rk(this,e.indexMap,0,n,sk);let s=0;for(;s<n&&void 0!==this[s];)s++;void 0!==t&&jw(t)||(t=nk),rk(this,e.indexMap,0,s,t);let i=!1;for(s=0,n=e.indexMap.length;n>s;++s)if(e.indexMap[s]!==s){i=!0;break}return i&&e.notify(),this}};for(const t of pk)Mw(gk[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let mk=!1;const vk="__au_arr_on__";class bk{constructor(t){this.type=18,mk||(mk=!0,function(){if(!zw(vk,Array)){Kw(vk,!0,Array);for(const t of pk)!0!==ok[t].observing&&Dw(ok,t,gk[t])}}()),this.indexObservers={},this.collection=t,this.indexMap=Wy(t.length),this.lenObs=void 0,ek.set(t,this)}notify(){this.subs;const t=this.indexMap;const e=this.collection,n=e.length;this.indexMap=Wy(n),this.subs.notifyCollection(e,t)}getLengthObserver(){return this.lenObs??(this.lenObs=new Qy(this))}getIndexObserver(t){var e;return(e=this.indexObservers)[t]??(e[t]=new wk(this,t))}}class wk{constructor(t,e){this.owner=t,this.index=e,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(t){if(t===this.getValue())return;const e=this.owner,n=this.index,s=e.indexMap;s[n]>-1&&s.deletedIndices.push(s[n]),s[n]=-2,e.collection[n]=t,e.notify()}handleCollectionChange(t,e){const n=this.index;if(e[n]===n)return;const s=this.value,i=this.value=this.getValue();s!==i&&this.subs.notify(i,s)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.unsubscribe(this)}}function yk(t){let e=ek.get(t);return void 0===e&&(e=new bk(t)),e}qy(bk),qy(wk);const kk=(t,e)=>t-e,Ck="__au_set_obs__",Sk=(()=>{let t=zw(Ck,Set);return null==t&&Kw(Ck,t=new WeakMap,Set),t})(),Ak=Set.prototype,xk=Ak.add,$k=Ak.clear,Tk=Ak.delete,Ik=["add","clear","delete"],Rk={add:function(t){const e=Sk.get(this);if(void 0===e)return xk.call(this,t),this;const n=this.size;return xk.call(this,t),this.size===n||(e.indexMap[n]=-2,e.notify()),this},clear:function(){const t=Sk.get(this);if(void 0===t)return $k.call(this);if(this.size>0){const e=t.indexMap;let n=0;for(const t of this.keys())e[n]>-1&&(e.deletedIndices.push(e[n]),e.deletedItems.push(t)),n++;$k.call(this),e.length=0,t.notify()}},delete:function(t){const e=Sk.get(this);if(void 0===e)return Tk.call(this,t);if(0===this.size)return!1;let n=0;const s=e.indexMap;for(const i of this.keys()){if(i===t){s[n]>-1&&(s.deletedIndices.push(s[n]),s.deletedItems.push(i)),s.splice(n,1);const r=Tk.call(this,t);return!0===r&&e.notify(),r}n++}return!1}},Ok={writable:!0,enumerable:!1,configurable:!0};for(const t of Ik)Mw(Rk[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Ek=!1;const Pk="__au_set_on__";class Mk{constructor(t){this.type=34,Ek||(Ek=!0,function(){if(!zw(Pk,Set)){Kw(Pk,!0,Set);for(const t of Ik)!0!==Ak[t].observing&&Mw(Ak,t,{...Ok,value:Rk[t]})}}()),this.collection=t,this.indexMap=Wy(t.size),this.lenObs=void 0,Sk.set(t,this)}notify(){this.subs;const t=this.indexMap;const e=this.collection,n=e.size;this.indexMap=Wy(n),this.subs.notifyCollection(e,t)}getLengthObserver(){return this.lenObs??(this.lenObs=new Xy(this))}}function Nk(t){let e=Sk.get(t);return void 0===e&&(e=new Mk(t)),e}qy(Mk);const jk="__au_map_obs__",Lk=(()=>{let t=zw(jk,Map);return null==t&&Kw(jk,t=new WeakMap,Map),t})(),Bk=Map.prototype,Uk=Bk.set,Fk=Bk.clear,Vk=Bk.delete,Dk=["set","clear","delete"],Wk={set:function(t,e){const n=Lk.get(this);if(void 0===n)return Uk.call(this,t,e),this;const s=this.get(t),i=this.size;if(Uk.call(this,t,e),this.size===i){let e=0;for(const i of this.entries()){if(i[0]===t)return i[1]!==s&&(n.indexMap.deletedIndices.push(n.indexMap[e]),n.indexMap.deletedItems.push(i),n.indexMap[e]=-2,n.notify()),this;e++}return this}return n.indexMap[i]=-2,n.notify(),this},clear:function(){const t=Lk.get(this);if(void 0===t)return Fk.call(this);if(this.size>0){const e=t.indexMap;let n=0;for(const t of this.keys())e[n]>-1&&(e.deletedIndices.push(e[n]),e.deletedItems.push(t)),n++;Fk.call(this),e.length=0,t.notify()}},delete:function(t){const e=Lk.get(this);if(void 0===e)return Vk.call(this,t);if(0===this.size)return!1;let n=0;const s=e.indexMap;for(const i of this.keys()){if(i===t){s[n]>-1&&(s.deletedIndices.push(s[n]),s.deletedItems.push(i)),s.splice(n,1);const r=Vk.call(this,t);return!0===r&&e.notify(),r}++n}return!1}},qk={writable:!0,enumerable:!1,configurable:!0};for(const t of Dk)Mw(Wk[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let _k=!1;const Hk="__au_map_on__";class zk{constructor(t){this.type=66,_k||(_k=!0,function(){if(!zw(Hk,Map)){Kw(Hk,!0,Map);for(const t of Dk)!0!==Bk[t].observing&&Mw(Bk,t,{...qk,value:Wk[t]})}}()),this.collection=t,this.indexMap=Wy(t.size),this.lenObs=void 0,Lk.set(t,this)}notify(){const t=this.subs,e=this.indexMap;const n=this.collection,s=n.size;this.indexMap=Wy(s),t.notifyCollection(n,e)}getLengthObserver(){return this.lenObs??(this.lenObs=new Xy(this))}}function Kk(t){let e=Lk.get(t);return void 0===e&&(e=new zk(t)),e}function Gk(){return Dw(this,"obs",new tC(this))}function Qk(t,e){this.obs.add(this.oL.getObserver(t,e))}function Xk(t){let e;if(Bw(t))e=yk(t);else if(Uw(t))e=Nk(t);else{if(!Fw(t))throw Nw("AUR0210");e=Kk(t)}this.obs.add(e)}function Zk(t){this.obs.add(t)}function Yk(){throw Nw("AUR2011:handleChange")}function Jk(){throw Nw("AUR2011:handleCollectionChange")}qy(zk);class tC{constructor(t){this.version=0,this.count=0,this.o=new Map,this.b=t}add(t){this.o.has(t)||(t.subscribe(this.b),++this.count),this.o.set(t,this.version)}clear(){this.o.forEach(nC,this),this.count=this.o.size}clearAll(){this.o.forEach(eC,this),this.o.clear(),this.count=0}}function eC(t,e){e.unsubscribe(this.b)}function nC(t,e){this.version!==t&&(e.unsubscribe(this.b),this.o.delete(e))}function sC(t){const e=t.prototype;return Ww(e,"observe",Qk),Ww(e,"observeCollection",Xk),Ww(e,"subscribeTo",Zk),Mw(e,"obs",{get:Gk}),Ww(e,"handleChange",Yk),Ww(e,"handleCollectionChange",Jk),t}function iC(t){return null==t?sC:sC(t)}const rC=_w("IExpressionParser",(t=>t.singleton(oC)));class oC{constructor(){this.i=Hw(),this.u=Hw(),this.h=Hw()}parse(t,e){let n;switch(e){case 32:return new Qw(t);case 1:return n=this.h[t],void 0===n&&(n=this.h[t]=this.$parse(t,e)),n;case 2:return n=this.u[t],void 0===n&&(n=this.u[t]=this.$parse(t,e)),n;default:if(0===t.length){if((24&e)>0)return hy.$empty;throw QC()}return n=this.i[t],void 0===n&&(n=this.i[t]=this.$parse(t,e)),n}}$parse(t,e){return mC=t,vC=0,bC=t.length,wC=0,yC=0,kC=6291456,CC="",gC=TC(0),SC=!0,AC=!1,xC=-1,RC(61,void 0===e?16:e)}}function aC(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}const cC=hy.$false,hC=hy.$true,lC=hy.$null,uC=hy.$undefined,fC=ty.$this,dC=ty.$parent;var pC;!function(t){t[t.None=0]="None",t[t.Interpolation=1]="Interpolation",t[t.IsIterator=2]="IsIterator",t[t.IsChainable=4]="IsChainable",t[t.IsFunction=8]="IsFunction",t[t.IsProperty=16]="IsProperty",t[t.IsCustom=32]="IsCustom"}(pC||(pC={}));let gC,mC="",vC=0,bC=0,wC=0,yC=0,kC=6291456,CC="",SC=!0,AC=!1,xC=-1;const $C=String.fromCharCode,TC=t=>mC.charCodeAt(t),IC=()=>mC.slice(yC,vC);function RC(t,e){if(32===e)return new Qw(mC);if(0===vC){if(1&e)return function(){const t=[],e=[],n=bC;let s="";for(;vC<n;){switch(gC){case 36:if(123===TC(vC+1)){t.push(s),s="",vC+=2,gC=TC(vC),LC();const n=RC(61,1);e.push(n);continue}s+="$";break;case 92:s+=$C(aC(BC()));break;default:s+=$C(gC)}BC()}return e.length?(t.push(s),new by(t,e)):null}();if(LC(),4194304&kC)throw qC()}SC=513>t,AC=!1;let n,s=!1,i=0;if(131072&kC){const t=pS[63&kC];LC(),n=new cy(t,RC(514,e)),SC=!1}else{t:switch(kC){case 12294:i=wC,SC=!1;do{switch(LC(),++i,kC){case 65545:if(LC(),0==(12288&kC))throw HC();break;case 10:case 11:throw HC();case 2162700:if(AC=!0,LC(),0==(12288&kC)){n=0===i?fC:1===i?dC:new ty(i),s=!0;break t}break;default:if(2097152&kC){n=0===i?fC:1===i?dC:new ty(i);break t}throw zC()}}while(12294===kC);case 4096:{const t=CC;if(n=2&e?new my(t):new ey(t,i),SC=!AC,LC(),DC(50)){if(524296===kC)throw fS();const e=AC,s=wC;++wC;const i=RC(62,0);AC=e,wC=s,SC=!1,n=new ky([new my(t)],i)}break}case 10:throw dS();case 11:throw _C();case 12292:switch(SC=!1,LC(),wC){case 0:n=fC;break;case 1:n=dC;break;default:n=new ty(wC)}break;case 2688007:n=function(t){LC();const e=vC,n=yC,s=kC,i=gC,r=CC,o=SC,a=AC,c=[];let h=1,l=!1;e:for(;;){if(11===kC){if(LC(),4096!==kC)throw HC();if(c.push(new my(CC)),LC(),6291471===kC)throw uS();if(7340046!==kC)throw _C();if(LC(),50!==kC)throw _C();LC();const t=AC,e=wC;++wC;const n=RC(62,0);return AC=t,wC=e,SC=!1,new ky(c,n,!0)}switch(kC){case 4096:c.push(new my(CC)),LC();break;case 7340046:LC();break e;case 524296:case 2688016:LC(),h=4;break;case 6291471:h=2,l=!0;break e;case 2688007:h=2;break e;default:LC(),h=2}switch(kC){case 6291471:if(LC(),l=!0,1===h)break;break e;case 7340046:LC();break e;case 4194349:1===h&&(h=3);break e;case 50:if(l)throw cS();LC(),h=2;break e;default:1===h&&(h=2);break e}}if(50===kC){if(1===h){if(LC(),524296===kC)throw fS();const t=AC,e=wC;++wC;const n=RC(62,0);return AC=t,wC=e,SC=!1,new ky(c,n)}throw cS()}if(1===h&&0===c.length)throw sS(50);if(l)switch(h){case 2:throw cS();case 3:throw hS();case 4:throw lS()}vC=e,yC=n,kC=s,gC=i,CC=r,SC=o,AC=a;const u=AC,f=RC(62,t);if(AC=u,WC(7340046),50===kC)switch(h){case 2:throw cS();case 3:throw hS();case 4:throw lS()}return f}(e);break;case 2688016:n=mC.search(/\s+of\s+/)>vC?function(){const t=[],e=new wy(24,t,void 0,void 0);let n="",s=!0,i=0;for(;s;)switch(LC(),kC){case 7340051:s=!1,r();break;case 6291471:r();break;case 4096:n=IC();break;default:throw rS()}return WC(7340051),e;function r(){""!==n?(t.push(new yy(new ny(fC,n),new sy(fC,new hy(i++)),void 0)),n=""):i++}}():function(t){const e=AC;LC();const n=new Array;for(;7340051!==kC;)if(DC(6291471)){if(n.push(uC),7340051===kC)break}else{if(n.push(RC(62,-3&t)),!DC(6291471))break;if(7340051===kC)break}return AC=e,WC(7340051),2&t?new py(n):(SC=!1,new ly(n))}(e);break;case 524296:n=function(t){const e=AC,n=new Array,s=new Array;for(LC();7340045!==kC;){if(n.push(CC),49152&kC)LC(),WC(6291476),s.push(RC(62,-3&t));else{if(!(12288&kC))throw eS();{const e=gC,n=kC,i=vC;LC(),DC(6291476)?s.push(RC(62,-3&t)):(gC=e,kC=n,vC=i,s.push(RC(515,-3&t)))}}7340045!==kC&&WC(6291471)}return AC=e,WC(7340045),2&t?new gy(n,s):(SC=!1,new uy(n,s))}(e);break;case 2163759:n=new fy([CC]),SC=!1,LC();break;case 2163760:n=NC(e,n,!1);break;case 16384:case 32768:n=new hy(CC),SC=!1,LC();break;case 8194:case 8195:case 8193:case 8192:n=pS[63&kC],SC=!1,LC();break;default:throw vC>=bC?KC():GC()}if(2&e)return function(t){if(0==(23&t.$kind))throw tS();if(4204593!==kC)throw tS();LC();const e=t,n=RC(61,4);return new vy(e,n,xC)}(n);if(514<t)return n;if(10===kC||11===kC)throw HC();if(0===n.$kind)switch(kC){case 2162700:if(AC=!0,SC=!1,LC(),0==(13312&kC))throw oS();if(12288&kC)n=new ey(CC,n.ancestor),LC();else if(2688007===kC)n=new oy(n,OC(),!0);else{if(2688016!==kC)throw aS();n=EC(n,!0)}break;case 65545:if(SC=!AC,LC(),0==(12288&kC))throw HC();n=new ey(CC,n.ancestor),LC();break;case 10:case 11:throw HC();case 2688007:n=new oy(n,OC(),s);break;case 2688016:n=EC(n,s);break;case 2163759:n=jC(n);break;case 2163760:n=NC(e,n,!0)}for(;(65536&kC)>0;)switch(kC){case 2162700:n=PC(n);break;case 65545:if(LC(),0==(12288&kC))throw HC();n=MC(n,!1);break;case 10:case 11:throw HC();case 2688007:n=1===n.$kind?new iy(n.name,OC(),n.ancestor,!1):10===n.$kind?new ry(n.object,n.name,OC(),n.optional,!1):new oy(n,OC(),!1);break;case 2688016:n=EC(n,!1);break;case 2163759:if(AC)throw aS();n=jC(n);break;case 2163760:if(AC)throw aS();n=NC(e,n,!0)}}if(10===kC||11===kC)throw HC();if(513<t)return n;for(;(262144&kC)>0;){const s=kC;if((960&s)<=t)break;LC(),n=new ay(pS[63&s],n,RC(960&s,e)),SC=!1}if(63<t)return n;if(DC(6291478)){const t=RC(62,e);WC(6291476),n=new Jw(n,t,RC(62,e)),SC=!1}if(62<t)return n;if(DC(4194349)){if(!SC)throw XC();n=new Yw(n,RC(62,e))}if(61<t)return n;for(;DC(6291480);){if(6291456===kC)throw ZC();const t=CC;LC();const s=new Array;for(;DC(6291476);)s.push(RC(62,e));n=new Zw(n,t,s)}for(;DC(6291479);){if(6291456===kC)throw YC();const t=CC;LC();const s=new Array;for(;DC(6291476);)s.push(RC(62,e));n=new Xw(n,t,s)}if(6291456!==kC){if((1&e)>0&&7340045===kC)return n;if((4&e)>0&&6291477===kC){if(vC===bC)throw GC();return xC=vC-1,n}if("of"===IC())throw JC();throw GC()}return n}function OC(){const t=AC;LC();const e=[];for(;7340046!==kC&&(e.push(RC(62,0)),DC(6291471)););return WC(7340046),SC=!1,AC=t,e}function EC(t,e){const n=AC;return LC(),t=new sy(t,RC(62,0),e),WC(7340051),SC=!n,AC=n,t}function PC(t){if(AC=!0,SC=!1,LC(),0==(13312&kC))throw oS();if(12288&kC)return MC(t,!0);if(2688007===kC)return 1===t.$kind?new iy(t.name,OC(),t.ancestor,!0):10===t.$kind?new ry(t.object,t.name,OC(),t.optional,!0):new oy(t,OC(),!0);if(2688016===kC)return EC(t,!0);throw aS()}function MC(t,e){const n=CC;switch(kC){case 2162700:{AC=!0,SC=!1;const s=vC,i=yC,r=kC,o=gC,a=CC,c=SC,h=AC;if(LC(),0==(13312&kC))throw oS();return 2688007===kC?new ry(t,n,OC(),e,!0):(vC=s,yC=i,kC=r,gC=o,CC=a,SC=c,AC=h,new ny(t,n,e))}case 2688007:return SC=!1,new ry(t,n,OC(),e,!1);default:return SC=!AC,LC(),new ny(t,n,e)}}function NC(t,e,n){const s=AC,i=[CC];WC(2163760);const r=[RC(62,t)];for(;2163759!==(kC=VC());)i.push(CC),WC(2163760),r.push(RC(62,t));return i.push(CC),SC=!1,AC=s,n?(LC(),new dy(i,i,e,r)):(LC(),new fy(i,r))}function jC(t){SC=!1;const e=[CC];return LC(),new dy(e,e,t)}function LC(){for(;vC<bC;)if(yC=vC,null!=(kC=kS[gC]()))return;kC=6291456}function BC(){return gC=TC(++vC)}function UC(t){let e=gC;if(!1===t){do{e=BC()}while(e<=57&&e>=48);if(46!==e)return CC=parseInt(IC(),10),32768;if(e=BC(),vC>=bC)return CC=parseInt(IC().slice(0,-1),10),32768}if(e<=57&&e>=48)do{e=BC()}while(e<=57&&e>=48);else gC=TC(--vC);return CC=parseFloat(IC()),32768}function FC(){let t=!0,e="";for(;96!==BC();)if(36===gC){if(vC+1<bC&&123===TC(vC+1)){vC++,t=!1;break}e+="$"}else if(92===gC)e+=$C(aC(BC()));else{if(vC>=bC)throw nS();e+=$C(gC)}return BC(),CC=e,t?2163759:2163760}const VC=()=>{if(vC>=bC)throw nS();return vC--,FC()},DC=t=>kC===t&&(LC(),!0),WC=t=>{if(kC!==t)throw sS(t);LC()},qC=()=>Nw(`AUR0151:${mC}`),_C=()=>Nw(`AUR0152:${mC}`),HC=()=>Nw(`AUR0153:${mC}`),zC=()=>Nw(`AUR0154:${mC}`),KC=()=>Nw(`AUR0155:${mC}`),GC=()=>Nw(`AUR0156:${mC}`),QC=()=>Nw("AUR0157"),XC=()=>Nw(`AUR0158:${mC}`),ZC=()=>Nw(`AUR0159:${mC}`),YC=()=>Nw(`AUR0160:${mC}`),JC=()=>Nw(`AUR0161:${mC}`),tS=()=>Nw(`AUR0163:${mC}`),eS=()=>Nw(`AUR0164:${mC}`),nS=()=>Nw(`AUR0166:${mC}`),sS=t=>Nw(`AUR0167:${mC}<${pS[63&t]}`),iS=()=>{throw Nw(`AUR0168:${mC}`)};iS.notMapped=!0;const rS=()=>Nw(`AUR0170:${mC}`),oS=()=>Nw(`AUR0171:${mC}`),aS=()=>Nw(`AUR0172:${mC}`),cS=()=>Nw(`AUR0173:${mC}`),hS=()=>Nw(`AUR0174:${mC}`),lS=()=>Nw(`AUR0175:${mC}`),uS=()=>Nw(`AUR0176:${mC}`),fS=()=>Nw(`AUR0178:${mC}`),dS=()=>Nw(`AUR0179:${mC}`),pS=[cC,hC,lC,uC,"$this",null,"$parent","(","{",".","..","...","?.","}",")",",","[","]",":",";","?","'",'"',"&","|","??","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",2163759,2163760,"of","=>"],gS=Object.assign(Object.create(null),{true:8193,null:8194,false:8192,undefined:8195,$this:12292,$parent:12294,in:6562212,instanceof:6562213,typeof:139304,void:139305,of:4204593}),mS=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],vS=[48,58],bS=(t,e,n,s)=>{const i=n.length;for(let r=0;r<i;r+=2){const i=n[r];let o=n[r+1];if(o=o>0?o:i+1,t&&t.fill(s,i,o),e)for(let t=i;t<o;t++)e.add(t)}},wS=t=>()=>(BC(),t);bS(null,new Set,[36,0,48,58,65,91,95,0,97,123],!0);const yS=new Uint8Array(65535);bS(yS,null,mS,1),bS(yS,null,vS,1);const kS=new Array(65535);kS.fill(iS,0,65535),bS(kS,null,[0,33,127,161],(()=>(BC(),null))),bS(kS,null,mS,(function(){for(;yS[BC()];);const t=gS[CC=IC()];return void 0===t?4096:t})),bS(kS,null,vS,(()=>UC(!1))),kS[34]=kS[39]=()=>function(){const t=gC;BC();let e=0;const n=new Array;let s=vC;for(;gC!==t;)if(92===gC)n.push(mC.slice(s,vC)),BC(),e=aC(gC),BC(),n.push($C(e)),s=vC;else{if(vC>=bC)throw Nw(`AUR0165:${mC}`);BC()}const i=mC.slice(s,vC);BC(),n.push(i);const r=n.join("");return CC=r,16384}(),kS[96]=()=>FC(),kS[33]=()=>61!==BC()?131118:61!==BC()?6553949:(BC(),6553951),kS[61]=()=>62===BC()?(BC(),50):61!==gC?4194349:61!==BC()?6553948:(BC(),6553950),kS[38]=()=>38!==BC()?6291479:(BC(),6553883),kS[124]=()=>124!==BC()?6291480:(BC(),6553818),kS[63]=()=>{if(46===BC()){const t=TC(vC+1);return t<=48||t>=57?(BC(),2162700):6291478}return 63!==gC?6291478:(BC(),6553753)},kS[46]=()=>BC()<=57&&gC>=48?UC(!0):46===gC?46!==BC()?10:(BC(),11):65545,kS[60]=()=>61!==BC()?6554016:(BC(),6554018),kS[62]=()=>61!==BC()?6554017:(BC(),6554019),kS[37]=wS(6554155),kS[40]=wS(2688007),kS[41]=wS(7340046),kS[42]=wS(6554154),kS[43]=wS(2490854),kS[44]=wS(6291471),kS[45]=wS(2490855),kS[47]=wS(6554156),kS[58]=wS(6291476),kS[59]=wS(6291477),kS[91]=wS(2688016),kS[93]=wS(7340051),kS[123]=wS(524296),kS[125]=wS(7340045);let CS=null;const SS=[];let AS=!1;function xS(){return CS}function $S(t){if(null==t)throw Nw("AUR0206");if(null==CS)return CS=t,SS[0]=CS,void(AS=!0);if(CS===t)throw Nw("AUR0207");SS.push(t),CS=t,AS=!0}function TS(t){if(null==t)throw Nw("AUR0208");if(CS!==t)throw Nw("AUR0209");SS.pop(),CS=SS.length>0?SS[SS.length-1]:null,AS=null!=CS}const IS=Object.freeze({get current(){return CS},get connecting(){return AS},enter:$S,exit:TS,pause:function(){AS=!1},resume:function(){AS=!0}}),RS=Reflect.get,OS=Object.prototype.toString,ES=new WeakMap;function PS(t){switch(OS.call(t)){case"[object Object]":case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const MS="__raw__";function NS(t){return PS(t)?jS(t):t}function jS(t){return ES.get(t)??function(t){const e=Bw(t)?VS:Fw(t)||Uw(t)?hA:FS,n=new Proxy(t,e);return ES.set(t,n),n}(t)}function LS(t){return t[MS]??t}function BS(t){return PS(t)&&t[MS]||t}function US(t){return"constructor"===t||"__proto__"===t||"$observers"===t||t===Symbol.toPrimitive||t===Symbol.toStringTag}const FS={get(t,e,n){if(e===MS)return t;const s=xS();return!AS||US(e)||null==s?RS(t,e,n):(s.observe(t,e),NS(RS(t,e,n)))}},VS={get(t,e,n){if(e===MS)return t;if(!AS||US(e)||null==CS)return RS(t,e,n);switch(e){case"length":return CS.observe(t,"length"),t.length;case"map":return DS;case"includes":return _S;case"indexOf":return HS;case"lastIndexOf":return zS;case"every":return WS;case"filter":return qS;case"find":return GS;case"findIndex":return KS;case"flat":return QS;case"flatMap":return XS;case"join":return ZS;case"push":return JS;case"pop":return YS;case"reduce":return aA;case"reduceRight":return cA;case"reverse":return sA;case"shift":return tA;case"unshift":return eA;case"slice":return oA;case"splice":return nA;case"some":return iA;case"sort":return rA;case"keys":return vA;case"values":case Symbol.iterator:return bA;case"entries":return wA}return CS.observe(t,e),NS(RS(t,e,n))},ownKeys:t=>(xS()?.observe(t,"length"),Reflect.ownKeys(t))};function DS(t,e){const n=LS(this),s=n.map(((n,s)=>BS(t.call(e,NS(n),s,this))));return yA(CS,n),NS(s)}function WS(t,e){const n=LS(this),s=n.every(((n,s)=>t.call(e,NS(n),s,this)));return yA(CS,n),s}function qS(t,e){const n=LS(this),s=n.filter(((n,s)=>BS(t.call(e,NS(n),s,this))));return yA(CS,n),NS(s)}function _S(t){const e=LS(this),n=e.includes(BS(t));return yA(CS,e),n}function HS(t){const e=LS(this),n=e.indexOf(BS(t));return yA(CS,e),n}function zS(t){const e=LS(this),n=e.lastIndexOf(BS(t));return yA(CS,e),n}function KS(t,e){const n=LS(this),s=n.findIndex(((n,s)=>BS(t.call(e,NS(n),s,this))));return yA(CS,n),s}function GS(t,e){const n=LS(this),s=n.find(((e,n)=>t(NS(e),n,this)),e);return yA(CS,n),NS(s)}function QS(){const t=LS(this);return yA(CS,t),NS(t.flat())}function XS(t,e){const n=LS(this);return yA(CS,n),jS(n.flatMap(((n,s)=>NS(t.call(e,NS(n),s,this)))))}function ZS(t){const e=LS(this);return yA(CS,e),e.join(t)}function YS(){return NS(LS(this).pop())}function JS(...t){return LS(this).push(...t)}function tA(){return NS(LS(this).shift())}function eA(...t){return LS(this).unshift(...t)}function nA(...t){return NS(LS(this).splice(...t))}function sA(...t){const e=LS(this),n=e.reverse();return yA(CS,e),NS(n)}function iA(t,e){const n=LS(this),s=n.some(((n,s)=>BS(t.call(e,NS(n),s,this))));return yA(CS,n),s}function rA(t){const e=LS(this),n=e.sort(t);return yA(CS,e),NS(n)}function oA(t,e){const n=LS(this);return yA(CS,n),jS(n.slice(t,e))}function aA(t,e){const n=LS(this),s=n.reduce(((e,n,s)=>t(e,NS(n),s,this)),e);return yA(CS,n),NS(s)}function cA(t,e){const n=LS(this),s=n.reduceRight(((e,n,s)=>t(e,NS(n),s,this)),e);return yA(CS,n),NS(s)}const hA={get(t,e,n){if(e===MS)return t;const s=xS();if(!AS||US(e)||null==s)return RS(t,e,n);switch(e){case"size":return s.observe(t,"size"),t.size;case"clear":return gA;case"delete":return mA;case"forEach":return lA;case"add":if(Uw(t))return pA;break;case"get":if(Fw(t))return fA;break;case"set":if(Fw(t))return dA;break;case"has":return uA;case"keys":return vA;case"values":return bA;case"entries":return wA;case Symbol.iterator:return Fw(t)?wA:bA}return NS(RS(t,e,n))}};function lA(t,e){const n=LS(this);return yA(CS,n),n.forEach(((n,s)=>{t.call(e,NS(n),NS(s),this)}))}function uA(t){const e=LS(this);return yA(CS,e),e.has(BS(t))}function fA(t){const e=LS(this);return yA(CS,e),NS(e.get(BS(t)))}function dA(t,e){return NS(LS(this).set(BS(t),BS(e)))}function pA(t){return NS(LS(this).add(BS(t)))}function gA(){return NS(LS(this).clear())}function mA(t){return NS(LS(this).delete(BS(t)))}function vA(){const t=LS(this);yA(CS,t);const e=t.keys();return{next(){const t=e.next(),n=t.value,s=t.done;return s?{value:void 0,done:s}:{value:NS(n),done:s}},[Symbol.iterator](){return this}}}function bA(){const t=LS(this);yA(CS,t);const e=t.values();return{next(){const t=e.next(),n=t.value,s=t.done;return s?{value:void 0,done:s}:{value:NS(n),done:s}},[Symbol.iterator](){return this}}}function wA(){const t=LS(this);yA(CS,t);const e=t.entries();return{next(){const t=e.next(),n=t.value,s=t.done;return s?{value:void 0,done:s}:{value:[NS(n[0]),NS(n[1])],done:s}},[Symbol.iterator](){return this}}}const yA=(t,e)=>t?.observeCollection(e),kA=Object.freeze({getProxy:jS,getRaw:LS,wrap:NS,unwrap:BS,rawKey:MS});class CA{constructor(t,e,n,s,i){this.type=1,this.v=void 0,this.ov=void 0,this.ir=!1,this.D=!1,this.o=t,this.$get=e,this.$set=n,this.up=s,this.oL=i}static create(t,e,n,s,i){const r=n.get,o=n.set,a=new CA(t,r,o,i,s),c=()=>a.getValue();return c.getObserver=()=>a,Mw(t,e,{enumerable:n.enumerable,configurable:!0,get:c,set:t=>{a.setValue(t)}}),a}getValue(){return 0===this.subs.count?this.$get.call(this.o,this):(this.D&&(this.compute(),this.D=!1),this.v)}setValue(t){if(!jw(this.$set))throw Nw("AUR0221");t!==this.v&&(this.ir=!0,this.$set.call(this.o,t),this.ir=!1,this.run())}handleChange(){this.D=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this.D=!0,this.subs.count>0&&this.run()}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.compute(),this.D=!1)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.D=!0,this.obs.clearAll())}run(){if(this.ir)return;const t=this.v,e=this.compute();this.D=!1,Vw(e,t)||(this.ov=t,SA=this.ov,this.ov=this.v,this.subs.notify(this.v,SA))}compute(){this.ir=!0,this.obs.version++;try{return $S(this),this.v=BS(this.$get.call(this.up?NS(this.o):this.o,this))}finally{this.obs.clear(),this.ir=!1,TS(this)}}}let SA;iC(CA),qy(CA);const AA=_w("IDirtyChecker",(t=>t.singleton(TA))),xA={timeoutsPerCheck:25,disabled:!1,throw:!1,resetToDefault(){this.timeoutsPerCheck=6,this.disabled=!1,this.throw=!1}},$A={persistent:!0};class TA{constructor(t){this.p=t,this.tracked=[],this.A=null,this.O=0,this.check=()=>{if(xA.disabled)return;if(++this.O<xA.timeoutsPerCheck)return;this.O=0;const t=this.tracked,e=t.length;let n,s=0;for(;s<e;++s)n=t[s],n.isDirty()&&n.flush()}}createProperty(t,e){if(xA.throw)throw Nw(`AUR0222:${qw(e)}`);return new IA(this,t,e)}addProperty(t){this.tracked.push(t),1===this.tracked.length&&(this.A=this.p.taskQueue.queueTask(this.check,$A))}removeProperty(t){this.tracked.splice(this.tracked.indexOf(t),1),0===this.tracked.length&&(this.A.cancel(),this.A=null)}}TA.inject=[sw];class IA{constructor(t,e,n){this.obj=e,this.key=n,this.type=0,this.ov=void 0,this.C=t}getValue(){return this.obj[this.key]}setValue(t){throw Nw(`Trying to set value for property ${qw(this.key)} in dirty checker`)}isDirty(){return this.ov!==this.obj[this.key]}flush(){const t=this.ov,e=this.getValue();this.ov=e,this.subs.notify(e,t)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.ov=this.obj[this.key],this.C.addProperty(this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.C.removeProperty(this)}}qy(IA);class RA{constructor(t,e){this.type=0,this.o=t,this.k=e}get doNotCache(){return!0}getValue(){return this.o[this.k]}setValue(){}subscribe(){}unsubscribe(){}}class OA{constructor(){this.type=0}getValue(t,e){return t[e]}setValue(t,e,n){e[n]=t}}class EA{constructor(t,e){this.type=1,this.v=void 0,this.iO=!1,this.o=t,this.k=e}getValue(){return this.v}setValue(t){if(this.iO){if(Vw(t,this.v))return;PA=this.v,this.v=t,this.subs.notify(t,PA)}else this.o[this.k]=t}subscribe(t){!1===this.iO&&this.start(),this.subs.add(t)}start(){return!1===this.iO&&(this.iO=!0,this.v=this.o[this.k],Mw(this.o,this.k,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:t=>{this.setValue(t)}})),this}stop(){return this.iO&&(Mw(this.o,this.k,{enumerable:!0,configurable:!0,writable:!0,value:this.v}),this.iO=!1),this}}let PA;qy(EA),qy(class{constructor(t,e,n,s){this.type=1,this.v=void 0,this.ov=void 0,this.o=t,this.S=n,this.hs=jw(n);const i=t[e];this.cb=jw(i)?i:void 0,this.v=s}getValue(){return this.v}setValue(t){this.hs&&(t=this.S(t,null)),Vw(t,this.v)||(this.ov=this.v,this.v=t,this.cb?.call(this.o,this.v,this.ov),PA=this.ov,this.ov=this.v,this.subs.notify(this.v,PA))}});const MA=new OA,NA=_w("IObserverLocator",(t=>t.singleton(BA))),jA=_w("INodeObserverLocator",(t=>t.cachedCallback((t=>new LA))));class LA{handles(){return!1}getObserver(){return MA}getAccessor(){return MA}}class BA{constructor(t,e){this.$=[],this.C=t,this.R=e}addAdapter(t){this.$.push(t)}getObserver(t,e){if(null==t)throw DA(e);if(!Lw(t))return new RA(t,e);const n=VA(t);let s=n[e];return void 0===s&&(s=this.createObserver(t,e),s.doNotCache||(n[e]=s)),s}getAccessor(t,e){const n=t.$observers?.[e];return void 0!==n?n:this.R.handles(t,e,this)?this.R.getAccessor(t,e,this):MA}getArrayObserver(t){return yk(t)}getMapObserver(t){return Kk(t)}getSetObserver(t){return Nk(t)}createObserver(t,e){if(this.R.handles(t,e,this))return this.R.getObserver(t,e,this);switch(e){case"length":if(Bw(t))return yk(t).getLengthObserver();break;case"size":if(Fw(t))return Kk(t).getLengthObserver();if(Uw(t))return Nk(t).getLengthObserver();break;default:if(Bw(t)&&Tv(e))return yk(t).getIndexObserver(Number(e))}let n=FA(t,e);if(void 0===n){let s=UA(t);for(;null!==s&&(n=FA(s,e),void 0===n);)s=UA(s)}if(void 0!==n&&!Pw.call(n,"value")){let s=this.U(t,e,n);return null==s&&(s=(n.get?.getObserver??n.set?.getObserver)?.(t,this)),null==s?n.configurable?CA.create(t,e,n,this,!0):this.C.createProperty(t,e):s}return new EA(t,e)}U(t,e,n){if(this.$.length>0)for(const s of this.$){const i=s.getObserver(t,e,n,this);if(null!=i)return i}return null}}BA.inject=[AA,jA];const UA=Object.getPrototypeOf,FA=Object.getOwnPropertyDescriptor,VA=t=>{let e=t.$observers;return void 0===e&&Mw(t,"$observers",{enumerable:!1,value:e=Hw()}),e},DA=t=>Nw(`AUR0199:${qw(t)}`);_w("IObservation",(t=>t.singleton(WA)));class WA{constructor(t){this.oL=t}static get inject(){return[NA]}run(t){const e=new qA(this.oL,t);return e.run(),e}}class qA{constructor(t,e){this.oL=t,this.fn=e,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}run(){if(this.stopped)throw Nw("AUR0225");if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{$S(this),this.fn(this)}finally{this.obs.clear(),this.running=!1,TS(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,Nw("AUR0226");this.run()}else this.runCount=0}}stop(){this.stopped=!0,this.obs.clearAll()}}iC(qA);const _A=_w("ISignaler",(t=>t.singleton(HA)));class HA{constructor(){this.signals=Hw()}dispatchSignal(t){const e=this.signals[t];if(void 0===e)return;let n;for(n of e.keys())n.handleChange(void 0,void 0)}addSignalListener(t,e){const n=this.signals,s=n[t];void 0===s?n[t]=new Set([e]):s.add(e)}removeSignalListener(t,e){this.signals[t]?.delete(e)}}new Map;class zA extends Error{constructor(t){super("Task was canceled."),this.task=t}}var KA,GA;function QA(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}function XA(t,e){return function(n,s){e(n,s,t)}}!function(t){t[t.pending=0]="pending",t[t.running=1]="running",t[t.completed=2]="completed",t[t.canceled=3]="canceled"}(KA||(KA={})),function(t){t[t.render=0]="render",t[t.macroTask=1]="macroTask",t[t.postRender=2]="postRender"}(GA||(GA={})),new Map;const ZA=dv.getOwn,YA=dv.hasOwn,JA=dv.define,{annotation:tx,resource:ex}=Gv,nx=tx.keyFor,sx=ex.keyFor,ix=ex.appendTo,rx=tx.appendTo,ox=tx.getKeys,ax=Object,cx=ax.prototype,hx=()=>ax.create(null),lx=t=>new Error(t),ux=cx.hasOwnProperty,fx=ax.freeze,dx=ax.assign,px=ax.getOwnPropertyNames,gx=ax.keys,mx=hx(),vx=(t,e,n)=>{if(!0===mx[e])return!0;if(!kx(e))return!1;const s=e.slice(0,5);return mx[e]="aria-"===s||"data-"===s||n.isStandardSvgAttribute(t,e)},bx=t=>t instanceof Promise,wx=t=>t instanceof Array,yx=t=>"function"==typeof t,kx=t=>"string"==typeof t,Cx=ax.defineProperty,Sx=t=>{throw t},Ax=ax.is,xx=Reflect.defineProperty,$x=(t,e,n)=>(xx(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n}),n);function Tx(t,e){let n;function s(t,e){arguments.length>1&&(n.property=e),JA(Rx,Ex.create(e,t,n),t.constructor,e),rx(t.constructor,Ox.keyFrom(e))}return arguments.length>1?(n={},void s(t,e)):kx(t)?(n={},s):(n=void 0===t?{}:t,s)}function Ix(t){return t.startsWith(Rx)}const Rx=nx("bindable"),Ox=fx({name:Rx,keyFrom:t=>`${Rx}:${t}`,from(t,...e){const n={},s=Array.isArray;function i(e){n[e]=Ex.create(e,t)}function r(e,s){n[e]=s instanceof Ex?s:Ex.create(e,t,s)}return e.forEach((function(t){s(t)?t.forEach(i):t instanceof Ex?n[t.property]=t:void 0!==t&&gx(t).forEach((e=>r(e,t[e])))})),n},for(t){let e;const n={add(s){let i,r;return kx(s)?(i=s,r={property:i}):(i=s.property,r=s),e=Ex.create(i,t,r),YA(Rx,t,i)||rx(t,Ox.keyFrom(i)),JA(Rx,e,t,i),n},mode:t=>(e.mode=t,n),callback:t=>(e.callback=t,n),attribute:t=>(e.attribute=t,n),primary:()=>(e.primary=!0,n),set:t=>(e.set=t,n)};return n},getAll(t){const e=Rx.length+1,n=[],s=Lv(t);let i,r,o,a,c=s.length,h=0;for(;--c>=0;)for(o=s[c],i=ox(o).filter(Ix),r=i.length,a=0;a<r;++a)n[h++]=ZA(Rx,o,i[a].slice(e));return n}});class Ex{constructor(t,e,n,s,i,r){this.attribute=t,this.callback=e,this.mode=n,this.primary=s,this.property=i,this.set=r}static create(t,e,n={}){return new Ex(jv(n.attribute,Ev(t)),jv(n.callback,`${t}Changed`),jv(n.mode,2),jv(n.primary,!1),jv(n.property,t),jv(n.set,function(t,e,n={}){const s=n.type??dv.get("design:type",e,t)??null;if(null==s)return nw;let i;switch(s){case Number:case Boolean:case String:case BigInt:i=s;break;default:{const t=s.coerce;i="function"==typeof t?t.bind(s):Px.for(s)??nw;break}}return i===nw?i:function(t,e){return function(n,s){return s?.enableCoercion?(e??!s?.coerceNullish)&&null==n?n:t(n,s):n}}(i,n.nullable)}(t,e,n)))}}const Px={key:nx("coercer"),define(t,e){JA(Px.key,t[e].bind(t),t)},for:t=>ZA(Px.key,t)};class Mx{constructor(t,e,n,s,i,r){this.set=s,this.$controller=i,this.i=r,this.v=void 0,this.ov=void 0;const o=t[n],a=t.propertyChanged,c=this.u=yx(o),h=this.A=yx(a),l=this.hs=s!==nw;let u;this.o=t,this.k=e,this.C=h?a:nw,this.cb=c?o:nw,void 0!==this.cb||h||l?(this.iO=!0,u=t[e],this.v=l&&void 0!==u?s(u,this.i):u,this.B()):this.iO=!1}get type(){return 1}getValue(){return this.v}setValue(t){this.hs&&(t=this.set(t,this.i));const e=this.v;if(this.iO){if(Ax(t,e))return;this.v=t,this.ov=e,(null==this.$controller||this.$controller.isBound)&&(this.u&&this.cb.call(this.o,t,e),this.A&&this.C.call(this.o,this.k,t,e)),this.subs.notify(this.v,this.ov)}else this.o[this.k]=t}subscribe(t){0==!this.iO&&(this.iO=!0,this.v=this.hs?this.set(this.o[this.k],this.i):this.o[this.k],this.B()),this.subs.add(t)}B(){Reflect.defineProperty(this.o,this.k,{enumerable:!0,configurable:!0,get:()=>this.v,set:t=>{this.setValue(t)}})}}qy(Mx);const Nx=function(t){function e(t,n,s){Eb.inject(e)(t,n,s)}return e.$isResolver=!0,e.resolve=function(e,n){return n.root===n||n.has(t,!1)?n.get(t):n.root.get(t)},e},jx=Eb.createInterface,Lx=Zb.singleton,Bx=Zb.aliasTo,Ux=Zb.instance;Zb.callback;const Fx=Zb.transient,Vx=(t,e,n)=>t.registerResolver(e,n);function Dx(t,e,n,s){for(let i=0,r=t.length;i<r;++i)Zb.aliasTo(n,e.keyFrom(t[i])).register(s)}class Wx{constructor(t,e,n,s){if(this.chars=t,this.repeat=e,this.isSymbol=n,this.isInverted=s,s)switch(t.length){case 0:this.has=this.R;break;case 1:this.has=this.I;break;default:this.has=this.T}else switch(t.length){case 0:this.has=this.P;break;case 1:this.has=this.L;break;default:this.has=this.U}}equals(t){return this.chars===t.chars&&this.repeat===t.repeat&&this.isSymbol===t.isSymbol&&this.isInverted===t.isInverted}U(t){return this.chars.includes(t)}L(t){return this.chars===t}P(t){return!1}T(t){return!this.chars.includes(t)}I(t){return this.chars!==t}R(t){return!0}}class qx{constructor(){this.parts=tw,this.$="",this._={},this.q={}}get pattern(){const t=this.$;return""===t?null:t}set pattern(t){null==t?(this.$="",this.parts=tw):(this.$=t,this.parts=this.q[t])}append(t,e){const n=this._;void 0===n[t]?n[t]=e:n[t]+=e}next(t){const e=this._;let n;void 0!==e[t]&&(n=this.q,void 0===n[t]?n[t]=[e[t]]:n[t].push(e[t]),e[t]=void 0)}}class _x{constructor(t,...e){this.charSpec=t,this.M=[],this.F=null,this.O=!1,this.V=e}get $(){return this.O?this.V[0]:null}findChild(t){const e=this.M,n=e.length;let s=null,i=0;for(;i<n;++i)if(s=e[i],t.equals(s.charSpec))return s;return null}append(t,e){const n=this.V;n.includes(e)||n.push(e);let s=this.findChild(t);return null==s&&(s=new _x(t,e),this.M.push(s),t.repeat&&s.M.push(s)),s}findMatches(t,e){const n=[],s=this.M,i=s.length;let r=0,o=null,a=0,c=0;for(;a<i;++a)if(o=s[a],o.charSpec.has(t))if(n.push(o),r=o.V.length,c=0,o.charSpec.isSymbol)for(;c<r;++c)e.next(o.V[c]);else for(;c<r;++c)e.append(o.V[c],t);return n}}class Hx{constructor(t){this.text=t;const e=this.N=t.length,n=this.j=[];let s=0;for(;e>s;++s)n.push(new Wx(t[s],!1,!1,!1))}eachChar(t){const e=this.N,n=this.j;let s=0;for(;e>s;++s)t(n[s])}}class zx{constructor(t){this.text="PART",this.H=new Wx(t,!0,!1,!0)}eachChar(t){t(this.H)}}class Kx{constructor(t){this.text=t,this.H=new Wx(t,!1,!0,!1)}eachChar(t){t(this.H)}}class Gx{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const Qx=jx("ISyntaxInterpreter",(t=>t.singleton(Xx)));class Xx{constructor(){this.W=new _x(null),this.G=[this.W]}add(t){t=t.slice(0).sort(((t,e)=>t.pattern>e.pattern?1:-1));const e=t.length;let n,s,i,r,o,a,c,h,l=0;for(;e>l;){for(n=this.W,s=t[l],i=s.pattern,r=new Gx,o=this.X(s,r),a=o.length,c=t=>n=n.append(t,i),h=0;a>h;++h)o[h].eachChar(c);n.F=r,n.O=!0,++l}}interpret(t){const e=new qx,n=t.length;let s,i=this.G,r=0;for(;r<n&&(i=this.K(i,t.charAt(r),e),0!==i.length);++r);return i=i.filter(Zx),i.length>0&&(i.sort(Yx),s=i[0],s.charSpec.isSymbol||e.next(s.$),e.pattern=s.$),e}K(t,e,n){const s=[];let i=null;const r=t.length;let o=0;for(;o<r;++o)i=t[o],s.push(...i.findMatches(e,n));return s}X(t,e){const n=[],s=t.pattern,i=s.length,r=t.symbols;let o=0,a=0,c="";for(;o<i;)c=s.charAt(o),0!==r.length&&r.includes(c)?o!==a?(n.push(new Hx(s.slice(a,o))),++e.statics,a=o):(n.push(new Kx(s.slice(a,o+1))),++e.symbols,a=++o):o===a&&"P"===c&&"PART"===s.slice(o,o+4)?(a=o+=4,n.push(new zx(r)),++e.dynamics):++o;return a!==o&&(n.push(new Hx(s.slice(a,o))),++e.statics),n}}function Zx(t){return t.O}function Yx(t,e){const n=t.F,s=e.F;return n.statics!==s.statics?s.statics-n.statics:n.dynamics!==s.dynamics?s.dynamics-n.dynamics:n.symbols!==s.symbols?s.symbols-n.symbols:0}class Jx{constructor(t,e,n,s){this.rawName=t,this.rawValue=e,this.target=n,this.command=s}}const t$=jx("IAttributePattern"),e$=jx("IAttributeParser",(t=>t.singleton(n$)));class n${constructor(t,e){this.Y={},this.Z=t;const n=this.V={},s=e.reduce(((t,e)=>{const s=a$(e.constructor);return s.forEach((t=>n[t.pattern]=e)),t.concat(s)}),tw);t.add(s)}parse(t,e){let n=this.Y[t];null==n&&(n=this.Y[t]=this.Z.interpret(t));const s=n.pattern;return null==s?new Jx(t,e,t,null):this.V[s][s](t,e,n.parts)}}function s$(...t){return function(e){return c$.define(t,e)}}n$.inject=[Qx,Fb(t$)];class i${constructor(t){this.Type=t,this.name=void 0}register(t){Lx(t$,this.Type).register(t)}}const r$=sx("attribute-pattern"),o$="attribute-pattern-definitions",a$=t=>Gv.annotation.get(t,o$),c$=fx({name:r$,definitionAnnotationKey:o$,define(t,e){const n=new i$(e);return JA(r$,n,e),ix(e,r$),Gv.annotation.set(e,o$,t),rx(e,o$),e},getPatternDefinitions:a$});let h$=class{"PART.PART"(t,e,n){return new Jx(t,e,n[0],n[1])}"PART.PART.PART"(t,e,n){return new Jx(t,e,`${n[0]}.${n[1]}`,n[2])}};h$=QA([s$({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})],h$);let l$=class{ref(t,e,n){return new Jx(t,e,"element","ref")}"PART.ref"(t,e,n){return new Jx(t,e,n[0],"ref")}};l$=QA([s$({pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."})],l$);let u$=class{":PART"(t,e,n){return new Jx(t,e,n[0],"bind")}};u$=QA([s$({pattern:":PART",symbols:":"})],u$);let f$=class{"@PART"(t,e,n){return new Jx(t,e,n[0],"trigger")}};f$=QA([s$({pattern:"@PART",symbols:"@"})],f$);let d$=class{"...$attrs"(t,e,n){return new Jx(t,e,"","...$attrs")}};d$=QA([s$({pattern:"...$attrs",symbols:""})],d$);class p${constructor(t,e,n){this.type=7,this.v=null,this.ov=null,this.J=!1,this.o=t,this.tt=e,this.et=n}getValue(){return this.v}setValue(t){this.v=t,this.J=t!==this.ov,this.it()}it(){if(this.J)switch(this.J=!1,this.ov=this.v,this.et){case"class":this.o.classList.toggle(this.tt,!!this.v);break;case"style":{let t="",e=this.v;kx(e)&&e.includes("!important")&&(t="important",e=e.replace("!important","")),this.o.style.setProperty(this.tt,e,t);break}default:null==this.v?this.o.removeAttribute(this.et):this.o.setAttribute(this.et,String(this.v))}}handleMutation(t){let e=!1;for(let n=0,s=t.length;s>n;++n){const s=t[n];if("attributes"===s.type&&s.attributeName===this.tt){e=!0;break}}if(e){let t;switch(this.et){case"class":t=this.o.classList.contains(this.tt);break;case"style":t=this.o.style.getPropertyValue(this.tt);break;default:throw lx(`AUR0651:${this.et}`)}t!==this.v&&(this.ov=this.v,this.v=t,this.J=!1,this.st())}}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.v=this.ov=this.o.getAttribute(this.tt),g$(this.o.ownerDocument.defaultView.MutationObserver,this.o,this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&m$(this.o,this)}st(){w$=this.ov,this.ov=this.v,this.subs.notify(this.v,w$)}}qy(p$);const g$=(t,e,n)=>{void 0===e.$eMObs&&(e.$eMObs=new Set),void 0===e.$mObs&&(e.$mObs=new t(v$)).observe(e,{attributes:!0}),e.$eMObs.add(n)},m$=(t,e)=>{const n=t.$eMObs;return!(!n||!n.delete(e)||(0===n.size&&(t.$mObs.disconnect(),t.$mObs=void 0),0))},v$=t=>{t[0].target.$eMObs.forEach(b$,t)};function b$(t){t.handleMutation(this)}let w$;function y$(t){return function(e){return A$.define(t,e)}}class k${constructor(t,e,n,s){this.Type=t,this.name=e,this.aliases=n,this.key=s}static create(t,e){let n,s;return kx(t)?(n=t,s={name:n}):(n=t.name,s=t),new k$(e,jv(S$(e,"name"),n),Nv(S$(e,"aliases"),s.aliases,e.aliases),A$.keyFrom(n))}register(t){const{Type:e,key:n,aliases:s}=this;Lx(n,e).register(t),Bx(n,e).register(t),Dx(s,A$,n,t)}}const C$=sx("binding-behavior"),S$=(t,e)=>ZA(nx(e),t),A$=fx({name:C$,keyFrom:t=>`${C$}:${t}`,isType:t=>yx(t)&&YA(C$,t),define(t,e){const n=k$.create(t,e);return JA(C$,n,n.Type),JA(C$,n,n),ix(e,C$),n.Type},getDefinition(t){const e=ZA(C$,t);if(void 0===e)throw lx(`AUR0151:${t.name}`);return e},annotate(t,e,n){JA(nx(e),n,t)},getAnnotation:S$});class x${constructor(t,e,n,s){this.Type=t,this.name=e,this.aliases=n,this.key=s}static create(t,e){let n,s;return kx(t)?(n=t,s={name:n}):(n=t.name,s=t),new x$(e,jv(T$(e,"name"),n),Nv(T$(e,"aliases"),s.aliases,e.aliases),I$.keyFrom(n))}register(t){const{Type:e,key:n,aliases:s}=this;Zb.singleton(n,e).register(t),Zb.aliasTo(n,e).register(t),Dx(s,I$,n,t)}}const $$=sx("value-converter"),T$=(t,e)=>ZA(nx(e),t),I$=fx({name:$$,keyFrom:t=>`${$$}:${t}`,isType:t=>yx(t)&&YA($$,t),define(t,e){const n=x$.create(t,e);return JA($$,n,n.Type),JA($$,n,n),ix(e,$$),n.Type},getDefinition(t){const e=ZA($$,t);if(void 0===e)throw lx(`AUR0152:${t.name}`);return e},annotate(t,e,n){JA(nx(e),n,t)},getAnnotation:T$});class R${constructor(t,e){this.v=void 0,this.b=t,this.nt=e}flush(){this.b.updateSource(this.v)}handleChange(t,e){const n=this.b;t!==Iy(n.ast,n.s,n,null)&&(this.v=t,this.nt.add(this))}}const O$=t=>{$x(t.prototype,"useScope",(function(t){this.s=t}))},E$=(t,e=!0)=>n=>{const s=n.prototype;null!=t&&xx(s,"strict",{enumerable:!0,get:function(){return t}}),xx(s,"strictFnCall",{enumerable:!0,get:function(){return e}}),$x(s,"get",(function(t){return this.l.get(t)})),$x(s,"getSignaler",(function(){return this.l.root.get(_A)})),$x(s,"getConverter",(function(t){const e=I$.keyFrom(t);let n=P$.get(this);return null==n&&P$.set(this,n=new M$),n[e]??(n[e]=this.l.get(Nx(e)))})),$x(s,"getBehavior",(function(t){const e=A$.keyFrom(t);let n=P$.get(this);return null==n&&P$.set(this,n=new M$),n[e]??(n[e]=this.l.get(Nx(e)))}))},P$=new WeakMap;class M${}const N$=jx("IFlushQueue",(t=>t.singleton(j$)));class j${constructor(){this.rt=!1,this.ot=new Set}get count(){return this.ot.size}add(t){if(this.ot.add(t),!this.rt){this.rt=!0;try{this.ot.forEach(L$)}finally{this.rt=!1}}}clear(){this.ot.clear(),this.rt=!1}}function L$(t,e,n){n.delete(t),t.flush()}const B$=new WeakSet,U$=(t,e)=>{$x(t.prototype,"limit",(function(t){if(B$.has(this))throw lx("AURXXXX: a rate limit has already been applied.");B$.add(this);const n=e(this,t),s=this[n],i=(...t)=>s.call(this,...t),r="debounce"===t.type?F$(t,i,this):V$(t,i,this);return this[n]=r,{dispose:()=>{B$.delete(this),r.dispose(),delete this[n]}}}))},F$=(t,e,n)=>{let s,i,r;const o=t.queue,a=a=>{r=a,n.isBound?(i=s,s=o.queueTask((()=>e(r)),{delay:t.delay,reusable:!1}),i?.cancel()):e(r)};return a.dispose=()=>{i?.cancel(),s?.cancel()},a},V$=(t,e,n)=>{let s,i,r,o=0,a=0;const c=t.queue,h=()=>t.now(),l=l=>{r=l,n.isBound?(a=h()-o,i=s,a>t.delay?(o=h(),e(r)):s=c.queueTask((()=>{o=h(),e(r)}),{delay:t.delay-a,reusable:!1}),i?.cancel()):e(r)};return l.dispose=()=>{i?.cancel(),s?.cancel()},l},D$={reusable:!1,preempt:!0};class W${constructor(t,e,n,s,i,r,o,a,c){this.targetAttribute=o,this.targetProperty=a,this.mode=c,this.isBound=!1,this.s=void 0,this.lt=null,this.v=void 0,this.boundFn=!1,this.l=e,this.ast=i,this.ht=t,this.target=r,this.oL=n,this.ct=s}updateTarget(t){this.ut.setValue(t,this.target,this.targetProperty)}handleChange(){if(!this.isBound)return;let t;this.obs.version++;const e=Iy(this.ast,this.s,this,(2&this.mode)>0?this:null);this.obs.clear(),e!==this.v&&(this.v=e,1!==this.ht.state&&(4&this.ut.type)>0?(t=this.lt,this.lt=this.ct.queueTask((()=>{this.lt=null,this.updateTarget(e)}),D$),t?.cancel()):this.updateTarget(e))}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Oy(this.ast,t,this),this.ut??(this.ut=new p$(this.target,this.targetProperty,this.targetAttribute)),3&this.mode&&this.updateTarget(this.v=Iy(this.ast,t,this,(2&this.mode)>0?this:null)),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Ey(this.ast,this.s,this),this.s=void 0,this.v=void 0,this.lt?.cancel(),this.lt=null,this.obs.clearAll())}}O$(W$),U$(W$,(()=>"updateTarget")),iC(W$),E$(!0)(W$);const q$={reusable:!1,preempt:!0};class _${constructor(t,e,n,s,i,r,o,a){this.ast=i,this.target=r,this.targetProperty=o,this.mode=a,this.isBound=!1,this.s=void 0,this.lt=null,this.ht=t,this.oL=n,this.ct=s,this.ut=n.getAccessor(r,o);const c=i.expressions,h=this.partBindings=Array(c.length),l=c.length;let u=0;for(;l>u;++u)h[u]=new H$(c[u],r,o,e,n,this)}ft(){this.updateTarget()}updateTarget(){const t=this.partBindings,e=this.ast.parts,n=t.length;let s="",i=0;if(1===n)s=e[0]+t[0].v+e[1];else for(s=e[0];n>i;++i)s+=t[i].v+e[i+1];const r=this.ut;let o;1!==this.ht.state&&(4&r.type)>0?(o=this.lt,this.lt=this.ct.queueTask((()=>{this.lt=null,r.setValue(s,this.target,this.targetProperty)}),q$),o?.cancel(),o=null):r.setValue(s,this.target,this.targetProperty)}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t;const e=this.partBindings,n=e.length;let s=0;for(;n>s;++s)e[s].bind(t);this.updateTarget(),this.isBound=!0}unbind(){if(!this.isBound)return;this.isBound=!1,this.s=void 0;const t=this.partBindings,e=t.length;let n=0;for(;e>n;++n)t[n].unbind();this.lt?.cancel(),this.lt=null}}class H${constructor(t,e,n,s,i,r){this.ast=t,this.target=e,this.targetProperty=n,this.owner=r,this.mode=2,this.task=null,this.isBound=!1,this.v="",this.boundFn=!1,this.l=s,this.oL=i}updateTarget(){this.owner.ft()}handleChange(){if(!this.isBound)return;this.obs.version++;const t=Iy(this.ast,this.s,this,(2&this.mode)>0?this:null);this.obs.clear(),t!=this.v&&(this.v=t,wx(t)&&this.observeCollection(t),this.updateTarget())}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Oy(this.ast,t,this),this.v=Iy(this.ast,this.s,this,(2&this.mode)>0?this:null),wx(this.v)&&this.observeCollection(this.v),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Ey(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}}O$(H$),U$(H$,(()=>"updateTarget")),iC(H$),E$(!0)(H$);class z${constructor(t,e,n,s,i,r,o,a){this.p=i,this.ast=r,this.target=o,this.strict=a,this.isBound=!1,this.mode=2,this.lt=null,this.v="",this.boundFn=!1,this.l=e,this.ht=t,this.oL=n,this.ct=s}updateTarget(t){const e=this.target,n=this.p.Node,s=this.v;this.v=t,s instanceof n&&s.parentNode?.removeChild(s),t instanceof n?(e.textContent="",e.parentNode?.insertBefore(t,e)):e.textContent=String(t)}handleChange(){if(!this.isBound)return;this.obs.version++;const t=Iy(this.ast,this.s,this,(2&this.mode)>0?this:null);if(this.obs.clear(),t===this.v)return this.lt?.cancel(),void(this.lt=null);1!==this.ht.state?this.dt(t):this.updateTarget(t)}handleCollectionChange(){if(!this.isBound)return;this.obs.version++;const t=this.v=Iy(this.ast,this.s,this,(2&this.mode)>0?this:null);this.obs.clear(),wx(t)&&this.observeCollection(t),1!==this.ht.state?this.dt(t):this.updateTarget(t)}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Oy(this.ast,t,this);const e=this.v=Iy(this.ast,this.s,this,(2&this.mode)>0?this:null);wx(e)&&this.observeCollection(e),this.updateTarget(e),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Ey(this.ast,this.s,this),this.s=void 0,this.obs.clearAll(),this.lt?.cancel(),this.lt=null)}dt(t){const e=this.lt;this.lt=this.ct.queueTask((()=>{this.lt=null,this.updateTarget(t)}),q$),e?.cancel()}}O$(z$),U$(z$,(()=>"updateTarget")),iC()(z$),E$(void 0,!1)(z$);class K${constructor(t,e,n,s,i=!1){this.ast=n,this.targetProperty=s,this.isBound=!1,this.s=void 0,this.target=null,this.boundFn=!1,this.l=t,this.oL=e,this.gt=i}updateTarget(){this.target[this.targetProperty]=this.v}handleChange(){this.isBound&&(this.obs.version++,this.v=Iy(this.ast,this.s,this,this),this.obs.clear(),this.updateTarget())}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,this.target=this.gt?t.bindingContext:t.overrideContext,Oy(this.ast,t,this),this.v=Iy(this.ast,this.s,this,this),this.updateTarget(),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Ey(this.ast,this.s,this),this.s=void 0,this.obs.clearAll())}}O$(K$),U$(K$,(()=>"updateTarget")),iC(K$),E$(!0)(K$);class G${constructor(t,e,n,s,i,r,o,a){this.ast=i,this.target=r,this.targetProperty=o,this.mode=a,this.isBound=!1,this.s=void 0,this.ut=void 0,this.lt=null,this.vt=null,this.boundFn=!1,this.l=e,this.ht=t,this.ct=s,this.oL=n}updateTarget(t){this.ut.setValue(t,this.target,this.targetProperty)}updateSource(t){Ry(this.ast,this.s,this,t)}handleChange(){if(!this.isBound)return;this.obs.version++;const t=Iy(this.ast,this.s,this,(2&this.mode)>0?this:null);this.obs.clear(),1!==this.ht.state&&(4&this.ut.type)>0?(Q$=this.lt,this.lt=this.ct.queueTask((()=>{this.updateTarget(t),this.lt=null}),X$),Q$?.cancel(),Q$=null):this.updateTarget(t)}handleCollectionChange(){this.handleChange()}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Oy(this.ast,t,this);const e=this.oL,n=this.mode;let s=this.ut;s||(s=4&n?e.getObserver(this.target,this.targetProperty):e.getAccessor(this.target,this.targetProperty),this.ut=s);const i=(2&n)>0;3&n&&this.updateTarget(Iy(this.ast,this.s,this,i?this:null)),4&n&&(s.subscribe(this.vt??(this.vt=new R$(this,this.l.get(N$)))),i||this.updateSource(s.getValue(this.target,this.targetProperty))),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Ey(this.ast,this.s,this),this.s=void 0,this.vt&&(this.ut.unsubscribe(this.vt),this.vt=null),this.lt?.cancel(),this.lt=null,this.obs.clearAll())}useTargetObserver(t){this.ut?.unsubscribe(this),(this.ut=t).subscribe(this)}useTargetSubscriber(t){if(null!=this.vt)throw lx("AURxxxx: binding already has a target subscriber");this.vt=t}}O$(G$),U$(G$,(t=>4&t.mode?"updateSource":"updateTarget")),iC(G$),E$(!0,!1)(G$);let Q$=null;const X$={reusable:!1,preempt:!0};class Z${constructor(t,e,n){this.ast=e,this.target=n,this.isBound=!1,this.s=void 0,this.l=t}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Oy(this.ast,t,this),Ry(this.ast,this.s,this,this.target),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Iy(this.ast,this.s,this,null)===this.target&&Ry(this.ast,this.s,this,null),Ey(this.ast,this.s,this),this.s=void 0)}}E$(!1)(Z$);class Y${constructor(t,e=!1){this.prevent=t,this.capture=e}}class J${constructor(t,e,n,s,i){this.ast=e,this.target=n,this.targetEvent=s,this.isBound=!1,this.self=!1,this.boundFn=!0,this.l=t,this.xt=i}callSource(t){const e=this.s.overrideContext;e.$event=t;let n=Iy(this.ast,this.s,this,null);return delete e.$event,yx(n)&&(n=n(t)),!0!==n&&this.xt.prevent&&t.preventDefault(),n}handleEvent(t){this.self&&this.target!==t.composedPath()[0]||this.callSource(t)}bind(t){if(this.isBound){if(this.s===t)return;this.unbind()}this.s=t,Oy(this.ast,t,this),this.target.addEventListener(this.targetEvent,this,this.xt),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,Ey(this.ast,this.s,this),this.s=void 0,this.target.removeEventListener(this.targetEvent,this,this.xt))}}O$(J$),U$(J$,(()=>"callSource")),E$(!0,!0)(J$);const tT=jx("IAppTask");class eT{constructor(t,e,n){this.c=void 0,this.slot=t,this.k=e,this.cb=n}register(t){return this.c=t.register(Ux(tT,this))}run(){const t=this.k,e=this.cb;return null===t?e():e(this.c.get(t))}}function nT(t){return function(e,n){return yx(n)?new eT(t,e,n):new eT(t,null,e)}}fx({creating:nT("creating"),hydrating:nT("hydrating"),hydrated:nT("hydrated"),activating:nT("activating"),activated:nT("activated"),deactivating:nT("deactivating"),deactivated:nT("deactivated")});const sT=tw,iT=nx("watch"),rT=fx({name:iT,add(t,e){let n=ZA(iT,t);null==n&&JA(iT,n=[],t),n.push(e)},getAnnotation:t=>ZA(iT,t)??sT});function oT(t){return function(e){return dT(t,e)}}function aT(t){return function(e){return dT(kx(t)?{isTemplateController:!0,name:t}:{isTemplateController:!0,...t},e)}}class cT{constructor(t,e,n,s,i,r,o,a,c,h){this.Type=t,this.name=e,this.aliases=n,this.key=s,this.defaultBindingMode=i,this.isTemplateController=r,this.bindables=o,this.noMultiBindings=a,this.watches=c,this.dependencies=h}get type(){return 2}static create(t,e){let n,s;return kx(t)?(n=t,s={name:n}):(n=t.name,s=t),new cT(e,jv(uT(e,"name"),n),Nv(uT(e,"aliases"),s.aliases,e.aliases),lT(n),jv(uT(e,"defaultBindingMode"),s.defaultBindingMode,e.defaultBindingMode,2),jv(uT(e,"isTemplateController"),s.isTemplateController,e.isTemplateController,!1),Ox.from(e,...Ox.getAll(e),uT(e,"bindables"),e.bindables,s.bindables),jv(uT(e,"noMultiBindings"),s.noMultiBindings,e.noMultiBindings,!1),Nv(rT.getAnnotation(e),e.watches),Nv(uT(e,"dependencies"),s.dependencies,e.dependencies))}register(t){const{Type:e,key:n,aliases:s}=this;Fx(n,e).register(t),Bx(n,e).register(t),Dx(s,gT,n,t)}}const hT=sx("custom-attribute"),lT=t=>`${hT}:${t}`,uT=(t,e)=>ZA(nx(e),t),fT=(t,e)=>zI(t,lT(e))??void 0,dT=(t,e)=>{const n=cT.create(t,e);return JA(hT,n,n.Type),JA(hT,n,n),ix(e,hT),n.Type},pT=t=>{const e=ZA(hT,t);if(void 0===e)throw lx(`AUR0759:${t.name}`);return e},gT=fx({name:hT,keyFrom:lT,isType:t=>yx(t)&&YA(hT,t),for:fT,define:dT,getDefinition:pT,annotate(t,e,n){JA(nx(e),n,t)},getAnnotation:uT});function mT(t){return t.startsWith(vT)}const vT=nx("children-observer"),bT=fx({name:vT,keyFrom:t=>`${vT}:${t}`,from(...t){const e={};function n(t){e[t]=yT.create(t)}function s(t,n){e[t]=yT.create(t,n)}return t.forEach((function(t){wx(t)?t.forEach(n):t instanceof yT?e[t.property]=t:void 0!==t&&gx(t).forEach((e=>s(e,t)))})),e},getAll(t){const e=vT.length+1,n=[],s=Lv(t);let i,r,o,a=s.length,c=0;for(;--a>=0;){o=s[a],i=ox(o).filter(mT),r=i.length;for(let t=0;t<r;++t)n[c++]=ZA(vT,o,i[t].slice(e))}return n}}),wT={childList:!0};class yT{constructor(t,e,n,s,i,r){this.callback=t,this.property=e,this.options=n,this.query=s,this.filter=i,this.map=r}static create(t,e={}){return new yT(jv(e.callback,`${t}Changed`),jv(e.property,t),e.options??wT,e.query,e.filter,e.map)}}class kT{constructor(t,e,n,s,i=CT,r=ST,o=AT,a){this.controller=t,this.obj=e,this.propertyKey=n,this.query=i,this.filter=r,this.map=o,this.options=a,this.observing=!1,this.children=void 0,this.observer=void 0,this.callback=e[s],Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:()=>{}})}getValue(){return this.observing?this.children:this.get()}setValue(t){}start(){this.observing||(this.observing=!0,this.children=this.get(),(this.observer??(this.observer=new this.controller.host.ownerDocument.defaultView.MutationObserver((()=>{this.wt()})))).observe(this.controller.host,this.options))}stop(){this.observing&&(this.observing=!1,this.observer.disconnect(),this.children=tw)}wt(){this.children=this.get(),void 0!==this.callback&&this.callback.call(this.obj),this.subs.notify(this.children,void 0)}get(){return function(t,e,n,s){const i=e(t),r=i.length,o=[];let a,c,h,l=0;for(;l<r;++l)a=i[l],c=gR(a,xT),h=c?.viewModel??null,n(a,c,h)&&o.push(s(a,c,h));return o}(this.controller,this.query,this.filter,this.map)}}function CT(t){return t.host.childNodes}function ST(t,e,n){return!!n}function AT(t,e,n){return n}qy()(kT);const xT={optional:!0},$T=sw,TT=(t,e,n,s)=>{t.addEventListener(e,n,s)},IT=(t,e,n,s)=>{t.removeEventListener(e,n,s)},RT=t=>{const e=t.prototype;$x(e,"subscribe",(function(t){if(this.subs.add(t)&&1===this.subs.count){for(OT of this.cf.events)TT(this.bt,OT,this);this.yt=!0,this.kt?.()}})),$x(e,"unsubscribe",(function(t){if(this.subs.remove(t)&&0===this.subs.count){for(OT of this.cf.events)IT(this.bt,OT,this);this.yt=!1,this.At?.()}})),$x(e,"useConfig",(function(t){if(this.cf=t,this.yt){for(OT of this.cf.events)IT(this.bt,OT,this);for(OT of this.cf.events)TT(this.bt,OT,this)}}))};let OT;const ET=t=>{$x(t.prototype,"subscribe",nw),$x(t.prototype,"unsubscribe",nw)};class PT{constructor(t){this.obj=t,this.type=6,this.value="",this.ov="",this.Ct={},this.Bt=0,this.J=!1}get doNotCache(){return!0}getValue(){return this.value}setValue(t){this.value=t,this.J=t!==this.ov,this.it()}it(){if(this.J){this.J=!1;const t=this.value,e=this.Ct,n=MT(t);let s=this.Bt;if(this.ov=t,n.length>0&&this.Rt(n),this.Bt+=1,0===s)return;s-=1;for(const t in e)ux.call(e,t)&&e[t]===s&&this.obj.classList.remove(t)}}Rt(t){const e=this.obj,n=t.length;let s,i=0;for(;i<n;i++)s=t[i],0!==s.length&&(this.Ct[s]=this.Bt,e.classList.add(s))}}function MT(t){if(kx(t))return NT(t);if("object"!=typeof t)return tw;if(t instanceof Array){const e=t.length;if(e>0){const n=[];let s=0;for(;e>s;++s)n.push(...MT(t[s]));return n}return tw}const e=[];let n;for(n in t)Boolean(t[n])&&(n.includes(" ")?e.push(...NT(n)):e.push(n));return e}function NT(t){const e=t.match(/\S+/g);return null===e?tw:e}ET(PT),jx("IShadowDOMStyleFactory",(t=>t.cachedCallback((t=>FT.supported(t.get($T))?t.get(jT):t.get(LT)))));class jT{constructor(t){this.p=t,this.cache=new Map}createStyles(t,e){return new FT(this.p,t,this.cache,e)}}jT.inject=[$T];class LT{constructor(t){this.p=t}createStyles(t,e){return new VT(this.p,t,e)}}LT.inject=[$T];const BT=jx("IShadowDOMStyles"),UT=jx("IShadowDOMGlobalStyles",(t=>t.instance({applyTo:nw})));class FT{constructor(t,e,n,s=null){this.sharedStyles=s,this.styleSheets=e.map((e=>{let s;return e instanceof t.CSSStyleSheet?s=e:(s=n.get(e),void 0===s&&(s=new t.CSSStyleSheet,s.replaceSync(e),n.set(e,s))),s}))}static supported(t){return"adoptedStyleSheets"in t.ShadowRoot.prototype}applyTo(t){null!==this.sharedStyles&&this.sharedStyles.applyTo(t),t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets]}}class VT{constructor(t,e,n=null){this.p=t,this.localStyles=e,this.sharedStyles=n}applyTo(t){const e=this.localStyles,n=this.p;for(let s=e.length-1;s>-1;--s){const i=n.document.createElement("style");i.innerHTML=e[s],t.prepend(i)}null!==this.sharedStyles&&this.sharedStyles.applyTo(t)}}const{enter:DT,exit:WT}=IS,{wrap:qT,unwrap:_T}=kA;class HT{constructor(t,e,n,s,i){this.obj=t,this.$get=n,this.useProxy=i,this.isBound=!1,this.running=!1,this.v=void 0,this.cb=s,this.oL=e}get value(){return this.v}handleChange(){this.run()}handleCollectionChange(){this.run()}bind(){this.isBound||(this.compute(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll())}run(){if(!this.isBound||this.running)return;const t=this.obj,e=this.v,n=this.compute();Ax(n,e)||this.cb.call(t,n,e,t)}compute(){this.running=!0,this.obs.version++;try{return DT(this),this.v=_T(this.$get.call(void 0,this.useProxy?qT(this.obj):this.obj,this))}finally{this.obs.clear(),this.running=!1,WT(this)}}}class zT{constructor(t,e,n,s,i){this.scope=t,this.l=e,this.oL=n,this.isBound=!1,this.boundFn=!1,this.obj=t.bindingContext,this.St=s,this.cb=i}get value(){return this.v}handleChange(t){const e=this.St,n=this.obj,s=this.v;1===e.$kind&&1===this.obs.count||(this.obs.version++,t=Iy(e,this.scope,this,this),this.obs.clear()),Ax(t,s)||(this.v=t,this.cb.call(n,t,s,n))}bind(){this.isBound||(this.obs.version++,this.v=Iy(this.St,this.scope,this,this),this.obs.clear(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),this.v=void 0)}}iC(HT),iC(zT),E$(!0)(zT);const KT=jx("ILifecycleHooks");class GT{constructor(t,e){this.definition=t,this.instance=e}}class QT{constructor(t,e){this.Type=t,this.propertyNames=e}static create(t,e){const n=new Set;let s=e.prototype;for(;s!==cx;){for(const t of px(s))"constructor"!==t&&n.add(t);s=Object.getPrototypeOf(s)}return new QT(e,n)}register(t){Lx(KT,this.Type).register(t)}}const XT=new WeakMap,ZT=nx("lifecycle-hooks"),YT=fx({name:ZT,define(t,e){const n=QT.create(t,e);return JA(ZT,n,e),ix(e,ZT),n.Type},resolve(t){let e=XT.get(t);if(void 0===e){XT.set(t,e=new JT);const n=t.root,s=n.id===t.id?t.getAll(KT):t.has(KT,!1)?n.getAll(KT).concat(t.getAll(KT)):n.getAll(KT);let i,r,o,a,c;for(i of s)for(a of(r=ZA(ZT,i.constructor),o=new GT(r,i),r.propertyNames))c=e[a],void 0===c?e[a]=[o]:c.push(o)}return e}});class JT{}const tI=jx("IViewFactory");class eI{constructor(t,e){this.isCaching=!1,this.Y=null,this.It=-1,this.name=e.name,this.container=t,this.def=e}setCacheSize(t,e){t&&("*"===t?t=eI.maxCacheSize:kx(t)&&(t=parseInt(t,10)),-1!==this.It&&e||(this.It=t)),this.It>0?this.Y=[]:this.Y=null,this.isCaching=this.It>0}canReturnToCache(t){return null!=this.Y&&this.Y.length<this.It}tryReturnToCache(t){return!!this.canReturnToCache(t)&&(this.Y.push(t),!0)}create(t){const e=this.Y;let n;return null!=e&&e.length>0?(n=e.pop(),n):(n=cI.$view(this,t),n)}}eI.maxCacheSize=65535;const nI=jx("IRendering",(t=>t.singleton(sI)));class sI{constructor(t){this.Tt=new WeakMap,this.Pt=new WeakMap;const e=t.root;this.p=(this.Et=e).get($T),this.ep=e.get(rC),this.oL=e.get(NA),this.Lt=new tR(this.p,this.p.document.createDocumentFragment())}get renderers(){return this.Dt??(this.Dt=this.Et.getAll(_R,!1).reduce(((t,e)=>(t[e.target]=e,t)),hx()))}compile(t,e,n){if(!1!==t.needsCompile){const s=this.Tt,i=e.get(qR);let r=s.get(t);return null==r?s.set(t,r=i.compile(t,e,n)):e.register(...r.dependencies),r}return t}getViewFactory(t,e){return new eI(e,iR.getOrCreate(t))}createNodes(t){if(!0===t.enhance)return new tR(this.p,t.template);let e;const n=this.Pt;if(n.has(t))e=n.get(t);else{const s=this.p,i=s.document,r=t.template;let o;null===r?e=null:r instanceof s.Node?"TEMPLATE"===r.nodeName?e=i.adoptNode(r.content):(e=i.adoptNode(i.createDocumentFragment())).appendChild(r.cloneNode(!0)):(o=i.createElement("template"),kx(r)&&(o.innerHTML=r),i.adoptNode(e=o.content)),n.set(t,e)}return null==e?this.Lt:new tR(this.p,e.cloneNode(!0))}render(t,e,n,s){const i=n.instructions,r=this.renderers,o=e.length;if(e.length!==i.length)throw lx(`AUR0757:${o}<>${i.length}`);let a,c,h,l=0,u=0,f=0;if(o>0)for(;o>l;){for(a=i[l],h=e[l],u=0,f=a.length;f>u;)c=a[u],r[c.type].render(t,h,c,this.p,this.ep,this.oL),++u;++l}if(null!=s&&(a=n.surrogates,(f=a.length)>0))for(u=0;f>u;)c=a[u],r[c.type].render(t,s,c,this.p,this.ep,this.oL),++u}}var iI,rI;sI.inject=[Pb],function(t){t[t.none=0]="none",t[t.fromBind=1]="fromBind",t[t.fromUnbind=2]="fromUnbind",t[t.dispose=4]="dispose"}(iI||(iI={})),function(t){t[t.none=0]="none",t[t.host=1]="host",t[t.shadowRoot=2]="shadowRoot",t[t.location=3]="location"}(rI||(rI={}));const oI={optional:!0},aI=new WeakMap;class cI{constructor(t,e,n,s,i,r,o){this.container=t,this.vmKind=e,this.definition=n,this.viewFactory=s,this.host=r,this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.isStrictBinding=!1,this.scope=null,this.isBound=!1,this.hostController=null,this.mountTarget=0,this.shadowRoot=null,this.nodes=null,this.location=null,this.Ut=null,this.state=0,this.$t=!1,this._t=tw,this.flags=0,this.$initiator=null,this.$flags=0,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this.qt=0,this.Mt=0,this.Ft=0,this.Ot=i,this.Vt=2===e?pI.none:new pI(i),this.location=o,this.r=t.root.get(nI)}get lifecycleHooks(){return this.Ut}get isActive(){return(3&this.state)>0&&0==(4&this.state)}get name(){if(null===this.parent)switch(this.vmKind){case 1:return`[${this.definition.name}]`;case 0:return this.definition.name;case 2:return this.viewFactory.name}switch(this.vmKind){case 1:return`${this.parent.name}>[${this.definition.name}]`;case 0:return`${this.parent.name}>${this.definition.name}`;case 2:return this.viewFactory.name===this.parent.definition?.name?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}get hooks(){return this.Vt}get viewModel(){return this.Ot}set viewModel(t){this.Ot=t,this.Vt=null==t||2===this.vmKind?pI.none:new pI(t)}static getCached(t){return aI.get(t)}static getCachedOrThrow(t){const e=cI.getCached(t);if(void 0===e)throw lx(`AUR0500:${t}`);return e}static $el(t,e,n,s,i=undefined,r=null){if(aI.has(e))return aI.get(e);i=i??vR(e.constructor);const o=new cI(t,0,i,null,e,n,r),a=t.get(Vb(yI));return i.dependencies.length>0&&t.register(...i.dependencies),Vx(t,yI,new Yb("IHydrationContext",new kI(o,s,a))),aI.set(e,o),null!=s&&!1===s.hydrate||o.hE(s,a),o}static $attr(t,e,n,s){if(aI.has(e))return aI.get(e);s=s??pT(e.constructor);const i=new cI(t,1,s,null,e,n,null);return s.dependencies.length>0&&t.register(...s.dependencies),aI.set(e,i),i.Nt(),i}static $view(t,e=undefined){const n=new cI(t.container,2,null,t,null,null,null);return n.parent=e??null,n.jt(),n}hE(t,e){const n=this.container,s=(this.flags,this.Ot);let i=this.definition;if(this.scope=Sy.create(s,null,!0),i.watches.length>0&&dI(this,n,i,s),lI(this,i,0,s),this._t=function(t,e,n){const s=e.childrenObservers,i=px(s),r=i.length;if(r>0){const e=hI(n),o=[];let a,c,h=0;for(;h<r;++h)a=i[h],null==e[a]&&(c=s[a],o[o.length]=e[a]=new kT(t,n,a,c.callback,c.query,c.filter,c.map,c.options));return o}return tw}(this,i,s),this.Vt.hasDefine){const t=s.define(this,e,i);void 0!==t&&t!==i&&(i=iR.getOrCreate(t))}this.Ut=YT.resolve(n),i.register(n),null!==i.injectable&&Vx(n,i.injectable,new Yb("definition.injectable",s)),null!=t&&!1===t.hydrate||(this.hS(t),this.hC())}hS(t){void 0!==this.Ut.hydrating&&this.Ut.hydrating.forEach(AI,this),this.Vt.hasHydrating&&this.Ot.hydrating(this);const e=this.Ht=this.r.compile(this.definition,this.container,t),{shadowOptions:n,isStrictBinding:s,hasSlots:i,containerless:r}=e;let o=this.location;if(this.isStrictBinding=s,null!==(this.hostController=gR(this.host,oI))&&(this.host=this.container.root.get($T).document.createElement(this.definition.name),r&&null==o&&(o=this.location=YI(this.host))),KI(this.host,uR,this),KI(this.host,this.definition.key,this),null!==n||i){if(null!=o)throw lx("AUR0501");KI(this.shadowRoot=this.host.attachShadow(n??gI),uR,this),KI(this.shadowRoot,this.definition.key,this),this.mountTarget=2}else null!=o?(KI(o,uR,this),KI(o,this.definition.key,this),this.mountTarget=3):this.mountTarget=1;this.Ot.$controller=this,this.nodes=this.r.createNodes(e),void 0!==this.Ut.hydrated&&this.Ut.hydrated.forEach(xI,this),this.Vt.hasHydrated&&this.Ot.hydrated(this)}hC(){this.r.render(this,this.nodes.findTargets(),this.Ht,this.host),void 0!==this.Ut.created&&this.Ut.created.forEach(SI,this),this.Vt.hasCreated&&this.Ot.created(this)}Nt(){const t=this.definition,e=this.Ot;t.watches.length>0&&dI(this,this.container,t,e),lI(this,t,this.flags,e),e.$controller=this,this.Ut=YT.resolve(this.container),void 0!==this.Ut.created&&this.Ut.created.forEach(SI,this),this.Vt.hasCreated&&this.Ot.created(this)}jt(){this.Ht=this.r.compile(this.viewFactory.def,this.container,null),this.isStrictBinding=this.Ht.isStrictBinding,this.r.render(this,(this.nodes=this.r.createNodes(this.Ht)).findTargets(),this.Ht,void 0)}activate(t,e,n,s){switch(this.state){case 0:case 8:if(null!==e&&!e.isActive)return;this.state=1;break;case 2:return;case 32:throw lx(`AUR0502:${this.name}`);default:throw lx(`AUR0503:${this.name} ${bI(this.state)}`)}switch(this.parent=e,n|=1,this.vmKind){case 0:this.scope.parent=s??null;break;case 1:this.scope=s??null;break;case 2:if(null==s)throw lx("AUR0504");this.hasLockedScope||(this.scope=s)}let i;return this.isStrictBinding,this.$initiator=t,this.$flags=n,this.Wt(),2!==this.vmKind&&null!=this.Ut.binding&&(i=Vv(...this.Ut.binding.map($I,this))),this.Vt.hasBinding&&(i=Vv(i,this.Ot.binding(this.$initiator,this.parent,this.$flags))),bx(i)?(this.zt(),i.then((()=>{this.bind()})).catch((t=>{this.Gt(t)})),this.$promise):(this.bind(),this.$promise)}bind(){let t,e=0,n=this._t.length;if(n>0)for(;n>e;)this._t[e].start(),++e;if(null!==this.bindings)for(e=0,n=this.bindings.length;n>e;)this.bindings[e].bind(this.scope),++e;if(2!==this.vmKind&&null!=this.Ut.bound&&(t=Vv(...this.Ut.bound.map(TI,this))),this.Vt.hasBound&&(t=Vv(t,this.Ot.bound(this.$initiator,this.parent,this.$flags))),bx(t))return this.zt(),void t.then((()=>{this.isBound=!0,this.Xt()})).catch((t=>{this.Gt(t)}));this.isBound=!0,this.Xt()}Kt(...t){switch(this.mountTarget){case 1:this.host.append(...t);break;case 2:this.shadowRoot.append(...t);break;case 3:{let e=0;for(;e<t.length;++e)this.location.parentNode.insertBefore(t[e],this.location);break}}}Xt(){if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.hostController.Kt(this.host);break;case 3:this.hostController.Kt(this.location.$start,this.location)}switch(this.mountTarget){case 1:this.nodes.appendTo(this.host,null!=this.definition&&this.definition.enhance);break;case 2:{const t=this.container;(t.has(BT,!1)?t.get(BT):t.get(UT)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case 3:this.nodes.insertBefore(this.location)}let t,e=0;if(2!==this.vmKind&&null!=this.Ut.attaching&&(t=Vv(...this.Ut.attaching.map(II,this))),this.Vt.hasAttaching&&(t=Vv(t,this.Ot.attaching(this.$initiator,this.parent,this.$flags))),bx(t)&&(this.zt(),this.Wt(),t.then((()=>{this.Qt()})).catch((t=>{this.Gt(t)}))),null!==this.children)for(;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.$flags,this.scope);this.Qt()}deactivate(t,e,n){switch(-17&this.state){case 2:this.state=4;break;case 0:case 8:case 32:case 40:return;default:throw lx(`AUR0505:${this.name} ${bI(this.state)}`)}this.$initiator=t,this.$flags=n,t===this&&this.Yt();let s,i=0;if(this._t.length)for(;i<this._t.length;++i)this._t[i].stop();if(null!==this.children)for(i=0;i<this.children.length;++i)this.children[i].deactivate(t,this,n);if(2!==this.vmKind&&null!=this.Ut.detaching&&(s=Vv(...this.Ut.detaching.map(OI,this))),this.Vt.hasDetaching&&(s=Vv(s,this.Ot.detaching(this.$initiator,this.parent,this.$flags))),bx(s)&&(this.zt(),t.Yt(),s.then((()=>{t.Zt()})).catch((e=>{t.Gt(e)}))),null===t.head?t.head=this:t.tail.next=this,t.tail=this,t===this)return this.Zt(),this.$promise}removeNodes(){switch(this.vmKind){case 0:case 2:this.nodes.remove(),this.nodes.unlink()}if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.host.remove();break;case 3:this.location.$start.remove(),this.location.remove()}}unbind(){const t=2|this.$flags;let e=0;if(null!==this.bindings)for(;e<this.bindings.length;++e)this.bindings[e].unbind();switch(this.parent=null,this.vmKind){case 1:this.scope=null;break;case 2:this.hasLockedScope||(this.scope=null),16!=(16&this.state)||this.viewFactory.tryReturnToCache(this)||this.$initiator!==this||this.dispose();break;case 0:this.scope.parent=null}4==(4&t)&&this.$initiator===this&&this.dispose(),this.state=32&this.state|8,this.$initiator=null,this.Jt()}zt(){void 0===this.$promise&&(this.$promise=new Promise(((t,e)=>{this.$resolve=t,this.$reject=e})),this.$initiator!==this&&this.parent.zt())}Jt(){void 0!==this.$promise&&(PI=this.$resolve,this.$resolve=this.$reject=this.$promise=void 0,PI(),PI=void 0)}Gt(t){void 0!==this.$promise&&(MI=this.$reject,this.$resolve=this.$reject=this.$promise=void 0,MI(t),MI=void 0),this.$initiator!==this&&this.parent.Gt(t)}Wt(){++this.qt,this.$initiator!==this&&this.parent.Wt()}Qt(){if(0==--this.qt){if(2!==this.vmKind&&null!=this.Ut.attached&&(NI=Vv(...this.Ut.attached.map(RI,this))),this.Vt.hasAttached&&(NI=Vv(NI,this.Ot.attached(this.$initiator,this.$flags))),bx(NI))return this.zt(),NI.then((()=>{this.state=2,this.Jt(),this.$initiator!==this&&this.parent.Qt()})).catch((t=>{this.Gt(t)})),void(NI=void 0);NI=void 0,this.state=2,this.Jt()}this.$initiator!==this&&this.parent.Qt()}Yt(){++this.Mt}Zt(){if(0==--this.Mt){this.te(),this.removeNodes();let t,e=this.$initiator.head;for(;null!==e;)e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),2!==e.vmKind&&null!=e.Ut.unbinding&&(t=Vv(...e.Ut.unbinding.map(EI,this))),e.Vt.hasUnbinding&&(e.debug&&e.logger.trace("unbinding()"),t=Vv(t,e.viewModel.unbinding(e.$initiator,e.parent,e.$flags))),bx(t)&&(this.zt(),this.te(),t.then((()=>{this.ee()})).catch((t=>{this.Gt(t)}))),t=void 0,e=e.next;this.ee()}}te(){++this.Ft}ee(){if(0==--this.Ft){let t=this.$initiator.head,e=null;for(;null!==t;)t!==this&&(t.isBound=!1,t.unbind()),e=t.next,t.next=null,t=e;this.head=this.tail=null,this.isBound=!1,this.unbind()}}addBinding(t){null===this.bindings?this.bindings=[t]:this.bindings[this.bindings.length]=t}addChild(t){null===this.children?this.children=[t]:this.children[this.children.length]=t}is(t){switch(this.vmKind){case 1:return pT(this.Ot.constructor).name===t;case 0:return vR(this.Ot.constructor).name===t;case 2:return this.viewFactory.name===t}}lockScope(t){this.scope=t,this.hasLockedScope=!0}setHost(t){return 0===this.vmKind&&(KI(t,uR,this),KI(t,this.definition.key,this)),this.host=t,this.mountTarget=1,this}setShadowRoot(t){return 0===this.vmKind&&(KI(t,uR,this),KI(t,this.definition.key,this)),this.shadowRoot=t,this.mountTarget=2,this}setLocation(t){return 0===this.vmKind&&(KI(t,uR,this),KI(t,this.definition.key,this)),this.location=t,this.mountTarget=3,this}release(){this.state|=16}dispose(){32!=(32&this.state)&&(this.state|=32,this.Vt.hasDispose&&this.Ot.dispose(),null!==this.children&&(this.children.forEach(CI),this.children=null),this.hostController=null,this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,null!==this.Ot&&(aI.delete(this.Ot),this.Ot=null),this.Ot=null,this.host=null,this.shadowRoot=null,this.container.disposeResolvers())}accept(t){if(!0===t(this))return!0;if(this.Vt.hasAccept&&!0===this.Ot.accept(t))return!0;if(null!==this.children){const{children:e}=this;for(let n=0,s=e.length;n<s;++n)if(!0===e[n].accept(t))return!0}}}function hI(t){let e=t.$observers;return void 0===e&&Reflect.defineProperty(t,"$observers",{enumerable:!1,value:e={}}),e}function lI(t,e,n,s){const i=e.bindables,r=px(i),o=r.length;if(o>0){let e,n,a=0;const c=hI(s),h=t.container,l=h.has(Fy,!0)?h.get(Fy):null;for(;a<o;++a)e=r[a],void 0===c[e]&&(n=i[e],c[e]=new Mx(s,e,n.callback,n.set,t,l))}}const uI=new Map,fI=t=>{let e=uI.get(t);return null==e&&(e=new ey(t,0),uI.set(t,e)),e};function dI(t,e,n,s){const i=e.get(NA),r=e.get(rC),o=n.watches,a=0===t.vmKind?t.scope:Sy.create(s,null,!0),c=o.length;let h,l,u,f=0;for(;c>f;++f){if(({expression:h,callback:l}=o[f]),l=yx(l)?l:Reflect.get(s,l),!yx(l))throw lx(`AUR0506:${String(l)}`);yx(h)?t.addBinding(new HT(s,i,h,l,!0)):(u=kx(h)?r.parse(h,16):fI(h),t.addBinding(new zT(a,e,i,u,l)))}}class pI{constructor(t){this.hasDefine="define"in t,this.hasHydrating="hydrating"in t,this.hasHydrated="hydrated"in t,this.hasCreated="created"in t,this.hasBinding="binding"in t,this.hasBound="bound"in t,this.hasAttaching="attaching"in t,this.hasAttached="attached"in t,this.hasDetaching="detaching"in t,this.hasUnbinding="unbinding"in t,this.hasDispose="dispose"in t,this.hasAccept="accept"in t}}pI.none=new pI({});const gI={mode:"open"};var mI,vI;function bI(t){const e=[];return 1==(1&t)&&e.push("activating"),2==(2&t)&&e.push("activated"),4==(4&t)&&e.push("deactivating"),8==(8&t)&&e.push("deactivated"),16==(16&t)&&e.push("released"),32==(32&t)&&e.push("disposed"),0===e.length?"none":e.join("|")}!function(t){t[t.customElement=0]="customElement",t[t.customAttribute=1]="customAttribute",t[t.synthetic=2]="synthetic"}(mI||(mI={})),function(t){t[t.none=0]="none",t[t.activating=1]="activating",t[t.activated=2]="activated",t[t.deactivating=4]="deactivating",t[t.deactivated=8]="deactivated",t[t.released=16]="released",t[t.disposed=32]="disposed"}(vI||(vI={}));const wI=jx("IController"),yI=jx("IHydrationContext");class kI{constructor(t,e,n){this.instruction=e,this.parent=n,this.controller=t}}function CI(t){t.dispose()}function SI(t){t.instance.created(this.Ot,this)}function AI(t){t.instance.hydrating(this.Ot,this)}function xI(t){t.instance.hydrated(this.Ot,this)}function $I(t){return t.instance.binding(this.Ot,this.$initiator,this.parent,this.$flags)}function TI(t){return t.instance.bound(this.Ot,this.$initiator,this.parent,this.$flags)}function II(t){return t.instance.attaching(this.Ot,this.$initiator,this.parent,this.$flags)}function RI(t){return t.instance.attached(this.Ot,this.$initiator,this.$flags)}function OI(t){return t.instance.detaching(this.Ot,this.$initiator,this.parent,this.$flags)}function EI(t){return t.instance.unbinding(this.Ot,this.$initiator,this.parent,this.$flags)}let PI,MI,NI;const jI=jx("IAppRoot"),LI=(t,e)=>t.document.createComment(e),BI=(t,e)=>t.document.createTextNode(e),UI=(t,e,n)=>t.insertBefore(e,n),FI=(t,e,n)=>{if(null===t)return;const s=n.length;let i=0;for(;s>i;)t.insertBefore(n[i],e),++i},VI=t=>t.previousSibling,DI=(t,e)=>t.content.appendChild(e),WI=(t,e)=>{const n=e.length;let s=0;for(;n>s;)t.content.appendChild(e[s]),++s},qI=t=>{const e=t.previousSibling;let n;if(8===e?.nodeType&&"au-end"===e.textContent){if(n=e,null==(n.$start=n.previousSibling))throw _I();return t.parentNode?.removeChild(t),n}throw _I()},_I=()=>lx("AURxxxx");class HI{}function zI(t,e){return t.$au?.[e]??null}function KI(t,e,n){var s;((s=t).$au??(s.$au=new HI))[e]=n}const GI=jx("INode"),QI=(jx("IEventTarget",(t=>t.cachedCallback((t=>t.has(jI,!0)?t.get(jI).host:t.get($T).document)))),jx("IRenderLocation")),XI=new WeakMap;function ZI(t){if(XI.has(t))return XI.get(t);let e=0,n=t.nextSibling;for(;null!==n;){if(8===n.nodeType)switch(n.textContent){case"au-start":++e;break;case"au-end":if(0==e--)return n}n=n.nextSibling}if(null===t.parentNode&&11===t.nodeType){const e=gR(t);if(void 0===e)return null;if(2===e.mountTarget)return ZI(e.host)}return t.parentNode}function YI(t){if(JI(t))return t;const e=t.ownerDocument.createComment("au-end"),n=e.$start=t.ownerDocument.createComment("au-start"),s=t.parentNode;return null!==s&&(s.replaceChild(e,t),s.insertBefore(n,e)),e}function JI(t){return"au-end"===t.textContent}class tR{constructor(t,e){this.platform=t,this.next=void 0,this.ne=!1,this.re=!1,this.ref=null,this.f=e;const n=e.querySelectorAll(".au");let s,i=0,r=n.length,o=this.t=Array(r);for(;r>i;)s=n[i],"AU-M"===s.nodeName?o[i]=qI(s):o[i]=s,++i;const a=e.childNodes,c=this.childNodes=Array(r=a.length);for(i=0;r>i;)c[i]=a[i],++i;this.oe=e.firstChild,this.le=e.lastChild}get firstChild(){return this.oe}get lastChild(){return this.le}findTargets(){return this.t}insertBefore(t){if(this.re&&this.ref)this.addToLinked();else{const e=t.parentNode;if(this.ne){let n,s=this.oe;const i=this.le;for(;null!=s&&(n=s.nextSibling,e.insertBefore(s,t),s!==i);)s=n}else this.ne=!0,t.parentNode.insertBefore(this.f,t)}}appendTo(t,e=!1){if(this.ne){let e,n=this.oe;const s=this.le;for(;null!=n&&(e=n.nextSibling,t.appendChild(n),n!==s);)n=e}else this.ne=!0,e||t.appendChild(this.f)}remove(){if(this.ne){this.ne=!1;const t=this.f,e=this.le;let n,s=this.oe;for(;null!==s&&(n=s.nextSibling,t.appendChild(s),s!==e);)s=n}}addToLinked(){const t=this.ref,e=t.parentNode;if(this.ne){let n,s=this.oe;const i=this.le;for(;null!=s&&(n=s.nextSibling,e.insertBefore(s,t),s!==i);)s=n}else this.ne=!0,e.insertBefore(this.f,t)}unlink(){this.re=!1,this.next=void 0,this.ref=void 0}link(t){this.re=!0,JI(t)?this.ref=t:(this.next=t,this.he())}he(){void 0!==this.next?this.ref=this.next.firstChild:this.ref=void 0}}const eR=jx("IWindow",(t=>t.callback((t=>t.get($T).window))));function nR(t){return function(e){return pR(t,e)}}jx("ILocation",(t=>t.callback((t=>t.get(eR).location)))),jx("IHistory",(t=>t.callback((t=>t.get(eR).history))));const sR=new WeakMap;class iR{constructor(t,e,n,s,i,r,o,a,c,h,l,u,f,d,p,g,m,v,b,w,y){this.Type=t,this.name=e,this.aliases=n,this.key=s,this.cache=i,this.capture=r,this.template=o,this.instructions=a,this.dependencies=c,this.injectable=h,this.needsCompile=l,this.surrogates=u,this.bindables=f,this.childrenObservers=d,this.containerless=p,this.isStrictBinding=g,this.shadowOptions=m,this.hasSlots=v,this.enhance=b,this.watches=w,this.processContent=y}get type(){return 1}static create(t,e=null){if(null===e){const n=t;if(kx(n))throw lx(`AUR0761:${t}`);const s=Yv("name",n,dR);return e=yx(n.Type)?n.Type:bR(Ov(s)),new iR(e,s,Nv(n.aliases),Yv("key",n,(()=>fR(s))),Yv("cache",n,oR),Yv("capture",n,cR),Yv("template",n,aR),Nv(n.instructions),Nv(n.dependencies),Yv("injectable",n,aR),Yv("needsCompile",n,hR),Nv(n.surrogates),Ox.from(e,n.bindables),bT.from(n.childrenObservers),Yv("containerless",n,cR),Yv("isStrictBinding",n,cR),Yv("shadowOptions",n,aR),Yv("hasSlots",n,cR),Yv("enhance",n,cR),Yv("watches",n,lR),Zv("processContent",e,aR))}if(kx(t))return new iR(e,t,Nv(mR(e,"aliases"),e.aliases),fR(t),Zv("cache",e,oR),Zv("capture",e,cR),Zv("template",e,aR),Nv(mR(e,"instructions"),e.instructions),Nv(mR(e,"dependencies"),e.dependencies),Zv("injectable",e,aR),Zv("needsCompile",e,hR),Nv(mR(e,"surrogates"),e.surrogates),Ox.from(e,...Ox.getAll(e),mR(e,"bindables"),e.bindables),bT.from(...bT.getAll(e),mR(e,"childrenObservers"),e.childrenObservers),Zv("containerless",e,cR),Zv("isStrictBinding",e,cR),Zv("shadowOptions",e,aR),Zv("hasSlots",e,cR),Zv("enhance",e,cR),Nv(rT.getAnnotation(e),e.watches),Zv("processContent",e,aR));const n=Yv("name",t,dR);return new iR(e,n,Nv(mR(e,"aliases"),t.aliases,e.aliases),fR(n),Xv("cache",t,e,oR),Xv("capture",t,e,cR),Xv("template",t,e,aR),Nv(mR(e,"instructions"),t.instructions,e.instructions),Nv(mR(e,"dependencies"),t.dependencies,e.dependencies),Xv("injectable",t,e,aR),Xv("needsCompile",t,e,hR),Nv(mR(e,"surrogates"),t.surrogates,e.surrogates),Ox.from(e,...Ox.getAll(e),mR(e,"bindables"),e.bindables,t.bindables),bT.from(...bT.getAll(e),mR(e,"childrenObservers"),e.childrenObservers,t.childrenObservers),Xv("containerless",t,e,cR),Xv("isStrictBinding",t,e,cR),Xv("shadowOptions",t,e,aR),Xv("hasSlots",t,e,cR),Xv("enhance",t,e,cR),Nv(t.watches,rT.getAnnotation(e),e.watches),Xv("processContent",t,e,aR))}static getOrCreate(t){if(t instanceof iR)return t;if(sR.has(t))return sR.get(t);const e=iR.create(t);return sR.set(t,e),JA(uR,e,e.Type),e}register(t){const{Type:e,key:n,aliases:s}=this;t.has(n,!1)||(Fx(n,e).register(t),Bx(n,e).register(t),Dx(s,wR,n,t))}}const rR={name:void 0,searchParents:!1,optional:!1},oR=()=>0,aR=()=>null,cR=()=>!1,hR=()=>!0,lR=()=>tw,uR=sx("custom-element"),fR=t=>`${uR}:${t}`,dR=(()=>{let t=0;return()=>"unnamed-"+ ++t})(),pR=(t,e)=>{const n=iR.create(t,e);return JA(uR,n,n.Type),JA(uR,n,n),ix(n.Type,uR),n.Type},gR=(t,e=rR)=>{if(void 0===e.name&&!0!==e.searchParents){const n=zI(t,uR);if(null===n){if(!0===e.optional)return null;throw lx("AUR0762")}return n}if(void 0!==e.name){if(!0!==e.searchParents){const n=zI(t,uR);if(null===n)throw lx("AUR0763");return n.is(e.name)?n:void 0}let n=t,s=!1;for(;null!==n;){const t=zI(n,uR);if(null!==t&&(s=!0,t.is(e.name)))return t;n=ZI(n)}if(s)return;throw lx("AUR0764")}let n=t;for(;null!==n;){const t=zI(n,uR);if(null!==t)return t;n=ZI(n)}throw lx("AUR0765")},mR=(t,e)=>ZA(nx(e),t),vR=t=>{const e=ZA(uR,t);if(void 0===e)throw lx(`AUR0760:${t.name}`);return e},bR=function(){const t={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(n,s=e){const i=class{};return t.value=n,Reflect.defineProperty(i,"name",t),s!==e&&dx(i.prototype,s),i}}(),wR=fx({name:uR,keyFrom:fR,isType:t=>yx(t)&&YA(uR,t),for:gR,define:pR,getDefinition:vR,annotate:(t,e,n)=>{JA(nx(e),n,t)},getAnnotation:mR,generateName:dR,createInjectable:()=>{const t=function(e,n,s){return Eb.getOrCreateAnnotationParamTypes(e)[s]=t,e};return t.register=function(e){return{resolve:(e,n)=>n.has(t,!0)?n.get(t):null}},t},generateType:bR});nx("processContent"),jx("IProjections");const yR=jx("IAuSlotsInfo");class kR{constructor(t){this.projectedSlots=t}}var CR;!function(t){t.hydrateElement="ra",t.hydrateAttribute="rb",t.hydrateTemplateController="rc",t.hydrateLetElement="rd",t.setProperty="re",t.interpolation="rf",t.propertyBinding="rg",t.letBinding="ri",t.refBinding="rj",t.iteratorBinding="rk",t.multiAttr="rl",t.textBinding="ha",t.listenerBinding="hb",t.attributeBinding="hc",t.stylePropertyBinding="hd",t.setAttribute="he",t.setClassAttribute="hf",t.setStyleAttribute="hg",t.spreadBinding="hs",t.spreadElementProp="hp"}(CR||(CR={}));const SR=jx("Instruction");class AR{constructor(t,e){this.from=t,this.to=e,this.type="rf"}}class xR{constructor(t,e,n){this.from=t,this.to=e,this.mode=n,this.type="rg"}}class $R{constructor(t,e,n){this.forOf=t,this.to=e,this.props=n,this.type="rk"}}class TR{constructor(t,e){this.from=t,this.to=e,this.type="rj"}}class IR{constructor(t,e){this.value=t,this.to=e,this.type="re"}}class RR{constructor(t,e,n){this.value=t,this.to=e,this.command=n,this.type="rl"}}class OR{constructor(t,e,n,s,i,r){this.res=t,this.alias=e,this.props=n,this.projections=s,this.containerless=i,this.captures=r,this.type="ra",this.auSlot=null}}class ER{constructor(t,e,n){this.res=t,this.alias=e,this.props=n,this.type="rb"}}class PR{constructor(t,e,n,s){this.def=t,this.res=e,this.alias=n,this.props=s,this.type="rc"}}class MR{constructor(t,e){this.instructions=t,this.toBindingContext=e,this.type="rd"}}class NR{constructor(t,e){this.from=t,this.to=e,this.type="ri"}}class jR{constructor(t,e){this.from=t,this.strict=e,this.type="ha"}}class LR{constructor(t,e,n,s){this.from=t,this.to=e,this.preventDefault=n,this.capture=s,this.type="hb"}}class BR{constructor(t,e){this.value=t,this.to=e,this.type="he"}}class UR{constructor(t){this.value=t,this.type="hf"}}class FR{constructor(t){this.value=t,this.type="hg"}}class VR{constructor(t,e,n){this.attr=t,this.from=e,this.to=n,this.type="hc"}}class DR{constructor(){this.type="hs"}}class WR{constructor(t){this.instructions=t,this.type="hp"}}const qR=jx("ITemplateCompiler"),_R=jx("IRenderer");function HR(t){return function(e){return e.register=function(t){Lx(_R,this).register(t)},Cx(e.prototype,"target",{configurable:!0,get:function(){return t}}),e}}function zR(t,e,n){return kx(e)?t.parse(e,n):e}function KR(t){return null!=t.viewModel?t.viewModel:t}let GR=class{render(t,e,n){const s=KR(e);void 0!==s.$observers?.[n.to]?s.$observers[n.to].setValue(n.value):s[n.to]=n.value}};GR=QA([HR("re")],GR);let QR=class{constructor(t){this.r=t}static get inject(){return[nI]}render(t,e,n,s,i,r){let o,a,c,h;const l=n.res,u=n.projections,f=t.container;if("string"==typeof l){if(o=f.find(wR,l),null==o)throw lx(`AUR0752:${l}@${t.name}`)}else o=l;const d=n.containerless||o.containerless?YI(e):null,p=function(t,e,n,s,i,r){const o=e.container.createChild();return Vx(o,t.HTMLElement,Vx(o,t.Element,Vx(o,GI,new Yb("ElementResolver",n)))),Vx(o,wI,new Yb(dO,e)),Vx(o,SR,new Yb(pO,s)),Vx(o,QI,null==i?yO:new wO(i)),Vx(o,tI,kO),Vx(o,yR,null==r?CO:new Yb(mO,r)),o}(s,t,e,n,d,null==u?void 0:new kR(gx(u)));a=o.Type,c=p.invoke(a),Vx(p,a,new Yb(o.key,c)),h=cI.$el(p,c,e,n,o,d),KI(e,o.key,h);const g=this.r.renderers,m=n.props,v=m.length;let b,w=0;for(;v>w;)b=m[w],g[b.type].render(t,h,b,s,i,r),++w;t.addChild(h)}};QR=QA([HR("ra")],QR);let XR=class{constructor(t){this.r=t}static get inject(){return[nI]}render(t,e,n,s,i,r){let o,a=t.container;if("string"==typeof n.res){if(o=a.find(gT,n.res),null==o)throw lx(`AUR0753:${n.res}@${t.name}`)}else o=n.res;const c=bO(s,o,t,e,n,void 0,void 0),h=cI.$attr(c.ctn,c.vm,e,o);KI(e,o.key,h);const l=this.r.renderers,u=n.props,f=u.length;let d,p=0;for(;f>p;)d=u[p],l[d.type].render(t,h,d,s,i,r),++p;t.addChild(h)}};XR=QA([HR("rb")],XR);let ZR=class{constructor(t,e){this.r=t,this.p=e}static get inject(){return[nI,$T]}render(t,e,n,s,i,r){let o,a=t.container;if("string"==typeof n.res){if(o=a.find(gT,n.res),null==o)throw lx(`AUR0754:${n.res}@${t.name}`)}else o=n.res;const c=this.r.getViewFactory(n.def,a),h=YI(e),l=bO(this.p,o,t,e,n,c,h),u=cI.$attr(l.ctn,l.vm,e,o);KI(h,o.key,u),l.vm.link?.(t,u,e,n);const f=this.r.renderers,d=n.props,p=d.length;let g,m=0;for(;p>m;)g=d[m],f[g.type].render(t,u,g,s,i,r),++m;t.addChild(u)}};ZR=QA([HR("rc")],ZR);let YR=class{render(t,e,n,s,i,r){e.remove();const o=n.instructions,a=n.toBindingContext,c=t.container,h=o.length;let l,u,f=0;for(;h>f;)l=o[f],u=zR(i,l.from,16),t.addBinding(new K$(c,r,u,l.to,a)),++f}};YR=QA([HR("rd")],YR);let JR=class{render(t,e,n,s,i){t.addBinding(new Z$(t.container,zR(i,n.from,16),function(t,e){if("element"===e)return t;switch(e){case"controller":return gR(t);case"view":throw lx("AUR0750");case"view-model":return gR(t).viewModel;default:{const n=fT(t,e);if(void 0!==n)return n.viewModel;const s=gR(t,{name:e});if(void 0===s)throw lx(`AUR0751:${e}`);return s.viewModel}}}(e,n.to)))}};JR=QA([HR("rj")],JR);let tO=class{render(t,e,n,s,i,r){t.addBinding(new _$(t,t.container,r,s.domWriteQueue,zR(i,n.from,1),KR(e),n.to,2))}};tO=QA([HR("rf")],tO);let eO=class{render(t,e,n,s,i,r){t.addBinding(new G$(t,t.container,r,s.domWriteQueue,zR(i,n.from,16),KR(e),n.to,n.mode))}};eO=QA([HR("rg")],eO);let nO=class{render(t,e,n,s,i,r){t.addBinding(new G$(t,t.container,r,s.domWriteQueue,zR(i,n.forOf,2),KR(e),n.to,2))}};nO=QA([HR("rk")],nO);let sO=class{render(t,e,n,s,i,r){t.addBinding(new z$(t,t.container,r,s.domWriteQueue,s,zR(i,n.from,16),UI(e.parentNode,BI(s,""),e),n.strict))}};sO=QA([HR("ha")],sO);let iO=class{render(t,e,n,s,i){t.addBinding(new J$(t.container,zR(i,n.from,8),e,n.to,new Y$(n.preventDefault,n.capture)))}};iO=QA([HR("hb")],iO);let rO=class{render(t,e,n){e.setAttribute(n.to,n.value)}};rO=QA([HR("he")],rO);let oO=class{render(t,e,n){!function(t,e){const n=e.length;let s=0;for(let i=0;i<n;++i)32===e.charCodeAt(i)?(i!==s&&t.add(e.slice(s,i)),s=i+1):i+1===n&&t.add(e.slice(s))}(e.classList,n.value)}};oO=QA([HR("hf")],oO);let aO=class{render(t,e,n){e.style.cssText+=n.value}};aO=QA([HR("hg")],aO);let cO=class{render(t,e,n,s,i,r){t.addBinding(new G$(t,t.container,r,s.domWriteQueue,zR(i,n.from,16),e.style,n.to,2))}};cO=QA([HR("hd")],cO);let hO=class{render(t,e,n,s,i,r){t.addBinding(new W$(t,t.container,r,s.domWriteQueue,zR(i,n.from,16),e,n.attr,n.to,2))}};hO=QA([HR("hc")],hO);let lO=class{constructor(t,e){this.ae=t,this.r=e}static get inject(){return[qR,nI]}render(t,e,n,s,i,r){const o=t.container.get(yI),a=this.r.renderers,c=t=>{let e=t,n=o;for(;null!=n&&e>0;)n=n.parent,--e;if(null==n)throw lx("No scope context for spread binding.");return n},h=n=>{const o=c(n),l=fO(o),u=this.ae.compileSpread(o.controller.definition,o.instruction?.captures??tw,o.controller.container,e);let f;for(f of u)switch(f.type){case"hs":h(n+1);break;case"hp":a[f.instructions.type].render(l,gR(e),f.instructions,s,i,r);break;default:a[f.type].render(l,e,f,s,i,r)}t.addBinding(l)};h(0)}};lO=QA([HR("hs")],lO);class uO{constructor(t,e){this.ce=t,this.ue=e,this.isBound=!1,this.ctrl=e.controller,this.locator=this.ctrl.container}get container(){return this.locator}get definition(){return this.ctrl.definition}get isStrictBinding(){return this.ctrl.isStrictBinding}get state(){return this.ctrl.state}get(t){return this.locator.get(t)}bind(t){if(this.isBound)return;this.isBound=!0;const e=this.scope=this.ue.controller.scope.parent??void 0;if(null==e)throw lx("Invalid spreading. Context scope is null/undefined");this.ce.forEach((t=>t.bind(e)))}unbind(){this.ce.forEach((t=>t.unbind())),this.isBound=!1}addBinding(t){this.ce.push(t)}addChild(t){if(1!==t.vmKind)throw lx("Spread binding does not support spreading custom attributes/template controllers");this.ctrl.addChild(t)}limit(){throw lx("not implemented")}useScope(){throw lx("not implemented")}}const fO=t=>new uO([],t),dO="IController",pO="IInstruction",gO="IRenderLocation",mO="IAuSlotsInfo";class vO{constructor(t){this.f=t}get $isResolver(){return!0}resolve(){const t=this.f;if(null===t)throw lx("AUR7055");if(!kx(t.name)||0===t.name.length)throw lx("AUR0756");return t}}function bO(t,e,n,s,i,r,o,a){const c=n.container.createChild();return Vx(c,t.HTMLElement,Vx(c,t.Element,Vx(c,GI,new Yb("ElementResolver",s)))),n=n instanceof cI?n:n.ctrl,Vx(c,wI,new Yb(dO,n)),Vx(c,SR,new Yb(pO,i)),Vx(c,QI,null==o?yO:new Yb(gO,o)),Vx(c,tI,null==r?kO:new vO(r)),Vx(c,yR,null==a?CO:new Yb(mO,a)),{vm:c.invoke(e.Type),ctn:c}}class wO{constructor(t){this.l=t}get name(){return"IRenderLocation"}get $isResolver(){return!0}resolve(){return this.l}}const yO=new wO(null),kO=new vO(null),CO=new Yb(mO,new kR(tw));var SO;function AO(t){return function(e){return RO.define(t,e)}}!function(t){t[t.None=0]="None",t[t.IgnoreAttr=1]="IgnoreAttr"}(SO||(SO={}));class xO{constructor(t,e,n,s,i){this.Type=t,this.name=e,this.aliases=n,this.key=s,this.type=i}static create(t,e){let n,s;return kx(t)?(n=t,s={name:n}):(n=t.name,s=t),new xO(e,jv(IO(e,"name"),n),Nv(IO(e,"aliases"),s.aliases,e.aliases),TO(n),jv(IO(e,"type"),s.type,e.type,null))}register(t){const{Type:e,key:n,aliases:s}=this;Lx(n,e).register(t),Bx(n,e).register(t),Dx(s,RO,n,t)}}const $O=sx("binding-command"),TO=t=>`${$O}:${t}`,IO=(t,e)=>ZA(nx(e),t),RO=fx({name:$O,keyFrom:TO,define(t,e){const n=xO.create(t,e);return JA($O,n,n.Type),JA($O,n,n),ix(e,$O),n.Type},getAnnotation:IO});let OO=class{get type(){return 0}build(t,e,n){let s=t.attr.target,i=t.attr.rawValue;return null==t.bindable?s=n.map(t.node,s)??Rv(s):(""===i&&1===t.def.type&&(i=Rv(s)),s=t.bindable.property),new xR(e.parse(i,16),s,1)}};OO=QA([AO("one-time")],OO);let EO=class{get type(){return 0}build(t,e,n){let s=t.attr.target,i=t.attr.rawValue;return null==t.bindable?s=n.map(t.node,s)??Rv(s):(""===i&&1===t.def.type&&(i=Rv(s)),s=t.bindable.property),new xR(e.parse(i,16),s,2)}};EO=QA([AO("to-view")],EO);let PO=class{get type(){return 0}build(t,e,n){const s=t.attr;let i=s.target,r=s.rawValue;return null==t.bindable?i=n.map(t.node,i)??Rv(i):(""===r&&1===t.def.type&&(r=Rv(i)),i=t.bindable.property),new xR(e.parse(r,16),i,4)}};PO=QA([AO("from-view")],PO);let MO=class{get type(){return 0}build(t,e,n){const s=t.attr;let i=s.target,r=s.rawValue;return null==t.bindable?i=n.map(t.node,i)??Rv(i):(""===r&&1===t.def.type&&(r=Rv(i)),i=t.bindable.property),new xR(e.parse(r,16),i,6)}};MO=QA([AO("two-way")],MO);let NO=class{get type(){return 0}build(t,e,n){const s=t.attr,i=t.bindable;let r,o,a=s.target,c=s.rawValue;return null==i?(o=n.isTwoWay(t.node,a)?6:2,a=n.map(t.node,a)??Rv(a)):(""===c&&1===t.def.type&&(c=Rv(a)),r=t.def.defaultBindingMode,o=8===i.mode||null==i.mode?null==r||8===r?2:r:i.mode,a=i.property),new xR(e.parse(c,16),a,o)}};NO=QA([AO("bind")],NO);let jO=class{constructor(t){this.fe=t}get type(){return 0}static get inject(){return[e$]}build(t,e){const n=null===t.bindable?Rv(t.attr.target):t.bindable.property,s=e.parse(t.attr.rawValue,2);let i=tw;if(s.semiIdx>-1){const e=t.attr.rawValue.slice(s.semiIdx+1),n=e.indexOf(":");if(n>-1){const t=e.slice(0,n).trim(),s=e.slice(n+1).trim(),r=this.fe.parse(t,s);i=[new RR(s,r.target,r.command)]}}return new $R(s,n,i)}};jO=QA([AO("for")],jO);let LO=class{get type(){return 1}build(t,e){return new LR(e.parse(t.attr.rawValue,8),t.attr.target,!0,!1)}};LO=QA([AO("trigger")],LO);let BO=class{get type(){return 1}build(t,e){return new LR(e.parse(t.attr.rawValue,8),t.attr.target,!1,!0)}};BO=QA([AO("capture")],BO);let UO=class{get type(){return 1}build(t,e){return new VR(t.attr.target,e.parse(t.attr.rawValue,16),t.attr.target)}};UO=QA([AO("attr")],UO);let FO=class{get type(){return 1}build(t,e){return new VR("style",e.parse(t.attr.rawValue,16),t.attr.target)}};FO=QA([AO("style")],FO);let VO=class{get type(){return 1}build(t,e){return new VR("class",e.parse(t.attr.rawValue,16),t.attr.target)}};VO=QA([AO("class")],VO);let DO=class{get type(){return 1}build(t,e){return new TR(e.parse(t.attr.rawValue,16),t.attr.target)}};DO=QA([AO("ref")],DO);let WO=class{get type(){return 1}build(t){return new DR}};WO=QA([AO("...$attrs")],WO);const qO=jx("ISVGAnalyzer",(t=>t.singleton(_O)));class _O{isStandardSvgAttribute(t,e){return!1}}const HO=jx("IAttrMapper",(t=>t.singleton(zO)));class zO{constructor(t){this.svg=t,this.fns=[],this.pe=hx(),this.ve=hx(),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}static get inject(){return[qO]}useMapping(t){var e;let n,s,i,r;for(i in t)for(r in n=t[i],s=(e=this.pe)[i]??(e[i]=hx()),n){if(void 0!==s[r])throw KO(r,i);s[r]=n[r]}}useGlobalMapping(t){const e=this.ve;for(const n in t){if(void 0!==e[n])throw KO(n,"*");e[n]=t[n]}}useTwoWay(t){this.fns.push(t)}isTwoWay(t,e){return function(t,e){switch(t.nodeName){case"INPUT":switch(t.type){case"checkbox":case"radio":return"checked"===e;default:return"value"===e||"files"===e||"value-as-number"===e||"value-as-date"===e}case"TEXTAREA":case"SELECT":return"value"===e;default:switch(e){case"textcontent":case"innerhtml":return t.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}(t,e)||this.fns.length>0&&this.fns.some((n=>n(t,e)))}map(t,e){return this.pe[t.nodeName]?.[e]??this.ve[e]??(vx(t,e,this.svg)?e:null)}}function KO(t,e){return lx(`Attribute ${t} has been already registered for ${"*"===e?"all elements":`<${e}/>`}`)}const GO=jx("ITemplateElementFactory",(t=>t.singleton(XO))),QO={};class XO{constructor(t){this.p=t,this.xe=ZO(this.p)}createTemplate(t){if(kx(t)){let e=QO[t];if(void 0===e){const n=this.xe;n.innerHTML=t;const s=n.content.firstElementChild;null==s||"TEMPLATE"!==s.nodeName||null!=s.nextElementSibling?(this.xe=ZO(this.p),e=n):(n.content.removeChild(s),e=s),QO[t]=e}return e.cloneNode(!0)}if("TEMPLATE"!==t.nodeName){const e=ZO(this.p);return e.content.appendChild(t),e}return t.parentNode?.removeChild(t),t.cloneNode(!0)}}XO.inject=[$T];const ZO=t=>t.document.createElement("template");let YO;const JO="AU-M",tE="TEMPLATE",eE="au-start",nE="au-end",sE=t=>t.nodeName===JO&&iE(YO=VI(t))&&YO.textContent===nE&&iE(YO=VI(YO))&&YO.textContent===eE,iE=t=>8===t?.nodeType;class rE{constructor(t,e,n,s,i,r){this.hasSlot=!1,this.Fe=hx();const o=null!==s;this.c=e,this.root=null===i?this:i,this.def=t,this.ci=n,this.parent=s,this.we=o?s.we:e.get(GO),this.fe=o?s.fe:e.get(e$),this.ep=o?s.ep:e.get(rC),this.m=o?s.m:e.get(HO),this.Oe=o?s.Oe:e.get(uw),this.p=o?s.p:e.get($T),this.localEls=o?s.localEls:new Set,this.rows=r??[]}qe(t){var e;((e=this.root).deps??(e.deps=[])).push(t),this.root.c.register(t)}_e(t){return BI(this.p,t)}$e(t){return LI(this.p,t)}h(t){const e=((t,e)=>t.document.createElement(e))(this.p,t);return"template"===t&&this.p.document.adoptNode(e.content),e}t(){return this.h("template")}Ae(t){return this.c.find(wR,t)}Be(t){return this.c.find(gT,t)}De(t){return new rE(this.def,this.c,this.ci,this,this.root,t)}Ce(t){if(this.root!==this)return this.root.Ce(t);const e=t.command;if(null===e)return null;let n=this.Fe[e];if(void 0===n){if(n=this.c.create(RO,e),null===n)throw lx(`AUR0713:${e}`);this.Fe[e]=n}return n}}const oE=t=>{const e=t.length;let n=0,s=0;for(;e>s;){if(n=t.charCodeAt(s),92===n)++s;else{if(58===n)return!0;if(36===n&&123===t.charCodeAt(s+1))return!1}++s}return!1},aE=()=>{lE.node=lE.attr=lE.bindable=lE.def=null},cE={projections:null},hE={name:"unnamed"},lE={node:null,attr:null,bindable:null,def:null},uE=dx(hx(),{id:!0,name:!0,"au-slot":!0,"as-element":!0}),fE={checkbox:1,radio:1},dE=new WeakMap;class pE{constructor(t,e,n){this.attrs=t,this.bindables=e,this.primary=n}static from(t,e){let n=dE.get(t);if(null==n){const s=t.bindables,i=hx(),r=e?void 0===t.defaultBindingMode?8:t.defaultBindingMode:8;let o,a,c,h,l=!1;for(a in s){if(o=s[a],h=o.attribute,!0===o.primary){if(l)throw lx(`AUR0714:${t.name}`);l=!0,c=o}else l||null!=c||(c=o);i[h]=Ex.create(a,t.Type,o)}null==o&&e&&(c=i.value=Ex.create("value",t.Type,{mode:r})),dE.set(t,n=new pE(i,s,c))}return n}}const gE=fx(["property","attribute","mode"]),mE="as-custom-element",vE=(t,e)=>{const n=t.getAttribute(mE);if(null===n||""===n)throw lx("AUR0715");if(e.has(n))throw lx(`AUR0716:${n}`);return e.add(n),t.removeAttribute(mE),n},bE=t=>{switch(t.getAttribute("mode")){case"oneTime":return 1;case"toView":return 2;case"fromView":return 4;case"twoWay":return 6;default:return 8}},wE=jx("ITemplateCompilerHooks"),yE=new WeakMap,kE=sx("compiler-hooks");fx({name:kE,define(t){let e=yE.get(t);return void 0===e&&(yE.set(t,e=new CE(t)),JA(kE,e,t),ix(t,kE)),t}});class CE{constructor(t){this.Type=t}get name(){return""}register(t){t.register(Lx(wE,this.Type))}}const SE="default",AE="au-slot",xE=new Map;class $E{bind(t,e){xE.set(e,e.mode),e.mode=this.mode}unbind(t,e){e.mode=xE.get(e),xE.delete(e)}}class TE extends $E{get mode(){return 1}}class IE extends $E{get mode(){return 2}}class RE extends $E{get mode(){return 4}}class OE extends $E{get mode(){return 6}}y$("oneTime")(TE),y$("toView")(IE),y$("fromView")(RE),y$("twoWay")(OE);const EE=new WeakMap;class PE{constructor(t){this.p=t}bind(t,e,n){const s={type:"debounce",delay:(n=Number(n))>0?n:200,now:this.p.performanceNow,queue:this.p.taskQueue},i=e.limit?.(s);null==i||EE.set(e,i)}unbind(t,e){EE.get(e)?.dispose(),EE.delete(e)}}PE.inject=[sw],y$("debounce")(PE);class ME{constructor(t){this.Ve=new Map,this.Ne=t}bind(t,e,...n){if(!("handleChange"in e))throw lx("AUR0817");if(0===n.length)throw lx("AUR0818");let s;for(s of(this.Ve.set(e,n),n))this.Ne.addSignalListener(s,e)}unbind(t,e){const n=this.Ve.get(e);let s;for(s of(this.Ve.delete(e),n))this.Ne.removeSignalListener(s,e)}}ME.inject=[_A],y$("signal")(ME);const NE=new WeakMap;class jE{constructor(t){this.je=t.performanceNow,this.ct=t.taskQueue}bind(t,e,n){const s={type:"throttle",delay:(n=Number(n))>0?n:200,now:this.je,queue:this.ct},i=e.limit?.(s);null==i||NE.set(e,i)}unbind(t,e){NE.get(e)?.dispose(),NE.delete(e)}}jE.inject=[sw],y$("throttle")(jE);class LE{constructor(){this.type=6}getValue(t,e){return t.getAttribute(e)}setValue(t,e,n){null==t?e.removeAttribute(n):e.setAttribute(n,t)}}ET(LE);const BE=new LE;class UE{bind(t,e){if(!(e instanceof G$))throw lx("AURxxxx");e.useTargetObserver(BE)}}y$("attr")(UE);class FE{bind(t,e){if(!(e instanceof J$))throw lx("AUR0801");e.self=!0}unbind(t,e){e.self=!1}}y$("self")(FE);const VE=hx();class DE{constructor(t){this.ns=t,this.type=6}static forNs(t){return VE[t]??(VE[t]=new DE(t))}getValue(t,e){return t.getAttributeNS(this.ns,e)}setValue(t,e,n){null==t?e.removeAttributeNS(this.ns,n):e.setAttributeNS(this.ns,n,t)}}function WE(t,e){return t===e}ET(DE);class qE{constructor(t,e,n,s){this.type=7,this.v=void 0,this.ov=void 0,this.He=void 0,this.We=void 0,this.yt=!1,this.bt=t,this.oL=s,this.cf=n}getValue(){return this.v}setValue(t){const e=this.v;t!==e&&(this.v=t,this.ov=e,this.ze(),this.Ge(),this.st())}handleCollectionChange(){this.Ge()}handleChange(t,e){this.Ge()}Ge(){const t=this.v,e=this.bt,n=ux.call(e,"model")?e.model:e.value,s="radio"===e.type,i=void 0!==e.matcher?e.matcher:WE;if(s)e.checked=!!i(t,n);else if(!0===t)e.checked=!0;else{let s=!1;if(wx(t))s=-1!==t.findIndex((t=>!!i(t,n)));else if(t instanceof Set){for(const e of t)if(i(e,n)){s=!0;break}}else if(t instanceof Map)for(const e of t){const t=e[0],r=e[1];if(i(t,n)&&!0===r){s=!0;break}}e.checked=s}}handleEvent(){let t=this.ov=this.v;const e=this.bt,n=ux.call(e,"model")?e.model:e.value,s=e.checked,i=void 0!==e.matcher?e.matcher:WE;if("checkbox"===e.type){if(wx(t)){const e=t.findIndex((t=>!!i(t,n)));return void(s&&-1===e?t.push(n):s||-1===e||t.splice(e,1))}if(t instanceof Set){const e={};let r=e;for(const e of t)if(!0===i(e,n)){r=e;break}return void(s&&r===e?t.add(n):s||r===e||t.delete(r))}if(t instanceof Map){let e;for(const s of t){const t=s[0];if(!0===i(t,n)){e=t;break}}return void t.set(e,s)}t=s}else{if(!s)return;t=n}this.v=t,this.st()}kt(){this.ze()}At(){this.He?.unsubscribe(this),this.We?.unsubscribe(this),this.He=this.We=void 0}st(){_E=this.ov,this.ov=this.v,this.subs.notify(this.v,_E)}ze(){const t=this.bt;(this.We??(this.We=t.$observers?.model??t.$observers?.value))?.subscribe(this),this.He?.unsubscribe(this),this.He=void 0,"checkbox"===t.type&&(this.He=function(t,e){return t instanceof Array?e.getArrayObserver(t):t instanceof Map?e.getMapObserver(t):t instanceof Set?e.getSetObserver(t):void 0}(this.v,this.oL))?.subscribe(this)}}let _E;RT(qE),qy(qE);const HE={childList:!0,subtree:!0,characterData:!0};function zE(t,e){return t===e}class KE{constructor(t,e,n,s){this.type=7,this.v=void 0,this.ov=void 0,this.J=!1,this.Xe=void 0,this.Ke=void 0,this.iO=!1,this.yt=!1,this.bt=t,this.oL=s,this.cf=n}getValue(){return this.iO?this.v:this.bt.multiple?function(t){const e=[];if(0===t.length)return e;const n=t.length;let s,i=0;for(;n>i;)s=t[i],s.selected&&(e[e.length]=ux.call(s,"model")?s.model:s.value),++i;return e}(this.bt.options):this.bt.value}setValue(t){this.ov=this.v,this.v=t,this.J=t!==this.ov,this.Qe(t instanceof Array?t:null),this.it()}it(){this.J&&(this.J=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){const t=this.v,e=this.bt,n=wx(t),s=e.matcher??zE,i=e.options;let r=i.length;for(;r-- >0;){const e=i[r],o=ux.call(e,"model")?e.model:e.value;e.selected=n?-1!==t.findIndex((t=>!!s(o,t))):!!s(o,t)}}syncValue(){const t=this.bt,e=t.options,n=e.length,s=this.v;let i=0;if(t.multiple){if(!(s instanceof Array))return!0;let r;const o=t.matcher||zE,a=[];for(;i<n;)r=e[i],r.selected&&a.push(ux.call(r,"model")?r.model:r.value),++i;let c;for(i=0;i<s.length;)c=s[i],-1===a.findIndex((t=>!!o(c,t)))?s.splice(i,1):++i;for(i=0;i<a.length;)c=a[i],-1===s.findIndex((t=>!!o(c,t)))&&s.push(c),++i;return!1}let r,o=null;for(;i<n;){if(r=e[i],r.selected){o=ux.call(r,"model")?r.model:r.value;break}++i}return this.ov=this.v,this.v=o,!0}kt(){(this.Ke=new this.bt.ownerDocument.defaultView.MutationObserver(this.Ye.bind(this))).observe(this.bt,HE),this.Qe(this.v instanceof Array?this.v:null),this.iO=!0}At(){this.Ke.disconnect(),this.Xe?.unsubscribe(this),this.Ke=this.Xe=void 0,this.iO=!1}Qe(t){if(this.Xe?.unsubscribe(this),this.Xe=void 0,null!=t){if(!this.bt.multiple)throw lx("AUR0654");(this.Xe=this.oL.getArrayObserver(t)).subscribe(this)}}handleEvent(){this.syncValue()&&this.st()}Ye(t){this.syncOptions(),this.syncValue()&&this.st()}st(){GE=this.ov,this.ov=this.v,this.subs.notify(this.v,GE)}}let GE,QE;RT(KE),qy(KE);class XE{constructor(t){this.obj=t,this.type=6,this.v="",this.ov="",this.styles={},this.version=0,this.J=!1}getValue(){return this.obj.style.cssText}setValue(t){this.v=t,this.J=t!==this.ov,this.it()}Ze(t){const e=[],n=/url\([^)]+$/;let s,i,r,o,a=0,c="";for(;a<t.length;)s=t.indexOf(";",a),-1===s&&(s=t.length),c+=t.substring(a,s),a=s+1,n.test(c)?c+=";":(i=c.indexOf(":"),r=c.substring(0,i).trim(),o=c.substring(i+1).trim(),e.push([r,o]),c="");return e}Je(t){let e,n;const s=[];for(n in t)if(e=t[n],null!=e)if(kx(e)){if(n.startsWith("--")){s.push([n,e]);continue}s.push([Ev(n),e])}else s.push(...this.ti(e));return s}ei(t){const e=t.length;if(e>0){const n=[];let s=0;for(;e>s;++s)n.push(...this.ti(t[s]));return n}return tw}ti(t){return kx(t)?this.Ze(t):t instanceof Array?this.ei(t):t instanceof Object?this.Je(t):tw}it(){if(this.J){this.J=!1;const t=this.v,e=this.styles,n=this.ti(t);let s,i,r,o,a=this.version;this.ov=t;let c=0;const h=n.length;for(;c<h;++c)i=n[c],r=i[0],o=i[1],this.setProperty(r,o),e[r]=a;if(this.styles=e,this.version+=1,0===a)return;for(s in a-=1,e)ux.call(e,s)&&e[s]===a&&this.obj.style.removeProperty(s)}}setProperty(t,e){let n="";null!=e&&yx(e.indexOf)&&e.includes("!important")&&(n="important",e=e.replace("!important","")),this.obj.style.setProperty(t,e,n)}bind(){this.v=this.ov=this.obj.style.cssText}}ET(XE);class ZE{constructor(t,e,n){this.type=7,this.v="",this.ov="",this.J=!1,this.yt=!1,this.bt=t,this.k=e,this.cf=n}getValue(){return this.v}setValue(t){Ax(t,this.v)||(this.ov=this.v,this.v=t,this.J=!0,this.cf.readonly||this.it())}it(){this.J&&(this.J=!1,this.bt[this.k]=this.v??this.cf.default,this.st())}handleEvent(){this.ov=this.v,this.v=this.bt[this.k],this.ov!==this.v&&(this.J=!1,this.st())}kt(){this.v=this.ov=this.bt[this.k]}st(){QE=this.ov,this.ov=this.v,this.subs.notify(this.v,QE)}}RT(ZE),qy(ZE);const YE="http://www.w3.org/1999/xlink",JE="http://www.w3.org/XML/1998/namespace",tP="http://www.w3.org/2000/xmlns/",eP=dx(hx(),{"xlink:actuate":["actuate",YE],"xlink:arcrole":["arcrole",YE],"xlink:href":["href",YE],"xlink:role":["role",YE],"xlink:show":["show",YE],"xlink:title":["title",YE],"xlink:type":["type",YE],"xml:lang":["lang",JE],"xml:space":["space",JE],xmlns:["xmlns",tP],"xmlns:xlink":["xlink",tP]}),nP=new OA;nP.type=6;class sP{constructor(t,e,n,s){this.locator=t,this.platform=e,this.dirtyChecker=n,this.svgAnalyzer=s,this.allowDirtyCheck=!0,this.ii=hx(),this.si=hx(),this.ni=hx(),this.ri=hx();const i=["change","input"],r={events:i,default:""};this.useConfig({INPUT:{value:r,valueAsNumber:{events:i,default:0},checked:{type:qE,events:i},files:{events:i,readonly:!0}},SELECT:{value:{type:KE,events:["change"],default:""}},TEXTAREA:{value:r}});const o={events:["change","input","blur","keyup","paste"],default:""},a={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:a,scrollLeft:a,textContent:o,innerHTML:o}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}static register(t){Bx(jA,sP).register(t),Lx(jA,sP).register(t)}handles(t,e){return t instanceof this.platform.Node}useConfig(t,e,n){const s=this.ii;let i;if(kx(t))i=s[t]??(s[t]=hx()),null==i[e]?i[e]=n:iP(t,e);else for(const n in t){i=s[n]??(s[n]=hx());const r=t[n];for(e in r)null==i[e]?i[e]=r[e]:iP(n,e)}}useConfigGlobal(t,e){const n=this.si;if("object"==typeof t)for(const e in t)null==n[e]?n[e]=t[e]:iP("*",e);else null==n[t]?n[t]=e:iP("*",t)}getAccessor(t,e,n){if(e in this.ri||e in(this.ni[t.tagName]??ew))return this.getObserver(t,e,n);switch(e){case"src":case"href":case"role":case"minLength":case"maxLength":case"placeholder":case"size":case"pattern":case"title":return BE;default:{const n=eP[e];return void 0!==n?DE.forNs(n[1]):vx(t,e,this.svgAnalyzer)?BE:nP}}}overrideAccessor(t,e){var n,s;let i;if(kx(t))i=(n=this.ni)[t]??(n[t]=hx()),i[e]=!0;else for(const e in t)for(const n of t[e])i=(s=this.ni)[e]??(s[e]=hx()),i[n]=!0}overrideAccessorGlobal(...t){for(const e of t)this.ri[e]=!0}getNodeObserverConfig(t,e){return this.ii[t.tagName]?.[e]??this.si[e]}getNodeObserver(t,e,n){const s=this.ii[t.tagName]?.[e]??this.si[e];let i;return null!=s?(i=new(s.type??ZE)(t,e,s,n,this.locator),i.doNotCache||(VA(t)[e]=i),i):null}getObserver(t,e,n){switch(e){case"class":return new PT(t);case"css":case"style":return new XE(t)}const s=this.getNodeObserver(t,e,n);if(null!=s)return s;const i=eP[e];if(void 0!==i)return DE.forNs(i[1]);if(vx(t,e,this.svgAnalyzer))return BE;if(e in t.constructor.prototype){if(this.allowDirtyCheck)return this.dirtyChecker.createProperty(t,e);throw lx(`AUR0652:${String(e)}`)}return new EA(t,e)}}function iP(t,e){throw lx(`AUR0653:${String(e)}@${t}`)}sP.inject=[Mb,$T,AA,qO];class rP{constructor(t,e){if(!(e instanceof sP))throw lx("AURxxxx: updateTrigger binding behavior only works with the default implementation of Aurelia HTML observation. Implement your own node observation + updateTrigger");this.oL=t,this.oi=e}bind(t,e,...n){if(0===n.length)throw lx("AUR0802");if(!(e instanceof G$&&4&e.mode))throw lx("AUR0803");const s=this.oi.getNodeObserverConfig(e.target,e.targetProperty);if(null==s)throw lx("AURxxxx");const i=this.oi.getNodeObserver(e.target,e.targetProperty,this.oL);i.useConfig({readonly:s.readonly,default:s.default,events:n}),e.useTargetObserver(i)}}rP.inject=[NA,jA],y$("updateTrigger")(rP);class oP{constructor(t,e){this.li=!1,this.hi=t,this.p=e}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this.ai():this.li=!0}attached(){this.li&&(this.li=!1,this.ai()),this.hi.addEventListener("focus",this),this.hi.addEventListener("blur",this)}afterDetachChildren(){const t=this.hi;t.removeEventListener("focus",this),t.removeEventListener("blur",this)}handleEvent(t){"focus"===t.type?this.value=!0:this.ui||(this.value=!1)}ai(){const t=this.hi,e=this.ui,n=this.value;n&&!e?t.focus():!n&&e&&t.blur()}get ui(){return this.hi===this.p.document.activeElement}}oP.inject=[GI,$T],QA([Tx({mode:6})],oP.prototype,"value",void 0),oT("focus")(oP);let aP=class{constructor(t,e,n){this.el=t,this.p=e,this.fi=!1,this.lt=null,this.$val="",this.$prio="",this.update=()=>{this.lt=null,Boolean(this.value)!==this.di&&(this.di===this.mi?(this.di=!this.mi,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this.di=this.mi,this.el.style.setProperty("display",this.$val,this.$prio),""===this.el.getAttribute("style")&&this.el.removeAttribute("style")))},this.di=this.mi="hide"!==n.alias}binding(){this.fi=!0,this.update()}detaching(){this.fi=!1,this.lt?.cancel(),this.lt=null}valueChanged(){this.fi&&null===this.lt&&(this.lt=this.p.domWriteQueue.queueTask(this.update))}};QA([Tx],aP.prototype,"value",void 0),aP=QA([XA(0,GI),XA(1,$T),XA(2,SR)],aP),function(...t){return function(e){const n=nx("aliases"),s=ZA(n,e);void 0===s?JA(n,t,e):s.push(...t)}}("hide")(aP),oT("show")(aP);class cP{constructor(t,e,n){this.position="beforeend",this.strict=!1,this.p=n,this.gi=n.document.createElement("div"),(this.view=t.create()).setLocation(this.pi=(t=>{const e=LI(t,"au-end");return e.$start=LI(t,"au-start"),e})(n)),function(t,e){if(void 0===t.platform||t instanceof t.platform.Node)XI.set(t,e);else{const n=t.childNodes;for(let t=0,s=n.length;t<s;++t)XI.set(n[t],e)}}(this.view.nodes,e)}attaching(t,e,n){null==this.callbackContext&&(this.callbackContext=this.$controller.scope.bindingContext);const s=this.gi=this.vi();return this.xi(s,this.position),this.wi(t,s,n)}detaching(t,e,n){return this.bi(t,this.gi,n)}targetChanged(){const{$controller:t}=this;if(!t.isActive)return;const e=this.vi();if(this.gi===e)return;this.gi=e;const n=Fv(this.bi(null,e,t.flags),(()=>(this.xi(e,this.position),this.wi(null,e,t.flags))));bx(n)&&n.catch(Sx)}positionChanged(){const{$controller:t,gi:e}=this;if(!t.isActive)return;const n=Fv(this.bi(null,e,t.flags),(()=>(this.xi(e,this.position),this.wi(null,e,t.flags))));bx(n)&&n.catch(Sx)}wi(t,e,n){const{activating:s,callbackContext:i,view:r}=this;return Fv(s?.call(i,e,r),(()=>this.yi(t,e,n)))}yi(t,e,n){const{$controller:s,view:i}=this;return null!==t?Fv(i.activate(t??i,s,n,s.scope),(()=>this.ki(e))):(i.nodes.insertBefore(this.pi),this.ki(e))}ki(t){const{activated:e,callbackContext:n,view:s}=this;return e?.call(n,t,s)}bi(t,e,n){const{deactivating:s,callbackContext:i,view:r}=this;return Fv(s?.call(i,e,r),(()=>this.Ai(t,e,n)))}Ai(t,e,n){const{$controller:s,view:i}=this;return null!==t?Fv(i.deactivate(t,s,n),(()=>this.Ci(e))):(i.nodes.remove(),this.Ci(e))}Ci(t){const{deactivated:e,callbackContext:n,view:s}=this;return e?.call(n,t,s)}vi(){const t=this.p,e=t.document;let n=this.target,s=this.renderContext;if(""===n){if(this.strict)throw lx("AUR0811");return e.body}if(kx(n)){let i=e;kx(s)&&(s=e.querySelector(s)),s instanceof t.Node&&(i=s),n=i.querySelector(n)}if(n instanceof t.Node)return n;if(null==n){if(this.strict)throw lx("AUR0812");return e.body}return n}xi(t,e){const n=this.pi,s=n.$start,i=t.parentNode,r=[s,n];switch(e){case"beforeend":FI(t,null,r);break;case"afterbegin":FI(t,t.firstChild,r);break;case"beforebegin":FI(i,t,r);break;case"afterend":FI(i,t.nextSibling,r);break;default:throw new Error("Invalid portal insertion position")}}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(t){if(!0===this.view?.accept(t))return!0}}cP.inject=[tI,QI,$T],QA([Tx({primary:!0})],cP.prototype,"target",void 0),QA([Tx()],cP.prototype,"position",void 0),QA([Tx({callback:"targetChanged"})],cP.prototype,"renderContext",void 0),QA([Tx()],cP.prototype,"strict",void 0),QA([Tx()],cP.prototype,"deactivating",void 0),QA([Tx()],cP.prototype,"activating",void 0),QA([Tx()],cP.prototype,"deactivated",void 0),QA([Tx()],cP.prototype,"activated",void 0),QA([Tx()],cP.prototype,"callbackContext",void 0),aT("portal")(cP);class hP{constructor(t,e){this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this.Bi=!1,this.Ri=0,this.Si=t,this.l=e}attaching(t,e,n){let s;const i=this.$controller,r=this.Ri++,o=()=>!this.Bi&&this.Ri===r+1;return Fv(this.pending,(()=>{o()&&(this.pending=void 0,s=this.value?this.view=this.ifView=this.cache&&null!=this.ifView?this.ifView:this.Si.create():this.view=this.elseView=this.cache&&null!=this.elseView?this.elseView:this.elseFactory?.create(),null!=s&&(s.setLocation(this.l),this.pending=Fv(s.activate(t,i,n,i.scope),(()=>{o()&&(this.pending=void 0)}))))}))}detaching(t,e,n){return this.Bi=!0,Fv(this.pending,(()=>{this.Bi=!1,this.pending=void 0,this.view?.deactivate(t,this.$controller,n)}))}valueChanged(t,e,n){if(!this.$controller.isActive)return;if((t=!!t)==(e=!!e))return;const s=this.view,i=this.$controller,r=this.Ri++,o=()=>!this.Bi&&this.Ri===r+1;let a;return Fv(this.pending,(()=>this.pending=Fv(s?.deactivate(s,i,n),(()=>{if(o()&&(a=this.view=t?this.ifView=this.cache&&null!=this.ifView?this.ifView:this.Si.create():this.elseView=this.cache&&null!=this.elseView?this.elseView:this.elseFactory?.create(),null!=a))return a.setLocation(this.l),Fv(a.activate(a,i,n,i.scope),(()=>{o()&&(this.pending=void 0)}))}))))}dispose(){this.ifView?.dispose(),this.elseView?.dispose(),this.ifView=this.elseView=this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}}hP.inject=[tI,QI],QA([Tx],hP.prototype,"value",void 0),QA([Tx({set:t=>""===t||!!t&&"false"!==t})],hP.prototype,"cache",void 0),aT("if")(hP);class lP{constructor(t){this.f=t}link(t,e,n,s){const i=t.children,r=i[i.length-1];if(r instanceof hP)r.elseFactory=this.f;else{if(!(r.viewModel instanceof hP))throw lx("AUR0810");r.viewModel.elseFactory=this.f}}}function uP(t){t.dispose()}lP.inject=[tI],aT({name:"else"})(lP);const fP=[18,17];class dP{constructor(t,e,n,s,i){this.views=[],this.key=null,this.Ii=new Map,this.Ti=new Map,this.Pi=void 0,this.Ei=!1,this.Li=!1,this.Di=null,this.Ui=void 0,this.$i=!1;const r=t.props[0].props[0];if(void 0!==r){const{to:t,value:n,command:s}=r;if("key"!==t)throw lx(`AUR776:${t}`);if(null===s)this.key=n;else{if("bind"!==s)throw lx(`AUR775:${s}`);this.key=e.parse(n,16)}}this.l=n,this._i=s,this.f=i}binding(t,e,n){const s=this._i.bindings,i=s.length;let r,o,a=0;for(;i>a;++a)if(r=s[a],r.target===this&&"items"===r.targetProperty){o=this.forOf=r.ast,this.qi=r;let t=o.iterable;for(;null!=t&&fP.includes(t.$kind);)t=t.expression,this.Ei=!0;this.Di=t;break}this.Mi();const c=o.declaration;(this.$i=24===c.$kind||25===c.$kind)||(this.local=Iy(c,this.$controller.scope,r,null))}attaching(t,e,n){return this.Fi(),this.Oi(t)}detaching(t,e,n){return this.Mi(),this.Vi(t)}unbinding(t,e,n){this.Ti.clear(),this.Ii.clear()}itemsChanged(){this.$controller.isActive&&(this.Mi(),this.Fi(),this.Ni(this.items,void 0))}handleCollectionChange(t,e){const n=this.$controller;if(n.isActive){if(this.Ei){if(this.Li)return;return this.Li=!0,this.items=Iy(this.forOf.iterable,n.scope,this.qi,null),void(this.Li=!1)}this.Fi(),this.Ni(t,e)}}Ni(t,e){const n=this.views,s=n.length,i=this.key,r=null!==i;if(r||void 0===e){const t=this.local,o=this.Ui,a=o.length,c=this.forOf,h=c.declaration,l=this.qi,u=this.$i;e=Wy(a);let f=0;if(0===s)for(;f<a;++f)e[f]=-2;else if(0===a)if(u)for(f=0;f<s;++f)e.deletedIndices.push(f),e.deletedItems.push(Iy(h,n[f].scope,l,null));else for(f=0;f<s;++f)e.deletedIndices.push(f),e.deletedItems.push(n[f].scope.bindingContext[t]);else{const d=Array(s);if(u)for(f=0;f<s;++f)d[f]=Iy(h,n[f].scope,l,null);else for(f=0;f<s;++f)d[f]=n[f].scope.bindingContext[t];let p,g,m,v,b=0;const w=s-1,y=a-1,k=new Map,C=new Map,S=this.Ii,A=this.Ti,x=this.$controller.scope;f=0;t:{for(;;){if(p=d[f],g=o[f],m=r?$P(S,i,p,TP(A,d[f],c,x,l,t,u),l):p,v=r?$P(S,i,g,TP(A,o[f],c,x,l,t,u),l):g,m!==v){S.set(p,m),S.set(g,v);break}if(++f,f>w||f>y)break t}if(w===y)for(b=y;;){if(p=d[b],g=o[b],m=r?$P(S,i,p,TP(A,p,c,x,l,t,u),l):p,v=r?$P(S,i,g,TP(A,g,c,x,l,t,u),l):g,m!==v){S.set(p,m),S.set(g,v);break}if(--b,f>b)break t}}const $=f,T=f;for(f=T;f<=y;++f)S.has(g=o[f])?v=S.get(g):(v=r?$P(S,i,g,TP(A,g,c,x,l,t,u),l):g,S.set(g,v)),C.set(v,f);for(f=$;f<=w;++f)m=S.has(p=d[f])?S.get(p):r?$P(S,i,p,n[f].scope,l):p,k.set(m,f),C.has(m)?e[C.get(m)]=f:(e.deletedIndices.push(f),e.deletedItems.push(p));for(f=T;f<=y;++f)k.has(S.get(o[f]))||(e[f]=-2);k.clear(),C.clear()}}if(void 0===e){const t=Fv(this.Vi(null),(()=>this.Oi(null)));bx(t)&&t.catch(Sx)}else{const t=function(t){let e=0,n=0,s=0;const i=function(t){const e=t.slice();return e.deletedIndices=t.deletedIndices.slice(),e.deletedItems=t.deletedItems.slice(),e.isIndexMap=!0,e}(t);i.deletedIndices.length>1&&i.deletedIndices.sort(kk);const r=i.length;for(;s<r;++s){for(;i.deletedIndices[n]<=s-e;)++n,--e;-2===i[s]?++e:i[s]+=e}return i}(e);if(t.deletedIndices.length>0){const e=Fv(this.ji(t),(()=>this.Hi(s,t)));bx(e)&&e.catch(Sx)}else this.Hi(s,t)}}Mi(){const t=this.$controller.scope;let e,n=this.Wi,s=this.Ei;s&&(n=this.Wi=Iy(this.Di,t,this.qi,null)??null,s=this.Ei=!Ax(this.items,n));const i=this.Pi;this.$controller.isActive?(e=this.Pi=(t=>{let e;return Bw(t)?e=yk(t):Fw(t)?e=Kk(t):Uw(t)&&(e=Nk(t)),e})(s?n:this.items),i!==e&&(i?.unsubscribe(this),e?.subscribe(this))):(i?.unsubscribe(this),this.Pi=void 0)}Fi(){const{items:t}=this;if(wx(t))return void(this.Ui=t);const e=[];kP(t,((t,n)=>{e[n]=t})),this.Ui=e}Oi(t){let e,n,s,i;const{$controller:r,f:o,local:a,l:c,items:h,Ti:l,qi:u,forOf:f,$i:d}=this,p=r.scope,g=yP(h),m=this.views=Array(g);if(kP(h,((h,v)=>{s=m[v]=o.create().setLocation(c),s.nodes.unlink(),i=TP(l,h,f,p,u,a,d),bP(i.overrideContext,v,g),n=s.activate(t??s,r,0,i),bx(n)&&(e??(e=[])).push(n)})),void 0!==e)return 1===e.length?e[0]:Promise.all(e)}Vi(t){let e,n,s,i=0;const{views:r,$controller:o}=this,a=r.length;for(;a>i;++i)s=r[i],s.release(),n=s.deactivate(t??s,o,0),bx(n)&&(e??(e=[])).push(n);if(void 0!==e)return 1===e.length?e[0]:Promise.all(e)}ji(t){let e,n,s;const{$controller:i,views:r}=this,o=t.deletedIndices,a=o.length;let c=0;for(;a>c;++c)s=r[o[c]],s.release(),n=s.deactivate(s,i,0),bx(n)&&(e??(e=[])).push(n);c=0;let h=0;for(;a>c;++c)h=o[c]-c,r.splice(h,1);if(void 0!==e)return 1===e.length?e[0]:Promise.all(e)}Hi(t,e){let n,s,i,r,o=0;const{$controller:a,f:c,local:h,Ui:l,l:u,views:f,$i:d,qi:p,Ti:g,forOf:m}=this,v=e.length;for(;v>o;++o)-2===e[o]&&(i=c.create(),f.splice(o,0,i));if(f.length!==v)throw vP(f.length,v);const b=a.scope,w=e.length;!function(t,e){const n=t.slice(),s=e.length;let i=0,r=0;for(;i<s;)r=e[i],-2!==r&&(t[i]=n[r]),++i}(f,e);const y=function(t){const e=t.length;e>pP&&(pP=e,gP=new Int32Array(e),mP=new Int32Array(e));let n=0,s=0,i=0,r=0,o=0,a=0,c=0,h=0;for(;r<e;r++)if(s=t[r],-2!==s){if(o=gP[n],i=t[o],-2!==i&&i<s){mP[r]=o,gP[++n]=r;continue}for(a=0,c=n;a<c;)h=a+c>>1,i=t[gP[h]],-2!==i&&i<s?a=h+1:c=h;i=t[gP[a]],(s<i||-2===i)&&(a>0&&(mP[r]=gP[a-1]),gP[a]=r)}r=++n;const l=new Int32Array(r);for(s=gP[n-1];n-- >0;)l[n]=s,s=mP[s];for(;r-- >0;)gP[r]=0;return l}(e),k=y.length,C=m.declaration;let S,A=k-1;for(o=w-1;o>=0;--o)i=f[o],S=f[o+1],i.nodes.link(S?.nodes??u),-2===e[o]?(r=TP(g,l[o],m,b,p,h,d),bP(r.overrideContext,o,w),i.setLocation(u),s=i.activate(i,a,0,r),bx(s)&&(n??(n=[])).push(s)):A<0||1===k||o!==y[A]?(d?Ry(C,i.scope,p,l[o]):i.scope.bindingContext[h]=l[o],bP(i.scope.overrideContext,o,w),i.nodes.insertBefore(i.location)):(d?Ry(C,i.scope,p,l[o]):i.scope.bindingContext[h]=l[o],t!==w&&bP(i.scope.overrideContext,o,w),--A);if(void 0!==n)return 1===n.length?n[0]:Promise.all(n)}dispose(){this.views.forEach(uP),this.views=void 0}accept(t){const{views:e}=this;if(void 0!==e)for(let n=0,s=e.length;n<s;++n)if(!0===e[n].accept(t))return!0}}dP.inject=[SR,rC,QI,wI,tI],QA([Tx],dP.prototype,"items",void 0),aT("repeat")(dP);let pP=16,gP=new Int32Array(pP),mP=new Int32Array(pP);const vP=(t,e)=>lx(`AUR0814:${t}!=${e}`),bP=(t,e,n)=>{const s=0===e,i=e===n-1,r=e%2==0;t.$index=e,t.$first=s,t.$last=i,t.$middle=!s&&!i,t.$even=r,t.$odd=!r,t.$length=n},wP=cx.toString,yP=t=>{switch(wP.call(t)){case"[object Array]":return t.length;case"[object Map]":case"[object Set]":return t.size;case"[object Number]":return t;case"[object Null]":case"[object Undefined]":return 0;default:throw lx(`Cannot count ${wP.call(t)}`)}},kP=(t,e)=>{switch(wP.call(t)){case"[object Array]":return CP(t,e);case"[object Map]":return SP(t,e);case"[object Set]":return AP(t,e);case"[object Number]":return xP(t,e);case"[object Null]":case"[object Undefined]":return;default:throw lx(`Cannot iterate over ${wP.call(t)}`)}},CP=(t,e)=>{const n=t.length;let s=0;for(;s<n;++s)e(t[s],s,t)},SP=(t,e)=>{let n,s=-0;for(n of t.entries())e(n,s++,t)},AP=(t,e)=>{let n,s=0;for(n of t.keys())e(n,s++,t)},xP=(t,e)=>{let n=0;for(;n<t;++n)e(n,n,t)},$P=(t,e,n,s,i)=>{let r=t.get(n);return void 0===r&&(r="string"==typeof e?n[e]:Iy(e,s,i,null),t.set(n,r)),r},TP=(t,e,n,s,i,r,o)=>{let a=t.get(e);return void 0===a&&(o?Ry(n.declaration,a=Sy.fromParent(s,new Cy),i,e):a=Sy.fromParent(s,new Cy(r,e)),t.set(e,a)),a};class IP{constructor(t,e){this.view=t.create().setLocation(e)}valueChanged(t,e,n){const s=this.$controller,i=this.view.bindings;let r,o=0,a=0;if(s.isActive&&null!=i)for(r=Sy.fromParent(s.scope,void 0===t?{}:t),a=i.length;a>o;++o)i[o].bind(r)}attaching(t,e,n){const{$controller:s,value:i}=this,r=Sy.fromParent(s.scope,void 0===i?{}:i);return this.view.activate(t,s,n,r)}detaching(t,e,n){return this.view.deactivate(t,this.$controller,n)}dispose(){this.view.dispose(),this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}}IP.inject=[tI,QI],QA([Tx],IP.prototype,"value",void 0),aT("with")(IP);let RP=class{constructor(t,e){this.f=t,this.l=e,this.cases=[],this.activeCases=[],this.promise=void 0}link(t,e,n,s){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e,n){const s=this.view,i=this.$controller;return this.queue((()=>s.activate(t,i,n,i.scope))),this.queue((()=>this.swap(t,this.value))),this.promise}detaching(t,e,n){return this.queue((()=>this.view.deactivate(t,this.$controller,n))),this.promise}dispose(){this.view?.dispose(),this.view=void 0}valueChanged(t,e){this.$controller.isActive&&this.queue((()=>this.swap(null,this.value)))}caseChanged(t){this.queue((()=>this.zi(t)))}zi(t){const e=t.isMatch(this.value),n=this.activeCases,s=n.length;if(!e)return s>0&&n[0].id===t.id?this.Gi(null):void 0;if(s>0&&n[0].id<t.id)return;const i=[];let r=t.fallThrough;if(r){const e=this.cases,n=e.indexOf(t);for(let t=n,s=e.length;t<s&&r;t++){const n=e[t];i.push(n),r=n.fallThrough}}else i.push(t);return Fv(this.Gi(null,i),(()=>(this.activeCases=i,this.Xi(null))))}swap(t,e){const n=[];let s=!1;for(const t of this.cases)if((s||t.isMatch(e))&&(n.push(t),s=t.fallThrough),n.length>0&&!s)break;const i=this.defaultCase;return 0===n.length&&void 0!==i&&n.push(i),Fv(this.activeCases.length>0?this.Gi(t,n):void 0,(()=>{if(this.activeCases=n,0!==n.length)return this.Xi(t)}))}Xi(t){const e=this.$controller;if(!e.isActive)return;const n=this.activeCases,s=n.length;if(0===s)return;const i=e.scope;return 1===s?n[0].activate(t,0,i):Vv(...n.map((e=>e.activate(t,0,i))))}Gi(t,e=[]){const n=this.activeCases,s=n.length;if(0!==s){if(1===s){const s=n[0];return e.includes(s)?void 0:(n.length=0,s.deactivate(t,0))}return Fv(Vv(...n.reduce(((n,s)=>(e.includes(s)||n.push(s.deactivate(t,0)),n)),[])),(()=>{n.length=0}))}}queue(t){const e=this.promise;let n;n=this.promise=Fv(Fv(e,t),(()=>{this.promise===n&&(this.promise=void 0)}))}accept(t){return!0===this.$controller.accept(t)||!!this.activeCases.some((e=>e.accept(t)))||void 0}};QA([Tx],RP.prototype,"value",void 0),RP=QA([aT("switch"),XA(0,tI),XA(1,QI)],RP);let OP=0,EP=class{constructor(t,e,n,s){this.f=t,this.Ki=e,this.l=n,this.id=++OP,this.fallThrough=!1,this.view=void 0,this.Qi=s.config.level<=1,this.Oe=s.scopeTo(`${this.constructor.name}-#${this.id}`)}link(t,e,n,s){const i=t.parent,r=i?.viewModel;if(!(r instanceof RP))throw lx("AUR0815");this.$switch=r,this.linkToSwitch(r)}detaching(t,e,n){return this.deactivate(t,n)}isMatch(t){this.Oe.debug("isMatch()");const e=this.value;return wx(e)?(void 0===this.Pi&&(this.Pi=this.Yi(e)),e.includes(t)):e===t}valueChanged(t,e){wx(t)?(this.Pi?.unsubscribe(this),this.Pi=this.Yi(t)):void 0!==this.Pi&&this.Pi.unsubscribe(this),this.$switch.caseChanged(this)}handleCollectionChange(){this.$switch.caseChanged(this)}activate(t,e,n){let s=this.view;if(void 0===s&&(s=this.view=this.f.create().setLocation(this.l)),!s.isActive)return s.activate(t??s,this.$controller,e,n)}deactivate(t,e){const n=this.view;if(void 0!==n&&n.isActive)return n.deactivate(t??n,this.$controller,e)}dispose(){this.Pi?.unsubscribe(this),this.view?.dispose(),this.view=void 0}linkToSwitch(t){t.cases.push(this)}Yi(t){const e=this.Ki.getArrayObserver(t);return e.subscribe(this),e}accept(t){return!0===this.$controller.accept(t)||this.view?.accept(t)}};EP.inject=[tI,NA,QI,uw],QA([Tx],EP.prototype,"value",void 0),QA([Tx({set:t=>{switch(t){case"true":return!0;case"false":return!1;default:return!!t}},mode:1})],EP.prototype,"fallThrough",void 0),EP=QA([aT("case")],EP);let PP=class extends EP{linkToSwitch(t){if(void 0!==t.defaultCase)throw lx("AUR0816");t.defaultCase=this}};PP=QA([aT("default-case")],PP);let MP=class{constructor(t,e,n,s){this.f=t,this.l=e,this.p=n,this.preSettledTask=null,this.postSettledTask=null,this.logger=s.scopeTo("promise.resolve")}link(t,e,n,s){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e,n){const s=this.view,i=this.$controller;return Fv(s.activate(t,i,n,this.viewScope=Sy.fromParent(i.scope,{})),(()=>this.swap(t,n)))}valueChanged(t,e,n){this.$controller.isActive&&this.swap(null,n)}swap(t,e){const n=this.value;if(!bx(n))return void this.logger.warn(`The value '${String(n)}' is not a promise. No change will be done.`);const s=this.p.domWriteQueue,i=this.fulfilled,r=this.rejected,o=this.pending,a=this.viewScope;let c;const h={reusable:!1},l=()=>{Vv(c=(this.preSettledTask=s.queueTask((()=>Vv(i?.deactivate(t,e),r?.deactivate(t,e),o?.activate(t,e,a))),h)).result.catch((t=>{if(!(t instanceof zA))throw t})),n.then((l=>{if(this.value!==n)return;const u=()=>{this.postSettlePromise=(this.postSettledTask=s.queueTask((()=>Vv(o?.deactivate(t,e),r?.deactivate(t,e),i?.activate(t,e,a,l))),h)).result};1===this.preSettledTask.status?c.then(u):(this.preSettledTask.cancel(),u())}),(l=>{if(this.value!==n)return;const u=()=>{this.postSettlePromise=(this.postSettledTask=s.queueTask((()=>Vv(o?.deactivate(t,e),i?.deactivate(t,e),r?.activate(t,e,a,l))),h)).result};1===this.preSettledTask.status?c.then(u):(this.preSettledTask.cancel(),u())})))};1===this.postSettledTask?.status?this.postSettlePromise.then(l):(this.postSettledTask?.cancel(),l())}detaching(t,e,n){return this.preSettledTask?.cancel(),this.postSettledTask?.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(t,this.$controller,n)}dispose(){this.view?.dispose(),this.view=void 0}};QA([Tx],MP.prototype,"value",void 0),MP=QA([aT("promise"),XA(0,tI),XA(1,QI),XA(2,$T),XA(3,uw)],MP);let NP=class{constructor(t,e){this.f=t,this.l=e,this.view=void 0}link(t,e,n,s){BP(t).pending=this}activate(t,e,n){let s=this.view;if(void 0===s&&(s=this.view=this.f.create().setLocation(this.l)),!s.isActive)return s.activate(s,this.$controller,e,n)}deactivate(t,e){const n=this.view;if(void 0!==n&&n.isActive)return n.deactivate(n,this.$controller,e)}detaching(t,e,n){return this.deactivate(t,n)}dispose(){this.view?.dispose(),this.view=void 0}};QA([Tx({mode:2})],NP.prototype,"value",void 0),NP=QA([aT("pending"),XA(0,tI),XA(1,QI)],NP);let jP=class{constructor(t,e){this.f=t,this.l=e,this.view=void 0}link(t,e,n,s){BP(t).fulfilled=this}activate(t,e,n,s){this.value=s;let i=this.view;if(void 0===i&&(i=this.view=this.f.create().setLocation(this.l)),!i.isActive)return i.activate(i,this.$controller,e,n)}deactivate(t,e){const n=this.view;if(void 0!==n&&n.isActive)return n.deactivate(n,this.$controller,e)}detaching(t,e,n){return this.deactivate(t,n)}dispose(){this.view?.dispose(),this.view=void 0}};QA([Tx({mode:4})],jP.prototype,"value",void 0),jP=QA([aT("then"),XA(0,tI),XA(1,QI)],jP);let LP=class{constructor(t,e){this.f=t,this.l=e,this.view=void 0}link(t,e,n,s){BP(t).rejected=this}activate(t,e,n,s){this.value=s;let i=this.view;if(void 0===i&&(i=this.view=this.f.create().setLocation(this.l)),!i.isActive)return i.activate(i,this.$controller,e,n)}deactivate(t,e){const n=this.view;if(void 0!==n&&n.isActive)return n.deactivate(n,this.$controller,e)}detaching(t,e,n){return this.deactivate(t,n)}dispose(){this.view?.dispose(),this.view=void 0}};function BP(t){const e=t.parent,n=e?.viewModel;if(n instanceof MP)return n;throw lx("AUR0813")}QA([Tx({mode:4})],LP.prototype,"value",void 0),LP=QA([aT("catch"),XA(0,tI),XA(1,QI)],LP);let UP=class{"promise.resolve"(t,e,n){return new Jx(t,e,"promise","bind")}};UP=QA([s$({pattern:"promise.resolve",symbols:""})],UP);let FP=class{then(t,e,n){return new Jx(t,e,"then","from-view")}};FP=QA([s$({pattern:"then",symbols:""})],FP);let VP=class{catch(t,e,n){return new Jx(t,e,"catch","from-view")}};VP=QA([s$({pattern:"catch",symbols:""})],VP);class DP{constructor(t,e,n,s,i,r,o){this.c=t,this.parent=e,this.host=n,this.l=s,this.p=i,this.scopeBehavior="auto",this.Zi=void 0,this.r=t.get(nI),this.Ji=r,this.ts=o}static get inject(){return[Pb,wI,GI,QI,$T,SR,Bb(qP)]}get pending(){return this.es}get composition(){return this.Zi}attaching(t,e,n){return this.es=Fv(this.queue(new _P(this.view,this.viewModel,this.model,void 0),t),(t=>{this.ts.isCurrent(t)&&(this.es=void 0)}))}detaching(t){const e=this.Zi,n=this.es;return this.ts.invalidate(),this.Zi=this.es=void 0,Fv(n,(()=>e?.deactivate(t)))}propertyChanged(t){"model"!==t||null==this.Zi?this.es=Fv(this.es,(()=>Fv(this.queue(new _P(this.view,this.viewModel,this.model,t),void 0),(t=>{this.ts.isCurrent(t)&&(this.es=void 0)})))):this.Zi.update(this.model)}queue(t,e){const n=this.ts,s=this.Zi;return Fv(n.create(t),(t=>n.isCurrent(t)?Fv(this.compose(t),(i=>n.isCurrent(t)?Fv(i.activate(e),(()=>n.isCurrent(t)?(this.Zi=i,Fv(s?.deactivate(e),(()=>t))):Fv(i.controller.deactivate(i.controller,this.$controller,2),(()=>(i.controller.dispose(),t))))):(i.controller.dispose(),t))):t))}compose(t){let e,n,s;const{view:i,viewModel:r,model:o}=t.change,{c:a,host:c,$controller:h,l}=this,u=this.getDef(r),f=a.createChild(),d=null==l?c.parentNode:l.parentNode;if(null!==u){if(u.containerless)throw lx("AUR0806");null==l?(n=c,s=()=>{}):(n=d.insertBefore(this.p.document.createElement(u.name),l),s=()=>{n.remove()}),e=this.getVm(f,r,n)}else n=null==l?c:l,e=this.getVm(f,r,n);const p=()=>{if(null!==u){const i=cI.$el(f,e,n,{projections:this.Ji.projections},u);return new KP(i,(t=>i.activate(t??i,h,1,h.scope.parent)),(t=>Fv(i.deactivate(t??i,h,2),s)),(t=>e.activate?.(t)),t)}{const s=iR.create({name:wR.generateName(),template:i}),r=this.r.getViewFactory(s,f),o=cI.$view(r,h),a="auto"===this.scopeBehavior?Sy.fromParent(this.parent.scope,e):Sy.create(e);return JI(n)?o.setLocation(n):o.setHost(n),new KP(o,(t=>o.activate(t??o,h,1,a)),(t=>o.deactivate(t??o,h,2)),(t=>e.activate?.(t)),t)}};return"activate"in e?Fv(e.activate(o),(()=>p())):p()}getVm(t,e,n){if(null==e)return new WP;if("object"==typeof e)return e;const s=this.p,i=JI(n);Vx(t,s.Element,Vx(t,GI,new Yb("ElementResolver",i?null:n))),Vx(t,QI,new Yb("IRenderLocation",i?n:null));const r=t.invoke(e);return Vx(t,e,new Yb("au-compose.viewModel",r)),r}getDef(t){const e=yx(t)?t:t?.constructor;return wR.isType(e)?wR.getDefinition(e):null}}QA([Tx],DP.prototype,"view",void 0),QA([Tx],DP.prototype,"viewModel",void 0),QA([Tx],DP.prototype,"model",void 0),QA([Tx({set:t=>{if("scoped"===t||"auto"===t)return t;throw lx("AUR0805")}})],DP.prototype,"scopeBehavior",void 0),nR("au-compose")(DP);class WP{}class qP{constructor(){this.id=0}isCurrent(t){return t.id===this.id}create(t){return Fv(t.load(),(t=>new zP(++this.id,t)))}invalidate(){this.id++}}class _P{constructor(t,e,n,s){this.view=t,this.viewModel=e,this.model=n,this.src=s}load(){return bx(this.view)||bx(this.viewModel)?Promise.all([this.view,this.viewModel]).then((([t,e])=>new HP(t,e,this.model,this.src))):new HP(this.view,this.viewModel,this.model,this.src)}}class HP{constructor(t,e,n,s){this.view=t,this.viewModel=e,this.model=n,this.src=s}}class zP{constructor(t,e){this.id=t,this.change=e}}class KP{constructor(t,e,n,s,i){this.controller=t,this.start=e,this.stop=n,this.update=s,this.context=i,this.state=0}activate(t){if(0!==this.state)throw lx(`AUR0807:${this.controller.name}`);return this.state=1,this.start(t)}deactivate(t){switch(this.state){case 1:return this.state=-1,this.stop(t);case-1:throw lx("AUR0808");default:this.state=-1}}}let GP=class{constructor(t,e,n,s){let i;this.ss=null,this.rs=null;const r=e.auSlot,o=n.instruction?.projections?.[r.name];null==o?(i=s.getViewFactory(r.fallback,n.controller.container),this.os=!1):(i=s.getViewFactory(o,n.parent.controller.container),this.os=!0),this.ls=n,this.view=i.create().setLocation(t)}static get inject(){return[QI,SR,yI,nI]}binding(t,e,n){let s;this.ss=this.$controller.scope.parent,this.os&&(s=this.ls.controller.scope.parent,(this.rs=Sy.fromParent(s,s.bindingContext)).overrideContext.$host=this.expose??this.ss.bindingContext)}attaching(t,e,n){return this.view.activate(t,this.$controller,n,this.os?this.rs:this.ss)}detaching(t,e,n){return this.view.deactivate(t,this.$controller,n)}exposeChanged(t){this.os&&null!=this.rs&&(this.rs.overrideContext.$host=t)}dispose(){this.view.dispose(),this.view=void 0}accept(t){if(!0===this.view?.accept(t))return!0}};QA([Tx],GP.prototype,"expose",void 0),GP=QA([nR({name:"au-slot",template:null,containerless:!0})],GP);const QP=jx("ISanitizer",(t=>t.singleton(class{sanitize(){throw lx('"sanitize" method not implemented')}})));let XP=class{constructor(t){this.cs=t}toView(t){return null==t?null:this.cs.sanitize(t)}};XP=QA([XA(0,QP)],XP),function(t){I$.define("sanitize",t)}(XP);const ZP=PE,YP=TE,JP=IE,tM=RE,eM=ME,nM=jE,sM=OE,iM=[class{constructor(){this.debug=!1,this.resolveResources=!0}static register(t){return Lx(qR,this).register(t)}compile(t,e,n){const s=iR.getOrCreate(t);if(null===s.template||void 0===s.template)return s;if(!1===s.needsCompile)return s;n??(n=cE);const i=new rE(t,e,n,null,null,void 0),r=kx(s.template)||!t.enhance?i.we.createTemplate(s.template):s.template,o=r.nodeName===tE&&null!=r.content,a=o?r.content:r,c=e.get(function(t){function e(t,n,s){Eb.inject(e)(t,n,s)}return e.$isResolver=!0,e.resolve=function(e,n){return n.root===n?n.getAll(t,!1):n.has(t,!1)?n.getAll(t,!1).concat(n.root.getAll(t,!1)):n.root.getAll(t,!1)},e}(wE)),h=c.length;let l=0;if(h>0)for(;h>l;)c[l].compiling?.(r),++l;if(r.hasAttribute(mE))throw lx("AUR0701");return this.be(a,i),this.ye(a,i),iR.create({...t,name:t.name||dR(),dependencies:(t.dependencies??tw).concat(i.deps??tw),instructions:i.rows,surrogates:o?this.ke(r,i):tw,template:r,hasSlots:i.hasSlot,needsCompile:!1})}compileSpread(t,e,n,s){const i=new rE(t,n,cE,null,null,void 0),r=[],o=i.Ae(s.nodeName.toLowerCase()),a=null!==o,c=i.ep,h=e.length;let l,u,f,d,p,g,m,v,b,w,y=0,k=null,C=null;for(;h>y;++y)if(l=e[y],b=l.target,w=l.rawValue,C=i.Ce(l),null!==C&&(1&C.type)>0)lE.node=s,lE.attr=l,lE.bindable=null,lE.def=null,r.push(C.build(lE,i.ep,i.m));else if(k=i.Be(b),null===k)if(null===C){if(m=c.parse(w,1),a&&(d=pE.from(o,!1),p=d.attrs[b],void 0!==p)){m=c.parse(w,1),r.push(new WR(null==m?new IR(w,p.property):new AR(m,p.property)));continue}if(null!=m)r.push(new AR(m,i.m.map(s,b)??Rv(b)));else switch(b){case"class":r.push(new UR(w));break;case"style":r.push(new FR(w));break;default:r.push(new BR(w,b))}}else{if(a&&(d=pE.from(o,!1),p=d.attrs[b],void 0!==p)){lE.node=s,lE.attr=l,lE.bindable=p,lE.def=o,r.push(new WR(C.build(lE,i.ep,i.m)));continue}lE.node=s,lE.attr=l,lE.bindable=null,lE.def=null,r.push(C.build(lE,i.ep,i.m))}else{if(k.isTemplateController)throw lx(`AUR0703:${b}`);d=pE.from(k,!0),v=!1===k.noMultiBindings&&null===C&&oE(w),v?f=this.Re(s,w,k,i):(g=d.primary,null===C?(m=c.parse(w,1),f=[null===m?new IR(w,g.property):new AR(m,g.property)]):(lE.node=s,lE.attr=l,lE.bindable=g,lE.def=k,f=[C.build(lE,i.ep,i.m)])),(u??(u=[])).push(new ER(this.resolveResources?k:k.name,null!=k.aliases&&k.aliases.includes(b)?b:void 0,f))}return aE(),null!=u?u.concat(r):r}ke(t,e){const n=[],s=t.attributes,i=e.ep;let r,o,a,c,h,l,u,f,d,p,g,m,v=s.length,b=0,w=null,y=null;for(;v>b;++b){if(r=s[b],o=r.name,a=r.value,c=e.fe.parse(o,a),g=c.target,m=c.rawValue,uE[g])throw lx(`AUR0702:${o}`);if(y=e.Ce(c),null!==y&&(1&y.type)>0)lE.node=t,lE.attr=c,lE.bindable=null,lE.def=null,n.push(y.build(lE,e.ep,e.m));else if(w=e.Be(g),null===w)if(null===y)if(d=i.parse(m,1),null!=d)t.removeAttribute(o),--b,--v,n.push(new AR(d,e.m.map(t,g)??Rv(g)));else switch(o){case"class":n.push(new UR(m));break;case"style":n.push(new FR(m));break;default:n.push(new BR(m,o))}else lE.node=t,lE.attr=c,lE.bindable=null,lE.def=null,n.push(y.build(lE,e.ep,e.m));else{if(w.isTemplateController)throw lx(`AUR0703:${g}`);u=pE.from(w,!0),p=!1===w.noMultiBindings&&null===y&&oE(m),p?l=this.Re(t,m,w,e):(f=u.primary,null===y?(d=i.parse(m,1),l=[null===d?new IR(m,f.property):new AR(d,f.property)]):(lE.node=t,lE.attr=c,lE.bindable=f,lE.def=w,l=[y.build(lE,e.ep,e.m)])),t.removeAttribute(o),--b,--v,(h??(h=[])).push(new ER(this.resolveResources?w:w.name,null!=w.aliases&&w.aliases.includes(g)?g:void 0,l))}}return aE(),null!=h?h.concat(n):n}ye(t,e){switch(t.nodeType){case 1:return"LET"===t.nodeName?this.Se(t,e):this.Ie(t,e);case 3:return this.Te(t,e);case 11:{let n=t.firstChild;for(;null!==n;)n=this.ye(n,e);break}}return t.nextSibling}Se(t,e){const n=t.attributes,s=n.length,i=[],r=e.ep;let o,a,c,h,l,u,f,d,p=!1,g=0;for(;s>g;++g)if(o=n[g],c=o.name,h=o.value,"to-binding-context"!==c)if(a=e.fe.parse(c,h),u=a.target,f=a.rawValue,l=e.Ce(a),null===l)d=r.parse(f,1),i.push(new NR(null===d?new hy(f):d,Rv(u)));else{if("bind"!==a.command)throw lx(`AUR0704:${a.command}`);i.push(new NR(r.parse(f,16),Rv(u)))}else p=!0;return e.rows.push([new MR(i,p)]),this.Pe(t).nextSibling}Ie(t,e){var n,s,i,r;const o=t.nextSibling,a=(t.getAttribute("as-element")??t.nodeName).toLowerCase(),c=e.Ae(a),h=null!==c,l=h&&null!=c.shadowOptions,u=c?.capture,f=null!=u&&"boolean"!=typeof u,d=u?[]:tw,p=e.ep,g=this.debug?nw:()=>{t.removeAttribute(b),--B,--L};let m,v,b,w,y,k,C,S,A,x,$,T,I,R,O,E,P,M,N,j=t.attributes,L=j.length,B=0,U=null,F=!1,V=null,D=!0,W=!1,q=!1;if("slot"===a){if(null==e.root.def.shadowOptions)throw lx(`AUR0717:${e.root.def.name}`);e.root.hasSlot=!0}if(h&&(D=c.processContent?.call(c.Type,t,e.p),j=t.attributes,L=j.length),e.root.def.enhance&&t.classList.contains("au"))throw lx("AUR0705");for(;L>B;++B){switch(v=j[B],b=v.name,w=v.value,b){case"as-element":case"containerless":g(),W||(W="containerless"===b);continue}if(y=e.fe.parse(b,w),V=e.Ce(y),P=y.target,M=y.rawValue,u&&(!f||f&&u(P))){if(null!=V&&1&V.type){g(),d.push(y);continue}if(q=P!==AE&&"slot"!==P,q&&(O=pE.from(c,!1),null==O.attrs[P]&&!e.Be(P)?.isTemplateController)){g(),d.push(y);continue}}if(null!==V&&1&V.type)lE.node=t,lE.attr=y,lE.bindable=null,lE.def=null,(k??(k=[])).push(V.build(lE,e.ep,e.m)),g();else if(U=e.Be(P),null===U)if(null!==V)g(),h&&(O=pE.from(c,!1),S=O.attrs[P],void 0!==S)?(lE.node=t,lE.attr=y,lE.bindable=S,lE.def=c,(C??(C=[])).push(V.build(lE,e.ep,e.m))):(lE.node=t,lE.attr=y,lE.bindable=null,lE.def=null,(k??(k=[])).push(V.build(lE,e.ep,e.m)));else{if(h&&(O=pE.from(c,!1),S=O.attrs[P],void 0!==S)){I=p.parse(M,1),(C??(C=[])).push(null==I?new IR(M,S.property):new AR(I,S.property)),g();continue}I=p.parse(M,1),null!=I&&(g(),(k??(k=[])).push(new AR(I,e.m.map(t,P)??Rv(P))))}else O=pE.from(U,!0),F=!1===U.noMultiBindings&&null===V&&oE(M),F?x=this.Re(t,M,U,e):(E=O.primary,null===V?(I=p.parse(M,1),x=[null===I?new IR(M,E.property):new AR(I,E.property)]):(lE.node=t,lE.attr=y,lE.bindable=E,lE.def=U,x=[V.build(lE,e.ep,e.m)])),g(),U.isTemplateController?($??($=[])).push(new PR(hE,this.resolveResources?U:U.name,void 0,x)):(A??(A=[])).push(new ER(this.resolveResources?U:U.name,null!=U.aliases&&U.aliases.includes(P)?P:void 0,x))}if(aE(),this.Ee(t)&&null!=k&&k.length>1&&this.Le(t,k),h&&(R=new OR(this.resolveResources?c:c.name,void 0,C??tw,null,W,d),a===AE)){const n=t.getAttribute("name")||SE,s=e.t(),i=e.De();let r=t.firstChild;for(;null!==r;)1===r.nodeType&&r.hasAttribute(AE)?t.removeChild(r):DI(s,r),r=t.firstChild;this.ye(s.content,i),R.auSlot={name:n,fallback:iR.create({name:dR(),template:s,instructions:i.rows,needsCompile:!1})},t=this.Ue(t,e)}if(null==k&&null==R&&null==A||(m=tw.concat(R??tw,A??tw,k??tw),this.Pe(t)),null!=$){let i;L=$.length-1,B=L,T=$[B],sE(t)?(i=e.t(),WI(i,[e.$e(eE),e.$e(nE),this.Pe(e.h(JO))])):(this.Ue(t,e),"TEMPLATE"===t.nodeName?i=t:(i=e.t(),DI(i,t)));const r=i,o=e.De(null==m?[]:[m]);let u,f,d,p,g,v,b,w,y=0,k=0,C=t.firstChild,S=!1;if(!1!==D)for(;null!==C;)if(f=1===C.nodeType?C.getAttribute(AE):null,null!==f&&C.removeAttribute(AE),h)u=C.nextSibling,l||(S=3===C.nodeType&&""===C.textContent.trim(),S||((n=p??(p={}))[s=f||SE]??(n[s]=[])).push(C),t.removeChild(C)),C=u;else{if(null!==f)throw f=f||SE,lx(`AUR0706:${a}[${f}]`);C=C.nextSibling}if(null!=p){for(f in d={},p){for(i=e.t(),g=p[f],y=0,k=g.length;k>y;++y)v=g[y],"TEMPLATE"===v.nodeName?v.attributes.length>0?DI(i,v):DI(i,v.content):DI(i,v);w=e.De(),this.ye(i.content,w),d[f]=iR.create({name:dR(),template:i,instructions:w.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding})}R.projections=d}if(h&&(W||c.containerless)&&this.Ue(t,e),N=!h||!c.containerless&&!W&&!1!==D,N)if(t.nodeName===tE)this.ye(t.content,o);else for(C=t.firstChild;null!==C;)C=this.ye(C,o);for(T.def=iR.create({name:dR(),template:r,instructions:o.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding});B-- >0;)T=$[B],i=e.t(),b=this.Pe(e.h(JO)),WI(i,[e.$e(eE),e.$e(nE),b]),T.def=iR.create({name:dR(),template:i,needsCompile:!1,instructions:[[$[B+1]]],isStrictBinding:e.root.def.isStrictBinding});e.rows.push([T])}else{null!=m&&e.rows.push(m);let n,s,o,u,f,d,p,g=t.firstChild,v=null,b=!1,w=0,y=0;if(!1!==D)for(;null!==g;)if(s=1===g.nodeType?g.getAttribute(AE):null,null!==s&&g.removeAttribute(AE),h)n=g.nextSibling,l||(b=3===g.nodeType&&""===g.textContent.trim(),b||((i=o??(o={}))[r=s||SE]??(i[r]=[])).push(g),t.removeChild(g)),g=n;else{if(null!==s)throw s=s||SE,lx(`AUR0706:${a}[${s}]`);g=g.nextSibling}if(null!=o){for(s in v={},o){for(d=e.t(),u=o[s],w=0,y=u.length;y>w;++w)f=u[w],f.nodeName===tE?f.attributes.length>0?DI(d,f):DI(d,f.content):DI(d,f);p=e.De(),this.ye(d.content,p),v[s]=iR.create({name:dR(),template:d,instructions:p.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding})}R.projections=v}if(h&&(W||c.containerless)&&this.Ue(t,e),N=!h||!c.containerless&&!W&&!1!==D,N&&t.childNodes.length>0)for(g=t.firstChild;null!==g;)g=this.ye(g,e)}return o}Te(t,e){const n=t.parentNode,s=e.ep.parse(t.textContent,1),i=t.nextSibling;let r,o,a,c,h;if(null!==s){for(({parts:r,expressions:o}=s),(h=r[0])&&UI(n,e._e(h),t),a=0,c=o.length;c>a;++a)FI(n,t,[e.$e(eE),e.$e(nE),this.Pe(e.h(JO))]),(h=r[a+1])&&UI(n,e._e(h),t),e.rows.push([new jR(o[a],e.root.def.isStrictBinding)]);n.removeChild(t)}return i}Re(t,e,n,s){const i=pE.from(n,!0),r=e.length,o=[];let a,c,h,l,u,f,d=0,p=0;for(let g=0;g<r;++g)if(p=e.charCodeAt(g),92===p)++g;else if(58===p){for(a=e.slice(d,g);e.charCodeAt(++g)<=32;);for(d=g;g<r;++g)if(p=e.charCodeAt(g),92===p)++g;else if(59===p){c=e.slice(d,g);break}if(void 0===c&&(c=e.slice(d)),l=s.fe.parse(a,c),u=s.Ce(l),f=i.attrs[l.target],null==f)throw lx(`AUR0707:${n.name}.${l.target}`);for(null===u?(h=s.ep.parse(c,1),o.push(null===h?new IR(c,f.property):new AR(h,f.property))):(lE.node=t,lE.attr=l,lE.bindable=f,lE.def=n,o.push(u.build(lE,s.ep,s.m)));g<r&&e.charCodeAt(++g)<=32;);d=g,a=void 0,c=void 0}return aE(),o}be(t,e){const n=t,s=Pv(n.querySelectorAll("template[as-custom-element]")),i=s.length;if(0===i)return;if(i===n.childElementCount)throw lx("AUR0708");const r=new Set,o=[];for(const t of s){if(t.parentNode!==n)throw lx("AUR0709");const s=vE(t,r),i=class{},a=t.content,c=Pv(a.querySelectorAll("bindable")),h=Ox.for(i),l=new Set,u=new Set;for(const t of c){if(t.parentNode!==a)throw lx("AUR0710");const e=t.getAttribute("property");if(null===e)throw lx("AUR0711");const n=t.getAttribute("attribute");if(null!==n&&u.has(n)||l.has(e))throw lx(`AUR0712:${e}+${n}`);null!==n&&u.add(n),l.add(e),h.add({property:e,attribute:n??void 0,mode:bE(t)}),t.getAttributeNames().filter((t=>!gE.includes(t))).length,a.removeChild(t)}o.push(i),e.qe(pR({name:s,template:t},i)),n.removeChild(t)}let a=0;const c=o.length;for(;c>a;++a)vR(o[a]).dependencies.push(...e.def.dependencies??tw,...e.deps??tw)}Ee(t){return"INPUT"===t.nodeName&&1===fE[t.type]}Le(t,e){if("INPUT"===t.nodeName){const t=e;let n,s,i,r=0;for(let e=0;e<t.length&&r<3;e++)switch(i=t[e],i.to){case"model":case"value":case"matcher":n=e,r++;break;case"checked":s=e,r++}void 0!==s&&void 0!==n&&s<n&&([t[n],t[s]]=[t[s],t[n]])}}Me(t){return t.nodeName===JO&&iE(YO=VI(t))&&YO.textContent===nE&&iE(YO=VI(YO))&&YO.textContent===eE}Pe(t){return t.classList.add("au"),t}Ue(t,e){if(sE(t))return t;const n=t.parentNode,s=this.Pe(e.h(JO));return FI(n,t,[e.$e(eE),e.$e(nE),s]),n.removeChild(t),s}},sP],rM=[l$,h$,d$],oM=[NO,OO,PO,EO,MO,jO,DO,LO,BO,VO,FO,UO,WO],aM=[ZP,YP,JP,tM,eM,nM,sM,XP,hP,lP,dP,IP,RP,EP,PP,MP,NP,jP,LP,UP,FP,VP,UE,FE,rP,DP,cP,oP,aP,GP],cM=[eO,nO,JR,tO,GR,QR,XR,ZR,YR,iO,hO,rO,oO,aO,cO,sO,lO];var hM,lM;!function t(e){return{optionsProvider:e,register(t){const n={coercingOptions:{enableCoercion:!1,coerceNullish:!1}};return e(n),t.register(Ux(Fy,n.coercingOptions),...iM,...aM,...rM,...oM,...cM)},customize:n=>t(n??e)}}(nw),jx("IAurelia"),function(t){t[t.oneTime=1]="oneTime",t[t.toView=2]="toView",t[t.fromView=4]="fromView",t[t.twoWay=6]="twoWay",t[t.default=8]="default"}(hM||(hM={})),function(t){t[t.Element=1]="Element",t[t.Attribute=2]="Attribute"}(lM||(lM={}));const uM=Eb.createInterface("IGoogleMapsAPI",(t=>t.singleton(fM)));let fM=class{constructor(t){this.config=t,this._scriptPromise=null}getMapsInstance(){if(null!==this._scriptPromise)return this._scriptPromise;if(void 0===window.google||void 0===window.google.maps){let t=document.createElement("script"),e=[this.config.get("apiKey")?`key=${this.config.get("apiKey")}&`:"",this.config.get("client")?`client=${this.config.get("client")}`:"",this.config.get("apiLibraries")?`libraries=${this.config.get("apiLibraries")}`:"",this.config.get("language")?`language=${this.config.get("language")}`:"",this.config.get("region")?`region=${this.config.get("region")}`:"","callback=aureliaGoogleMapsCallback"];return t.type="text/javascript",t.async=!0,t.defer=!0,t.src=`${this.config.get("apiScript")}?${e.join("&")}`,document.body.appendChild(t),this._scriptPromise=new Promise(((e,n)=>{window.aureliaGoogleMapsCallback=()=>{e(!0)},t.onerror=t=>{n(t)}})),this._scriptPromise}return!(!window.google||!window.google.maps)&&(this._scriptPromise=new Promise((t=>{t(!0)})),this._scriptPromise)}};var dM,pM;fM=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([(dM=0,pM=Rw,function(t,e){pM(t,e,dM)}),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],fM);const gM=Eb.createInterface("IMarkerClustering",(t=>t.singleton(mM)));let mM=class{constructor(t){this.config=t}isEnabled(){return this.config.get("markerCluster")&&this.config.get("markerCluster").enable}clearMarkers(){this.markerClusterer&&this.markerClusterer.clearMarkers()}loadScript(){if(!this.isEnabled())return;let t=document.createElement("script");t.type="text/javascript",t.src=this.config.get("markerCluster").src,document.body.appendChild(t)}renderClusters(t,e){this.isEnabled()&&(this.markerClusterer=new window.MarkerClusterer(t,e,this.config.get("markerCluster")))}};mM=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([function(t,e){return function(n,s){e(n,s,t)}}(0,Rw),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],mM);class vM{}vM.BOUNDSCHANGED="bounds-change",vM.MAPCLICK="map-click",vM.MAPOVERLAYCOMPLETE="map-overlay-complete",vM.MARKERRENDERED="marker-render",vM.MARKERCLICK="marker-click",vM.MARKERMOUSEOVER="marker-mouse-over",vM.MARKERMOUSEOUT="marker-mouse-out",vM.POLYGONCLICK="polygon-click",vM.POLYGONRENDERED="polygon-render",vM.INFOWINDOWSHOW="info-window-show",vM.INFOWINDOWCLOSE="info-window-close",vM.START_MARKER_HIGHLIGHT="start-marker-highlight",vM.STOP_MARKER_HIGHLIGHT="stop-marker-highlight",vM.PAN_TO_MARKER="pan-to-marker",vM.CLEAR_MARKERS="clear-markers";var bM=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},wM=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yM=function(t,e){return function(n,s){e(n,s,t)}};let kM=class{constructor(t,e,n,s,i,r){this.element=t,this.config=e,this.googleMapsApi=n,this.markerClustering=s,this.logger=i,this.platform=r,this._currentInfoWindow=null,this.longitude=0,this.latitude=0,this.zoom=8,this.disableDefaultUi=!1,this.markers=[],this.autoUpdateBounds=!1,this.autoInfoWindow=!0,this.mapType="ROADMAP",this.options={},this.drawEnabled=!1,this.drawMode="MARKER",this.polygons=[],this.drawingControl=!0,this.drawingControlOptions={},this.map=null,this._renderedMarkers=[],this._markersSubscription=null,this._scriptPromise=null,this._mapPromise=null,this._mapResolve=null,this.drawingManager=null,this._renderedPolygons=[],this._polygonsSubscription=null,this.logger.scopeTo("aurelia2-google-maps"),e.get("apiScript")||this.logger.error("No API script is defined."),e.get("apiKey")||!1===e.get("apiKey")||e.get("client")||!1===e.get("client")||this.logger.error("No API key or client ID has been specified."),this.markerClustering.loadScript(),this._scriptPromise=this.googleMapsApi.getMapsInstance();let o=this;this._mapPromise=this._scriptPromise.then((()=>new Promise((t=>{o._mapResolve=t})))),this.element.addEventListener(vM.START_MARKER_HIGHLIGHT,(t=>{let e=o._renderedMarkers[t.detail.index];e.setIcon(e.custom.altIcon),e.setZIndex(window.google.maps.Marker.MAX_ZINDEX+1)})),this.element.addEventListener(vM.STOP_MARKER_HIGHLIGHT,(t=>{let e=o._renderedMarkers[t.detail.index];e.setIcon(e.custom.defaultIcon)})),this.element.addEventListener(vM.PAN_TO_MARKER,(t=>{o.map.panTo(o._renderedMarkers[t.detail.index].position),o.map.setZoom(17)})),this.element.addEventListener(vM.CLEAR_MARKERS,(()=>{this.clearMarkers()}))}bound(){this.markersChanged(this.markers),this.polygonsChanged(this.polygons)}clearMarkers(){this._renderedMarkers&&(this._renderedMarkers.forEach((function(t){t.setMap(null)})),this._renderedMarkers=[],this.markerClustering&&this.markerClustering.clearMarkers())}attached(){this.element.addEventListener("dragstart",(t=>{t.preventDefault()})),this.element.addEventListener("zoom_to_bounds",(()=>{this.zoomToMarkerBounds(!0)})),this._scriptPromise.then((()=>{let t=new window.google.maps.LatLng(parseFloat(this.latitude),parseFloat(this.longitude)),e=this.getMapTypeId(),n=Object.assign({},this.options,this.config.get("options"),{center:t,zoom:parseInt(this.zoom,10),disableDefaultUI:this.disableDefaultUi,mapTypeId:e});this.map=new window.google.maps.Map(this.element,n),this.mapLoaded&&this.mapLoaded(this.map),this._mapResolve(),this.map.addListener("click",(t=>{CM(vM.MAPCLICK,t,this.element),this.autoInfoWindow&&this._currentInfoWindow&&(this._currentInfoWindow.close(),CM(vM.INFOWINDOWCLOSE,{infoWindow:this._currentInfoWindow},this.element))})),this.map.addListener("dragend",(()=>{this.sendBoundsEvent()})),this.map.addListener("zoom_changed",(()=>{this.sendBoundsEvent()}))}))}sendBoundsEvent(){let t=this.map.getBounds();t&&CM(vM.BOUNDSCHANGED,{bounds:t},this.element)}renderMarker(t){return this._mapPromise.then((()=>{let e=new window.google.maps.LatLng(parseFloat(t.latitude),parseFloat(t.longitude));this.createMarker({map:this.map,position:e}).then((e=>{e.addListener("click",(()=>{CM(vM.MARKERCLICK,{marker:t,createdMarker:e},this.element),this.autoInfoWindow&&(this._currentInfoWindow&&this._currentInfoWindow.close(),e.infoWindow?(this._currentInfoWindow=e.infoWindow,e.infoWindow.open(this.map,e)):this._currentInfoWindow=null)})),e.addListener("mouseover",(()=>{CM(vM.MARKERMOUSEOVER,{marker:e},this.element),e.setZIndex(window.google.maps.Marker.MAX_ZINDEX+1)})),e.addListener("mouseout",(()=>{CM(vM.MARKERMOUSEOUT,{marker:e},this.element)})),e.addListener("dblclick",(()=>{this.map.setZoom(15),this.map.panTo(e.position)})),t.icon&&e.setIcon(t.icon),t.label&&e.setLabel(t.label),t.title&&e.setTitle(t.title),t.draggable&&e.setDraggable(t.draggable),t.infoWindow&&(e.infoWindow=new window.google.maps.InfoWindow({content:t.infoWindow.content,pixelOffset:t.infoWindow.pixelOffset,position:t.infoWindow.position,maxWidth:t.infoWindow.maxWidth,parentMarker:{...t}}),e.infoWindow.addListener("domready",(()=>{CM(vM.INFOWINDOWSHOW,{infoWindow:e.infoWindow},this.element)})),e.infoWindow.addListener("closeclick",(()=>{CM(vM.INFOWINDOWCLOSE,{infoWindow:e.infoWindow},this.element)}))),t.custom&&(e.custom=t.custom),this._renderedMarkers.push(e),CM(vM.MARKERRENDERED,{createdMarker:e,marker:t},this.element)}))}))}setOptions(t){this.map&&this.map.setOptions(t)}createMarker(t){return this._scriptPromise.then((()=>Promise.resolve(new window.google.maps.Marker(t))))}getCenter(){this._mapPromise.then((()=>Promise.resolve(this.map.getCenter())))}setCenter(t){t&&this._mapPromise.then((()=>{this.map.setCenter(t),this.sendBoundsEvent()}))}updateCenter(){this.latitude&&this.longitude&&this._mapPromise.then((()=>{let t=new window.google.maps.LatLng(parseFloat(this.latitude),parseFloat(this.longitude));t&&this.setCenter(t)}))}latitudeChanged(){this._mapPromise.then((()=>{this.platform.taskQueue.queueTask((()=>{this.updateCenter()}))}))}longitudeChanged(){this._mapPromise.then((()=>{this.platform.taskQueue.queueTask((()=>{this.updateCenter()}))}))}zoomChanged(t){this._mapPromise.then((()=>{this.platform.taskQueue.queueTask((()=>{let e=parseInt(t,10);this.map.setZoom(e)}))}))}markersChanged(t){if(console.log("Markers changed",t),this.logger.debug("Markers changed",t),this.clearMarkers(),this.markerCollectionChange(),!t.length)return;let e=[];this._mapPromise.then((()=>(e=t.map((t=>this.renderMarker(t))),e))).then((t=>{Promise.all(t).then((()=>{this.platform.taskQueue.queueTask((()=>{this.markerClustering.renderClusters(this.map,this._renderedMarkers),this.zoomToMarkerBounds()}))}))}))}markerCollectionChange(){let t=[];this.clearMarkers();for(let e of this.markers)t.push(this.renderMarker(e));Promise.all(t).then((()=>{this.markerClustering.renderClusters(this.map,this._renderedMarkers),this.platform.taskQueue.queueTask((()=>{this.zoomToMarkerBounds()}))}))}zoomToMarkerBounds(t=!1){void 0===t&&(t=!1),(t||this._renderedMarkers&&this.autoUpdateBounds)&&this._mapPromise.then((()=>{let t=new window.google.maps.LatLngBounds;for(let e of this._renderedMarkers){let n=parseFloat(e.position.lat()),s=parseFloat(e.position.lng());if(isNaN(n)||isNaN(s))return void console.warn("Marker returned NaN for lat/lng",{marker:e,lat:n,lng:s});let i=new window.google.maps.LatLng(parseFloat(e.position.lat()),parseFloat(e.position.lng()));t.extend(i)}for(let e of this._renderedPolygons)e.getPath().forEach((e=>{t.extend(e)}));this.map.fitBounds(t)}))}getMapTypeId(){return"HYBRID"===this.mapType.toUpperCase()?window.google.maps.MapTypeId.HYBRID:"SATELLITE"===this.mapType.toUpperCase()?window.google.maps.MapTypeId.SATELLITE:"TERRAIN"===this.mapType.toUpperCase()?window.google.maps.MapTypeId.TERRAIN:window.google.maps.MapTypeId.ROADMAP}initDrawingManager(t={}){return this._mapPromise.then((()=>{if(this.drawingManager)return Promise.resolve();const e=Object.assign({},{drawingMode:this.getOverlayType(this.drawMode),drawingControl:this.drawingControl,drawingControlOptions:this.drawingControlOptions},t);return this.drawingManager=new window.google.maps.drawing.DrawingManager(e),this.drawingManager.addListener("overlaycomplete",(t=>{"POLYGON"!=t.type.toUpperCase()&&"POLYLINE"!=t.type.toUpperCase()||Object.assign(t,{path:t.overlay.getPath().getArray().map((t=>({latitude:t.lat(),longitude:t.lng()}))),encode:this.encodePath(t.overlay.getPath())}),CM(vM.MAPOVERLAYCOMPLETE,t,this.element)})),Promise.resolve()}))}destroyDrawingManager(){this.drawingManager&&(this.drawingManager.setMap(null),this.drawingManager=null)}getOverlayType(t=""){switch(t.toUpperCase()){case"POLYGON":return window.google.maps.drawing.OverlayType.POLYGON;case"POLYLINE":return window.google.maps.drawing.OverlayType.POLYLINE;case"RECTANGLE":return window.google.maps.drawing.OverlayType.RECTANGLE;case"CIRCLE":return window.google.maps.drawing.OverlayType.CIRCLE;case"MARKER":return window.google.maps.drawing.OverlayType.MARKER;default:return null}}drawEnabledChanged(t,e){this.initDrawingManager().then((()=>{t&&!e?this.drawingManager.setMap(this.map):e&&!t&&this.destroyDrawingManager()}))}drawModeChanged(t=""){this.initDrawingManager().then((()=>{this.drawingManager.setOptions({drawingMode:this.getOverlayType(t)})}))}encodePath(t=[]){return window.google.maps.geometry.encoding.encodePath(t)}decodePath(t){return window.google.maps.geometry.encoding.decodePath(t)}renderPolygon(t=[]){let e=t.paths;if(!e)return;Array.isArray(e)&&(e=e.map((t=>new window.google.maps.LatLng(t.latitude,t.longitude))));let n=new window.google.maps.Polygon(Object.assign({},t,{paths:e}));n.addListener("click",(()=>{CM(vM.POLYGONCLICK,{polygon:n},this.element)})),n.setMap(this.map),t.infoWindow&&(n.infoWindow=new window.google.maps.InfoWindow({content:t.infoWindow.content,pixelOffset:t.infoWindow.pixelOffset,position:t.infoWindow.position,maxWidth:t.infoWindow.maxWidth,parentPolygon:{...t}})),CM(vM.POLYGONRENDERED,{polygon:n,polygonObject:t},this.element),this._renderedPolygons.push(n)}polygonsChanged(t){for(let t of this._renderedPolygons)t.setMap(null);this._renderedPolygons=[],this.polygonCollectionChange(),t.length&&this._mapPromise.then((()=>{Promise.all(t.map((t=>"string"==typeof t?this.decodePath(t):t))).then((t=>Promise.all(t.map(this.renderPolygon.bind(this))))).then((()=>{this.platform.taskQueue.queueTask((()=>{this.zoomToMarkerBounds()}))}))}))}polygonCollectionChange(){for(const[t,e]of this._renderedPolygons.entries())e.setMap(null),this._renderedPolygons.splice(t,1);this._mapPromise.then((()=>{for(let t of this.polygons)this.renderPolygon(t)})).then((()=>{this.platform.taskQueue.queueTask((()=>{this.zoomToMarkerBounds()}))}))}};function CM(t,e,n,s=!0){let i;window.CustomEvent?i=new CustomEvent(t,{detail:e,bubbles:s}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,s,!0,{data:e})),n.dispatchEvent(i)}bM([Tx,wM("design:type",Number)],kM.prototype,"longitude",void 0),bM([Tx,wM("design:type",Number)],kM.prototype,"latitude",void 0),bM([Tx,wM("design:type",Number)],kM.prototype,"zoom",void 0),bM([Tx,wM("design:type",Boolean)],kM.prototype,"disableDefaultUi",void 0),bM([Tx,wM("design:type",Object)],kM.prototype,"markers",void 0),bM([Tx,wM("design:type",Boolean)],kM.prototype,"autoUpdateBounds",void 0),bM([Tx,wM("design:type",Boolean)],kM.prototype,"autoInfoWindow",void 0),bM([Tx,wM("design:type",Object)],kM.prototype,"mapType",void 0),bM([Tx,wM("design:type",Object)],kM.prototype,"options",void 0),bM([Tx,wM("design:type",Object)],kM.prototype,"mapLoaded",void 0),bM([Tx,wM("design:type",Boolean)],kM.prototype,"drawEnabled",void 0),bM([Tx,wM("design:type",Object)],kM.prototype,"drawMode",void 0),bM([Tx,wM("design:type",Object)],kM.prototype,"polygons",void 0),bM([Tx,wM("design:type",Object)],kM.prototype,"drawingControl",void 0),bM([Tx,wM("design:type",Object)],kM.prototype,"drawingControlOptions",void 0),kM=bM([nR({name:"google-map",template:""}),yM(1,Rw),yM(2,uM),yM(3,gM),yM(4,uw),yM(5,$T),wM("design:paramtypes",[Element,Object,Object,Object,Object,Object])],kM);const SM=[kM],AM=function t(e){return{register:t=>(t.get(Rw).options(e),t.register(...SM)),configure:e=>t(e)}}({});var xM=n(379),$M=n.n(xM),TM=n(795),IM=n.n(TM),RM=n(569),OM=n.n(RM),EM=n(565),PM=n.n(EM),MM=n(216),NM=n.n(MM),jM=n(589),LM=n.n(jM),BM=n(970),UM={};UM.styleTagTransform=LM(),UM.setAttributes=PM(),UM.insert=OM().bind(null,"head"),UM.domAPI=IM(),UM.insertStyleElement=NM(),$M()(BM.Z,UM),BM.Z&&BM.Z.locals&&BM.Z.locals;const FM="app",VM='\n\n<div class="page">\n\t<nav>\n\t\t<a load="about">About</a>\n\t\t<a load="users">Users</a>\n\t\t<a load="weather">Weather</a>\n\t</nav>\n\t<au-viewport class="fancy-scroll"></au-viewport>\n</div>\n',DM=VM,WM=[];let qM;function _M(t){qM||(qM=vh.define({name:FM,template:VM,dependencies:WM})),t.register(qM)}const HM="about",zM="<h2>About</h2>\n<div>\n\tThis is an Aurelia 2 example app\n</div>",KM=zM,GM=[];let QM;function XM(t){QM||(QM=vh.define({name:HM,template:zM,dependencies:GM})),t.register(QM)}let ZM=class{};ZM=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Jc(e)],ZM);var YM=n(697),JM={};JM.styleTagTransform=LM(),JM.setAttributes=PM(),JM.insert=OM().bind(null,"head"),JM.domAPI=IM(),JM.insertStyleElement=NM(),$M()(YM.Z,JM),YM.Z&&YM.Z.locals&&YM.Z.locals;const tN="user",eN='\n\n\x3c!-- <div class="user-box" click.trigger="getUser(user.login)">\n\t<div class="login">${user.login}</div>\n\t<div class="avatar-box">\n\t\t<img class="avatar" src="${user.avatarUrl}" alt="">\n\t</div>\n</div> --\x3e\n<div class="scene">\n\t<div element.ref="cardPanel" class="card-panel">\n\t\t<div class="card">\n\t\t\t<img src="${user.avatarUrl}" alt="Avatar" class="card-img-top">\n\t\t\t<div class="card-body">\n\t\t\t\t<h5 class="card-title">${user.login} <i class="fa fa-file-text icon" title="Click to flip card and show user\'s bio" click.trigger="getUser(user.login)"></i></h5>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="card back">\n\t\t\t<div class="card-body">\n\t\t\t\t<h5 class="card-title user-name">${user.name} <i class="fa fa-id-badge icon" title="Click to flip card and show user\'s avatar" click.trigger="flipUser()"></i></h5>\n\t\t\t\t<div class="card-text user-location" show.bind="user.location">${user.location}</div>\n\t\t\t\t<div class="card-text user-bio" show.bind="user.bio">${user.bio}</div>\n\t\t\t\t<div class="card-text user-blog" show.bind="user.blog"><a title="${user.blog}" href="${user.blog}" target="_blank" external>Blog</a></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',nN=eN,sN=[];let iN;function rN(t){iN||(iN=vh.define({name:tN,template:eN,dependencies:sN})),t.register(iN)}const oN={maxRetries:3,interval:1e3,strategy:0};class aN{constructor(t){if(this.retryConfig={...oN,...void 0!==t?t:{}},2===this.retryConfig.strategy&&this.retryConfig.interval<=1e3)throw new Error("An interval less than or equal to 1 second is not allowed when using the exponential retry strategy")}request(t){return t.retryConfig||(t.retryConfig={...this.retryConfig},t.retryConfig.counter=0),t.retryConfig.requestClone=t.clone(),t}response(t,e){return Reflect.deleteProperty(e,"retryConfig"),t}responseError(t,e,n){const{retryConfig:s}=e,{requestClone:i}=s;return Promise.resolve().then((()=>{if(s.counter<s.maxRetries){const r=void 0===s.doRetry||s.doRetry(t,e);return Promise.resolve(r).then((r=>{if(r){s.counter++;const t=function(t){const{interval:e,strategy:n,minRandomInterval:s,maxRandomInterval:i,counter:r}=t;if("function"==typeof n)return t.strategy(r);switch(n){case 0:return cN[0](e);case 1:return cN[1](r,e);case 2:return cN[2](r,e);case 3:return cN[3](r,e,s,i);default:throw new Error("Unrecognized retry strategy")}}(s);return new Promise((e=>setTimeout(e,isNaN(t)?0:t))).then((()=>{const t=i.clone();return"function"==typeof s.beforeRetry?s.beforeRetry(t,n):t})).then((t=>{const e={...t,retryConfig:s};return n.fetch(e)}))}throw Reflect.deleteProperty(e,"retryConfig"),t}))}throw Reflect.deleteProperty(e,"retryConfig"),t}))}}const cN=[t=>t,(t,e)=>e*t,(t,e)=>1===t?e:e**t/1e3,(t,e,n=0,s=6e4)=>Math.random()*(s-n)+n];class hN{constructor(){this.baseUrl="",this.defaults={},this.interceptors=[],this.dispatcher=null}withBaseUrl(t){return this.baseUrl=t,this}withDefaults(t){return this.defaults=t,this}withInterceptor(t){return this.interceptors.push(t),this}useStandardConfiguration(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()}rejectErrorResponses(){return this.withInterceptor({response:lN})}withRetry(t){const e=new aN(t);return this.withInterceptor(e)}withDispatcher(t){return this.dispatcher=t,this}}function lN(t){if(!t.ok)throw t;return t}const uN=/^([a-z][a-z0-9+\-.]*:)?\/\//i;class fN{constructor(){this.dispatcher=null,this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[]}configure(t){let e;if("object"==typeof t)e={defaults:t};else{if("function"!=typeof t)throw new Error("invalid config");{e=new hN,e.baseUrl=this.baseUrl,e.defaults={...this.defaults},e.interceptors=this.interceptors,e.dispatcher=this.dispatcher;const n=t(e);Object.prototype.isPrototypeOf.call(hN.prototype,n)&&(e=n)}}const n=e.defaults;if(void 0!==n&&Object.prototype.isPrototypeOf.call(Headers.prototype,n.headers))throw new Error("Default headers must be a plain object.");const s=e.interceptors;if(void 0!==s&&s.length){if(s.filter((t=>Object.prototype.isPrototypeOf.call(aN.prototype,t))).length>1)throw new Error("Only one RetryInterceptor is allowed.");const t=s.findIndex((t=>Object.prototype.isPrototypeOf.call(aN.prototype,t)));if(t>=0&&t!==s.length-1)throw new Error("The retry interceptor must be the last interceptor defined.")}return this.baseUrl=e.baseUrl,this.defaults=n,this.interceptors=void 0!==e.interceptors?e.interceptors:[],this.dispatcher=e.dispatcher,this.isConfigured=!0,this}fetch(t,e){this.trackRequestStart();let n=this.buildRequest(t,e);return this.processRequest(n,this.interceptors).then((t=>{let e;if(Object.prototype.isPrototypeOf.call(Response.prototype,t))e=Promise.resolve(t);else{if(!Object.prototype.isPrototypeOf.call(Request.prototype,t))throw new Error(`An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got [${t}]`);n=t,e=fetch(n)}return this.processResponse(e,this.interceptors,n)})).then((t=>Object.prototype.isPrototypeOf.call(Request.prototype,t)?this.fetch(t):t)).then((t=>(this.trackRequestEnd(),t)),(t=>{throw this.trackRequestEnd(),t}))}buildRequest(t,e){const n=null!==this.defaults?this.defaults:{};let s,i,r;const o=function(t){const e={},n=void 0!==t?t:{};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]="function"==typeof n[t]?n[t]():n[t]);return e}(n.headers);if(Object.prototype.isPrototypeOf.call(Request.prototype,t))s=t,r=new Headers(s.headers).get("Content-Type");else{e||(e={}),i=e.body;const o=void 0!==i?{body:i}:null,a={...n,headers:{},...e,...o};r=new Headers(a.headers).get("Content-Type"),s=new Request(function(t,e){return uN.test(e)?e:(void 0!==t?t:"")+e}(this.baseUrl,t),a)}return r||(new Headers(o).has("content-type")?s.headers.set("Content-Type",new Headers(o).get("content-type")):void 0!==i&&function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(i)&&s.headers.set("Content-Type","application/json")),function(t,e){const n=void 0!==e?e:{};for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&!t.has(e)&&t.set(e,n[e])}(s.headers,o),void 0!==i&&Object.prototype.isPrototypeOf.call(Blob.prototype,i)&&i.type&&s.headers.set("Content-Type",i.type),s}get(t,e){return this.fetch(t,e)}post(t,e,n){return this.callFetch(t,e,n,"POST")}put(t,e,n){return this.callFetch(t,e,n,"PUT")}patch(t,e,n){return this.callFetch(t,e,n,"PATCH")}delete(t,e,n){return this.callFetch(t,e,n,"DELETE")}trackRequestStart(){if(this.isRequesting=!!++this.activeRequestCount,this.isRequesting&&null!==this.dispatcher){const t=new this.dispatcher.ownerDocument.defaultView.CustomEvent("aurelia-fetch-client-request-started",{bubbles:!0,cancelable:!0});setTimeout((()=>{this.dispatcher.dispatchEvent(t)}),1)}}trackRequestEnd(){if(this.isRequesting=!!--this.activeRequestCount,!this.isRequesting&&null!==this.dispatcher){const t=new this.dispatcher.ownerDocument.defaultView.CustomEvent("aurelia-fetch-client-requests-drained",{bubbles:!0,cancelable:!0});setTimeout((()=>{this.dispatcher.dispatchEvent(t)}),1)}}processRequest(t,e){return this.applyInterceptors(t,e,"request","requestError",this)}processResponse(t,e,n){return this.applyInterceptors(t,e,"response","responseError",n,this)}applyInterceptors(t,e,n,s,...i){return(void 0!==e?e:[]).reduce(((t,e)=>{const r=e[n],o=e[s];return t.then(r?t=>r.call(e,t,...i):dN,o?t=>o.call(e,t,...i):pN)}),Promise.resolve(t))}callFetch(t,e,n,s){return n||(n={}),n.method=s,e&&(n.body=e),this.fetch(t,n)}}function dN(t){return t}function pN(t){throw t}let gN=class{constructor(t){this.http=t,t.configure((t=>t.useStandardConfiguration()))}async getUsers(t){return this.http.baseUrl="https://api.github.com/users",this.http.fetch(t).then((t=>t.json()))}async getUser(t){return this.http.baseUrl="https://api.github.com/users/",this.http.fetch(t).then((t=>t.json()))}getWeatherCurrentGeosearch(t,e){const n=`?key=${t}&city=${e}`;return this.http.baseUrl="http://api.weatherbit.io/v2.0/current",this.http.fetch(n).then((t=>{if(200===t.status)return t.json();throw new Error("Invalid city")})).catch((t=>(console.error(t),{error:t})))}getWeatherIconUrl(t,e){return`https://www.weatherbit.io/static/img/icons/${e}.png?key=${t}`}};gN=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Xt(fN),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[fN])],gN);var mN=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},vN=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let bN=class{constructor(t,e){this.ea=t,this.rest=e,this.isUserRetrieved=!1,this.FLIPPED_CLASS="is-flipped"}created(){this.subscribe()}attached(){this.isUserRetrieved=!1}subscribe(){this.ea.subscribe("flipToFront",(()=>{var t;null===(t=this.cardPanel)||void 0===t||t.classList.remove(this.FLIPPED_CLASS)}))}publish(t){this.ea.publish("userSelected",t)}async getUser(t){var e;if(this.flipUser(),this.isUserRetrieved)return;const n=await this.rest.getUser(t);this.user={avatarUrl:n.avatar_url,bio:null!==(e=n.bio)&&void 0!==e?e:"",blog:n.blog,id:n.id,location:n.location,login:n.login,name:n.name},this.isUserRetrieved=!0}flipUser(){var t;null===(t=this.cardPanel)||void 0===t||t.classList.toggle(this.FLIPPED_CLASS)}};mN([Wa,vN("design:type",Object)],bN.prototype,"user",void 0),bN=mN([Jc(s),Xt(Re,gN),vN("design:paramtypes",[Re,gN])],bN);var wN=n(963),yN={};yN.styleTagTransform=LM(),yN.setAttributes=PM(),yN.insert=OM().bind(null,"head"),yN.domAPI=IM(),yN.insertStyleElement=NM(),$M()(wN.Z,yN),wN.Z&&wN.Z.locals&&wN.Z.locals;const kN="users",CN='\n\n\n<div class="container-fluid users-view">\n\t<div class="row header">\n\t\t<div class="col-md-8">\n\t\t\t<h4>\n\t\t\t\t<span if.bind="firstUser > 0">Showing users ${firstUser} to ${lastUser}</span>\n\t\t\t\t<button class="btn btn-primary" click.trigger="getUsers()">Next</button>\n\t\t\t\t<button class="btn btn-primary" click.trigger="flipUsersToFront()">Show All Faces</button>\n\t\t\t</h4>\n\t\t</div>\n\t</div>\n\t<div class="row">\n\t\t<div class="col-4 col-md-3 col-lg-2" repeat.for="user of users">\n\t\t\t<user user.bind="user"></user>\n\t\t</div>\n\t</div>\n\t<div class="row" show.bind="selectedUser">\n\t\t<div class="col-sm-4">\n\t\t\t<div class="selected-user">\n\t\t\t\t<div class="avatar-box">\n\t\t\t\t\t<img class="avatar" src="${selectedUser.avatarUrl}" alt="">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="col-sm-8">\n\t\t\t<div class="user-name" show.bind="selectedUser.name">${selectedUser.name}</div>\n\t\t\t<div class="user-location" show.bind="selectedUser.location">${selectedUser.location}</div>\n\t\t\t<div class="user-bio" show.bind="selectedUser.bio">${selectedUser.bio}</div>\n\t\t\t<div class="user-blog" show.bind="selectedUser.blog"><a href="${selectedUser.blog}" target="_blank">${selectedUser.blog}</a></div>\n\t\t</div>\n\t</div>\n</div>\n',SN=CN,AN=[i];let xN;function $N(t){xN||(xN=vh.define({name:kN,template:CN,dependencies:AN})),t.register(xN)}let TN=class{constructor(t,e){this.ea=t,this.rest=e,this.firstUser=0,this.lastUser=0}created(){this.subscribe()}attached(){this.getUsers()}subscribe(){this.ea.subscribe("userSelected",(t=>{this.selectedUser=t}))}async getUsers(){const t=await this.rest.getUsers(`?since=${this.lastUser}`);this.users=t.map((t=>({avatarUrl:t.avatar_url,bio:t.bio,blog:t.blog,id:t.id,location:t.location,login:t.login,name:t.name}))),this.users.length&&(this.firstUser=this.users[0].id,this.lastUser=this.users[this.users.length-1].id)}flipUsersToFront(){this.ea.publish("flipToFront")}};TN=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Jc(r),Xt(Re,gN),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Re,gN])],TN);const IN="weather",RN='\x3c!-- <import from=\'font-awesome/less/font-awesome.less\'></import> --\x3e\n\n\n<section class="au-animate">\n\t<div>\n\t\t<form class="form-horizontal" role="form" submit.trigger="submit()">\n\t\t\t<h2 class="bold ${myClass}">${heading}</h2>\n\t\t\t<div class="form-group">\n\t\t\t\t<label class="col-sm-1 control-label" for="">City:</label>\n\t\t\t\t<div class="input-group col-sm-3">\n\t\t\t\t\t<input type="text" class="form-control" value.bind="city" placeholder="City" />\n\t\t\t\t\t<span class="input-group-btn">\n\t\t\t\t\t\t<button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="no-data" show.bind="!currentWeather">${error}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label class="col-sm-1 control-label" for=""></label>\n\t\t\t\t<span class="converted-city">${selectedCity | upper}</span>\n\t\t\t</div>\n\t\t</form>\n\t\t<div class="container-fluid">\n\t\t\t<div class="row">\n\t\t\t\t<span class="current-weather" if.bind="currentWeather">${weather}</span>\n\t\t\t\t<img class="current-weather-icon" src.bind="iconUrl" if.bind="currentWeather" />\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<current-weather view-model.ref="weatherWidget" city.bind="cityToWeather"></current-weather>\n\t\t\t\t<current-weather view-model.ref="weatherWidget2" city.bind="cityToWeather"></current-weather>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</section>\n<section>\n\t\x3c!-- <google-map class="map-box" view-model.ref="gmap" address.bind="mapOptions.address" zoom.bind="mapOptions.zoom"></google-map> --\x3e\n\t\x3c!-- <google-map class="map-box" address.bind="mapOptions.address" zoom.bind="mapOptions.zoom"></google-map> --\x3e\n\t<google-map class="map-box" latitude.bind="mapOptions.lat" longitude.bind="mapOptions.lon" zoom.bind="mapOptions.zoom"></google-map>\n</section>\n',ON=RN,EN=[];let PN;function MN(t){PN||(PN=vh.define({name:IN,template:RN,dependencies:EN})),t.register(PN)}let NN=class{constructor(t){this.rest=t,this.heading="Weather in selected city",this.city="New York",this.apiKey="AIzaSyBDpatbgT78e3gupI5NgbFsyoS7_P9fUcY",this.mapOptions={address:"",zoom:12,lat:40.71427,lon:-74.00597},this.myClass=Math.random()>.5?"benny":""}created(){this.cityToWeather=this.city}attached(){}get selectedCity(){return this.city}get weather(){let t="City not found";if(this.currentWeather&&this.currentWeather.count){const e=this.currentWeather.data[0];t=`${Math.round(e.temp).toString()} degrees. ${e.weather.description}`}return t}submit(){return this.weatherWidget.getWeatherCurrentGeosearch(),this.weatherWidget2.getWeatherCurrentGeosearch(),this.cityToWeather=this.city,!1}getWeatherCurrentGeosearch(){this.rest.getWeatherCurrentGeosearch(this.apiKey,this.city).then((t=>{if(!t)throw new Error("No response");if(t.error)throw t.error;this.currentWeather=t,this.iconUrl=this.rest.getWeatherIconUrl(this.apiKey,this.currentWeather.data[0].weather.icon);const e=`${this.city}, ${this.currentWeather.data[0].country_code}`;this.gmap.address!==e&&this.gmap.clearMarkers(),this.mapOptions.address=e})).catch((t=>{this.currentWeather=null,this.error=t}))}};NN=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Jc(o),Xt(gN),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[gN])],NN);let jN=class{};jN.routes=[{path:["","about"],component:ZM},{path:"users",component:TN},{path:"weather",component:NN}],jN=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Jc(t)],jN);var LN=n(372),BN={};BN.styleTagTransform=LM(),BN.setAttributes=PM(),BN.insert=OM().bind(null,"head"),BN.domAPI=IM(),BN.insertStyleElement=NM(),$M()(LN.Z,BN),LN.Z&&LN.Z.locals&&LN.Z.locals;const UN="current-weather",FN='\n\n<div class="-container-fluid current-weather" if.bind="currentWeather">\n\t<div class="-row">\n\t\t<div class="-col-xs-2">\n\t\t\t<img class="current-weather-icon" src.bind="iconUrl" if.bind="currentWeather" />\n\t\t</div>\n\t</div>\n\t<div class="-row">\n\t\t<div class="-col-xs-2">\n\t\t\t<span class="temperature" if.bind="currentWeather">${temperature}</span><span class="temperature-units" if.bind="currentWeather"><sup>&deg;</sup></span>\n\t\t\t<span class="weather-description" if.bind="currentWeather">${weatherDescription}</span>\n\t\t</div>\n\t</div>\n</div>\n',VN=FN,DN=[];let WN;function qN(t){WN||(WN=vh.define({name:UN,template:FN,dependencies:DN})),t.register(WN)}var _N=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},HN=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let zN=class{constructor(t){this.rest=t,this.apiKey="37cb5829e9494a46ae209ab5417df674",this.temperatureUnits="C"}get temperature(){var t;let e="";if(null===(t=this.currentWeather)||void 0===t?void 0:t.count){const t=this.currentWeather.data[0];e=`${Math.round(t.temp).toString()}`}return e}get weatherDescription(){var t;let e="";return(null===(t=this.currentWeather)||void 0===t?void 0:t.count)&&(e=`${this.currentWeather.data[0].weather.description}`),e}cityChanged(t,e){this.getWeatherCurrentGeosearch()}getWeatherCurrentGeosearch(){this.rest.getWeatherCurrentGeosearch(this.apiKey,this.city).then((t=>{if(!t)throw new Error("No response");if(t.error)throw t.error;this.currentWeather=t,this.iconUrl=this.rest.getWeatherIconUrl(this.apiKey,this.currentWeather.data[0].weather.icon)})).catch((t=>{this.currentWeather=null,this.error=t}))}};_N([Wa,HN("design:type",String)],zN.prototype,"city",void 0),zN=_N([Jc(a),Xt(gN),HN("design:paramtypes",[gN])],zN);const KN={register(t){t.register(zN)}};let GN=class{toView(t){return t&&t.toUpperCase()}};GN=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([Th("upper")],GN);const QN={register(t){t.register(gN,GN)}};qm.register(Dm,KN,QN).register(AM.configure({apiKey:"AIzaSyBDpatbgT78e3gupI5NgbFsyoS7_P9fUcY",apiLibraries:"geometry",options:{panControl:!0,panControlOptions:{position:9},zoom:12}})).app(jN).start()})()})();
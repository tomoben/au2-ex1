"use strict";(self.webpackChunkau2_ex1=self.webpackChunkau2_ex1||[]).push([[454],{9454:(t,e,r)=>{r.r(e),r.d(e,{Weather:()=>m});var n={};r.r(n),r.d(n,{default:()=>o,dependencies:()=>c,name:()=>s,register:()=>h,template:()=>i});var a=r(9134);const s="weather",i='\x3c!-- <import from=\'font-awesome/less/font-awesome.less\'></import> --\x3e\n\n\n<section class="au-animate">\n\t<div>\n\t\t<form class="form-horizontal" role="form" submit.trigger="submit()">\n\t\t\t<h2 class="bold ${myClass}">${heading}</h2>\n\t\t\t<div class="form-group">\n\t\t\t\t<label class="col-sm-1 control-label" for="">City:</label>\n\t\t\t\t<div class="input-group col-sm-3">\n\t\t\t\t\t<input type="text" class="form-control" value.bind="city" placeholder="City" />\n\t\t\t\t\t<span class="input-group-btn">\n\t\t\t\t\t\t<button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="no-data" show.bind="!currentWeather">${error}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label class="col-sm-1 control-label" for=""></label>\n\t\t\t\t<span class="converted-city">${selectedCity | upper}</span>\n\t\t\t</div>\n\t\t</form>\n\t\t<div class="container-fluid">\n\t\t\t<div class="row">\n\t\t\t\t<span class="current-weather" if.bind="currentWeather">${weather}</span>\n\t\t\t\t<img class="current-weather-icon" src.bind="iconUrl" if.bind="currentWeather" />\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<current-weather view-model.ref="weatherWidget" city.bind="cityToWeather"></current-weather>\n\t\t\t\t<current-weather view-model.ref="weatherWidget2" city.bind="cityToWeather"></current-weather>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</section>\n<section>\n\t\x3c!-- <google-map class="map-box" view-model.ref="gmap" address.bind="mapOptions.address" zoom.bind="mapOptions.zoom"></google-map> --\x3e\n\t\x3c!-- <google-map class="map-box" address.bind="mapOptions.address" zoom.bind="mapOptions.zoom"></google-map> --\x3e\n\t<google-map class="map-box" latitude.bind="mapOptions.lat" longitude.bind="mapOptions.lon" zoom.bind="mapOptions.zoom"></google-map>\n</section>\n',o=i,c=[];let l;function h(t){l||(l=a.b_N.define({name:s,template:i,dependencies:c})),t.register(l)}var d=r(9344),p=r(3909),u=(r(1932),function(t,e,r,n){var a,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i});let m=class{constructor(t){this.rest=t,this.heading="Weather in selected city",this.city="New York",this.apiKey="AIzaSyBDpatbgT78e3gupI5NgbFsyoS7_P9fUcY",this.mapOptions={address:"",zoom:12,lat:40.71427,lon:-74.00597},this.myClass=Math.random()>.5?"benny":""}created(){this.cityToWeather=this.city}attached(){}get selectedCity(){return this.city}get weather(){let t="City not found";if(this.currentWeather&&this.currentWeather.count){const e=this.currentWeather.data[0];t=`${Math.round(e.temp).toString()} degrees. ${e.weather.description}`}return t}submit(){return this.weatherWidget.getWeatherCurrentGeosearch(),this.weatherWidget2.getWeatherCurrentGeosearch(),this.cityToWeather=this.city,!1}getWeatherCurrentGeosearch(){this.rest.getWeatherCurrentGeosearch(this.apiKey,this.city).then((t=>{if(!t)throw new Error("No response");if(t.error)throw t.error;this.currentWeather=t,this.iconUrl=this.rest.getWeatherIconUrl(this.apiKey,this.currentWeather.data[0].weather.icon);const e=`${this.city}, ${this.currentWeather.data[0].country_code}`;this.gmap.address!==e&&this.gmap.clearMarkers(),this.mapOptions.address=e})).catch((t=>{this.currentWeather=null,this.error=t}))}};m=u([(0,a.MoW)(n),(0,d.f3)(p.k),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[p.k])],m)}}]);